var yg=Object.create;var us=Object.defineProperty,Dg=Object.defineProperties,_g=Object.getOwnPropertyDescriptor,Eg=Object.getOwnPropertyDescriptors,Cg=Object.getOwnPropertyNames,el=Object.getOwnPropertySymbols,wg=Object.getPrototypeOf,nl=Object.prototype.hasOwnProperty,bg=Object.prototype.propertyIsEnumerable;var tl=(e,t,n)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ce=(e,t)=>{for(var n in t||={})nl.call(t,n)&&tl(e,n,t[n]);if(el)for(var n of el(t))bg.call(t,n)&&tl(e,n,t[n]);return e},Ae=(e,t)=>Dg(e,Eg(t));var ls=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ig=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cg(t))!nl.call(e,i)&&i!==n&&us(e,i,{get:()=>t[i],enumerable:!(r=_g(t,i))||r.enumerable});return e};var ds=(e,t,n)=>(n=e!=null?yg(wg(e)):{},Ig(t||!e||!e.__esModule?us(n,"default",{value:e,enumerable:!0}):n,e));var $=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var zh=ls((qh,Gh)=>{"use strict";(function(e){if(typeof qh=="object")Gh.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch(n){t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(p,g){return p+g&4294967295},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(p,g,d,h,v,D){return g=t(t(g,p),t(h,D)),t(g<<v|g>>>32-v,d)}function i(p,g){var d=p[0],h=p[1],v=p[2],D=p[3];d+=(h&v|~h&D)+g[0]-680876936|0,d=(d<<7|d>>>25)+h|0,D+=(d&h|~d&v)+g[1]-389564586|0,D=(D<<12|D>>>20)+d|0,v+=(D&d|~D&h)+g[2]+606105819|0,v=(v<<17|v>>>15)+D|0,h+=(v&D|~v&d)+g[3]-1044525330|0,h=(h<<22|h>>>10)+v|0,d+=(h&v|~h&D)+g[4]-176418897|0,d=(d<<7|d>>>25)+h|0,D+=(d&h|~d&v)+g[5]+1200080426|0,D=(D<<12|D>>>20)+d|0,v+=(D&d|~D&h)+g[6]-1473231341|0,v=(v<<17|v>>>15)+D|0,h+=(v&D|~v&d)+g[7]-45705983|0,h=(h<<22|h>>>10)+v|0,d+=(h&v|~h&D)+g[8]+1770035416|0,d=(d<<7|d>>>25)+h|0,D+=(d&h|~d&v)+g[9]-1958414417|0,D=(D<<12|D>>>20)+d|0,v+=(D&d|~D&h)+g[10]-42063|0,v=(v<<17|v>>>15)+D|0,h+=(v&D|~v&d)+g[11]-1990404162|0,h=(h<<22|h>>>10)+v|0,d+=(h&v|~h&D)+g[12]+1804603682|0,d=(d<<7|d>>>25)+h|0,D+=(d&h|~d&v)+g[13]-40341101|0,D=(D<<12|D>>>20)+d|0,v+=(D&d|~D&h)+g[14]-1502002290|0,v=(v<<17|v>>>15)+D|0,h+=(v&D|~v&d)+g[15]+1236535329|0,h=(h<<22|h>>>10)+v|0,d+=(h&D|v&~D)+g[1]-165796510|0,d=(d<<5|d>>>27)+h|0,D+=(d&v|h&~v)+g[6]-1069501632|0,D=(D<<9|D>>>23)+d|0,v+=(D&h|d&~h)+g[11]+643717713|0,v=(v<<14|v>>>18)+D|0,h+=(v&d|D&~d)+g[0]-373897302|0,h=(h<<20|h>>>12)+v|0,d+=(h&D|v&~D)+g[5]-701558691|0,d=(d<<5|d>>>27)+h|0,D+=(d&v|h&~v)+g[10]+38016083|0,D=(D<<9|D>>>23)+d|0,v+=(D&h|d&~h)+g[15]-660478335|0,v=(v<<14|v>>>18)+D|0,h+=(v&d|D&~d)+g[4]-405537848|0,h=(h<<20|h>>>12)+v|0,d+=(h&D|v&~D)+g[9]+568446438|0,d=(d<<5|d>>>27)+h|0,D+=(d&v|h&~v)+g[14]-1019803690|0,D=(D<<9|D>>>23)+d|0,v+=(D&h|d&~h)+g[3]-187363961|0,v=(v<<14|v>>>18)+D|0,h+=(v&d|D&~d)+g[8]+1163531501|0,h=(h<<20|h>>>12)+v|0,d+=(h&D|v&~D)+g[13]-1444681467|0,d=(d<<5|d>>>27)+h|0,D+=(d&v|h&~v)+g[2]-51403784|0,D=(D<<9|D>>>23)+d|0,v+=(D&h|d&~h)+g[7]+1735328473|0,v=(v<<14|v>>>18)+D|0,h+=(v&d|D&~d)+g[12]-1926607734|0,h=(h<<20|h>>>12)+v|0,d+=(h^v^D)+g[5]-378558|0,d=(d<<4|d>>>28)+h|0,D+=(d^h^v)+g[8]-2022574463|0,D=(D<<11|D>>>21)+d|0,v+=(D^d^h)+g[11]+1839030562|0,v=(v<<16|v>>>16)+D|0,h+=(v^D^d)+g[14]-35309556|0,h=(h<<23|h>>>9)+v|0,d+=(h^v^D)+g[1]-1530992060|0,d=(d<<4|d>>>28)+h|0,D+=(d^h^v)+g[4]+1272893353|0,D=(D<<11|D>>>21)+d|0,v+=(D^d^h)+g[7]-155497632|0,v=(v<<16|v>>>16)+D|0,h+=(v^D^d)+g[10]-1094730640|0,h=(h<<23|h>>>9)+v|0,d+=(h^v^D)+g[13]+681279174|0,d=(d<<4|d>>>28)+h|0,D+=(d^h^v)+g[0]-358537222|0,D=(D<<11|D>>>21)+d|0,v+=(D^d^h)+g[3]-722521979|0,v=(v<<16|v>>>16)+D|0,h+=(v^D^d)+g[6]+76029189|0,h=(h<<23|h>>>9)+v|0,d+=(h^v^D)+g[9]-640364487|0,d=(d<<4|d>>>28)+h|0,D+=(d^h^v)+g[12]-421815835|0,D=(D<<11|D>>>21)+d|0,v+=(D^d^h)+g[15]+530742520|0,v=(v<<16|v>>>16)+D|0,h+=(v^D^d)+g[2]-995338651|0,h=(h<<23|h>>>9)+v|0,d+=(v^(h|~D))+g[0]-198630844|0,d=(d<<6|d>>>26)+h|0,D+=(h^(d|~v))+g[7]+1126891415|0,D=(D<<10|D>>>22)+d|0,v+=(d^(D|~h))+g[14]-1416354905|0,v=(v<<15|v>>>17)+D|0,h+=(D^(v|~d))+g[5]-57434055|0,h=(h<<21|h>>>11)+v|0,d+=(v^(h|~D))+g[12]+1700485571|0,d=(d<<6|d>>>26)+h|0,D+=(h^(d|~v))+g[3]-1894986606|0,D=(D<<10|D>>>22)+d|0,v+=(d^(D|~h))+g[10]-1051523|0,v=(v<<15|v>>>17)+D|0,h+=(D^(v|~d))+g[1]-2054922799|0,h=(h<<21|h>>>11)+v|0,d+=(v^(h|~D))+g[8]+1873313359|0,d=(d<<6|d>>>26)+h|0,D+=(h^(d|~v))+g[15]-30611744|0,D=(D<<10|D>>>22)+d|0,v+=(d^(D|~h))+g[6]-1560198380|0,v=(v<<15|v>>>17)+D|0,h+=(D^(v|~d))+g[13]+1309151649|0,h=(h<<21|h>>>11)+v|0,d+=(v^(h|~D))+g[4]-145523070|0,d=(d<<6|d>>>26)+h|0,D+=(h^(d|~v))+g[11]-1120210379|0,D=(D<<10|D>>>22)+d|0,v+=(d^(D|~h))+g[2]+718787259|0,v=(v<<15|v>>>17)+D|0,h+=(D^(v|~d))+g[9]-343485551|0,h=(h<<21|h>>>11)+v|0,p[0]=d+p[0]|0,p[1]=h+p[1]|0,p[2]=v+p[2]|0,p[3]=D+p[3]|0}function o(p){var g=[],d;for(d=0;d<64;d+=4)g[d>>2]=p.charCodeAt(d)+(p.charCodeAt(d+1)<<8)+(p.charCodeAt(d+2)<<16)+(p.charCodeAt(d+3)<<24);return g}function s(p){var g=[],d;for(d=0;d<64;d+=4)g[d>>2]=p[d]+(p[d+1]<<8)+(p[d+2]<<16)+(p[d+3]<<24);return g}function a(p){var g=p.length,d=[1732584193,-271733879,-1732584194,271733878],h,v,D,N,x,A;for(h=64;h<=g;h+=64)i(d,o(p.substring(h-64,h)));for(p=p.substring(h-64),v=p.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=0;h<v;h+=1)D[h>>2]|=p.charCodeAt(h)<<(h%4<<3);if(D[h>>2]|=128<<(h%4<<3),h>55)for(i(d,D),h=0;h<16;h+=1)D[h]=0;return N=g*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(N[2],16),A=parseInt(N[1],16)||0,D[14]=x,D[15]=A,i(d,D),d}function c(p){var g=p.length,d=[1732584193,-271733879,-1732584194,271733878],h,v,D,N,x,A;for(h=64;h<=g;h+=64)i(d,s(p.subarray(h-64,h)));for(p=h-64<g?p.subarray(h-64):new Uint8Array(0),v=p.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=0;h<v;h+=1)D[h>>2]|=p[h]<<(h%4<<3);if(D[h>>2]|=128<<(h%4<<3),h>55)for(i(d,D),h=0;h<16;h+=1)D[h]=0;return N=g*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(N[2],16),A=parseInt(N[1],16)||0,D[14]=x,D[15]=A,i(d,D),d}function l(p){var g="",d;for(d=0;d<4;d+=1)g+=n[p>>d*8+4&15]+n[p>>d*8&15];return g}function f(p){var g;for(g=0;g<p.length;g+=1)p[g]=l(p[g]);return p.join("")}f(a("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(p,g){var d=(p&65535)+(g&65535),h=(p>>16)+(g>>16)+(d>>16);return h<<16|d&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function p(g,d){return g=g|0||0,g<0?Math.max(g+d,0):Math.min(g,d)}ArrayBuffer.prototype.slice=function(g,d){var h=this.byteLength,v=p(g,h),D=h,N,x,A,V;return d!==e&&(D=p(d,h)),v>D?new ArrayBuffer(0):(N=D-v,x=new ArrayBuffer(N),A=new Uint8Array(x),V=new Uint8Array(this,v,N),A.set(V),x)}})();function u(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function m(p,g){var d=p.length,h=new ArrayBuffer(d),v=new Uint8Array(h),D;for(D=0;D<d;D+=1)v[D]=p.charCodeAt(D);return g?v:h}function y(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function E(p,g,d){var h=new Uint8Array(p.byteLength+g.byteLength);return h.set(new Uint8Array(p)),h.set(new Uint8Array(g),p.byteLength),d?h:h.buffer}function w(p){var g=[],d=p.length,h;for(h=0;h<d-1;h+=2)g.push(parseInt(p.substr(h,2),16));return String.fromCharCode.apply(String,g)}function _(){this.reset()}return _.prototype.append=function(p){return this.appendBinary(u(p)),this},_.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var g=this._buff.length,d;for(d=64;d<=g;d+=64)i(this._hash,o(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},_.prototype.end=function(p){var g=this._buff,d=g.length,h,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D;for(h=0;h<d;h+=1)v[h>>2]|=g.charCodeAt(h)<<(h%4<<3);return this._finish(v,d),D=f(this._hash),p&&(D=w(D)),this.reset(),D},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(p,g){var d=g,h,v,D;if(p[d>>2]|=128<<(d%4<<3),d>55)for(i(this._hash,p),d=0;d<16;d+=1)p[d]=0;h=this._length*8,h=h.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(h[2],16),D=parseInt(h[1],16)||0,p[14]=v,p[15]=D,i(this._hash,p)},_.hash=function(p,g){return _.hashBinary(u(p),g)},_.hashBinary=function(p,g){var d=a(p),h=f(d);return g?w(h):h},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(p){var g=E(this._buff.buffer,p,!0),d=g.length,h;for(this._length+=p.byteLength,h=64;h<=d;h+=64)i(this._hash,s(g.subarray(h-64,h)));return this._buff=h-64<d?new Uint8Array(g.buffer.slice(h-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(p){var g=this._buff,d=g.length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v,D;for(v=0;v<d;v+=1)h[v>>2]|=g[v]<<(v%4<<3);return this._finish(h,d),D=f(this._hash),p&&(D=w(D)),this.reset(),D},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var p=_.prototype.getState.call(this);return p.buff=y(p.buff),p},_.ArrayBuffer.prototype.setState=function(p){return p.buff=m(p.buff,!0),_.prototype.setState.call(this,p)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(p,g){var d=c(new Uint8Array(p)),h=f(d);return g?w(h):h},_})});var Qh=ls(nu=>{"use strict";nu.stringify=function(t){var n=[];n.push({obj:t});for(var r="",i,o,s,a,c,l,f,u,m,y,E;i=n.pop();)if(o=i.obj,s=i.prefix||"",a=i.val||"",r+=s,a)r+=a;else if(typeof o!="object")r+=typeof o>"u"?null:JSON.stringify(o);else if(o===null)r+="null";else if(Array.isArray(o)){for(n.push({val:"]"}),c=o.length-1;c>=0;c--)l=c===0?"":",",n.push({obj:o[c],prefix:l});n.push({val:"["})}else{f=[];for(u in o)o.hasOwnProperty(u)&&f.push(u);for(n.push({val:"}"}),c=f.length-1;c>=0;c--)m=f[c],y=o[m],E=c>0?",":"",E+=JSON.stringify(m)+":",n.push({obj:y,prefix:E});n.push({val:"{"})}return r};function yr(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var s=t.pop();i[s]=e}else t.push(e)}nu.parse=function(e){for(var t=[],n=[],r=0,i,o,s,a,c,l,f,u,m;;){if(i=e[r++],i==="}"||i==="]"||typeof i>"u"){if(t.length===1)return t.pop();yr(t.pop(),t,n);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":r+=3,yr(null,t,n);break;case"t":r+=3,yr(!0,t,n);break;case"f":r+=4,yr(!1,t,n);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(o="",r--;;)if(s=e[r++],/[\d\.\-e\+]/.test(s))o+=s;else{r--;break}yr(parseFloat(o),t,n);break;case'"':for(a="",c=void 0,l=0;f=e[r++],f!=='"'||c==="\\"&&l%2===1;)a+=f,c=f,c==="\\"?l++:l=0;yr(JSON.parse('"'+a+'"'),t,n);break;case"[":u={element:[],index:t.length},t.push(u.element),n.push(u);break;case"{":m={element:{},index:t.length},t.push(m.element),n.push(m);break;default:throw new Error("unexpectedly reached end of input: "+i)}}}});var ap=ls((qk,ru)=>{"use strict";var Dr=typeof Reflect=="object"?Reflect:null,Yh=Dr&&typeof Dr.apply=="function"?Dr.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Lo;Dr&&typeof Dr.ownKeys=="function"?Lo=Dr.ownKeys:Object.getOwnPropertySymbols?Lo=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Lo=function(t){return Object.getOwnPropertyNames(t)};function F_(e){console&&console.warn&&console.warn(e)}var Xh=Number.isNaN||function(t){return t!==t};function ge(){ge.init.call(this)}ru.exports=ge;ru.exports.once=j_;ge.EventEmitter=ge;ge.prototype._events=void 0;ge.prototype._eventsCount=0;ge.prototype._maxListeners=void 0;var Jh=10;function Vo(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ge,"defaultMaxListeners",{enumerable:!0,get:function(){return Jh},set:function(e){if(typeof e!="number"||e<0||Xh(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Jh=e}});ge.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ge.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Xh(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ep(e){return e._maxListeners===void 0?ge.defaultMaxListeners:e._maxListeners}ge.prototype.getMaxListeners=function(){return ep(this)};ge.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")Yh(c,this,n);else for(var l=c.length,f=op(c,l),r=0;r<l;++r)Yh(f[r],this,n);return!0};function tp(e,t,n,r){var i,o,s;if(Vo(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=ep(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,F_(a)}return e}ge.prototype.addListener=function(t,n){return tp(this,t,n,!1)};ge.prototype.on=ge.prototype.addListener;ge.prototype.prependListener=function(t,n){return tp(this,t,n,!0)};function P_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function np(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=P_.bind(r);return i.listener=n,r.wrapFn=i,i}ge.prototype.once=function(t,n){return Vo(n),this.on(t,np(this,t,n)),this};ge.prototype.prependOnceListener=function(t,n){return Vo(n),this.prependListener(t,np(this,t,n)),this};ge.prototype.removeListener=function(t,n){var r,i,o,s,a;if(Vo(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():L_(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};ge.prototype.off=ge.prototype.removeListener;ge.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function rp(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?V_(i):op(i,i.length)}ge.prototype.listeners=function(t){return rp(this,t,!0)};ge.prototype.rawListeners=function(t){return rp(this,t,!1)};ge.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ip.call(e,t)};ge.prototype.listenerCount=ip;function ip(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ge.prototype.eventNames=function(){return this._eventsCount>0?Lo(this._events):[]};function op(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function L_(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function V_(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function j_(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}sp(e,t,o,{once:!0}),t!=="error"&&B_(e,i,{once:!0})})}function B_(e,t,n){typeof e.on=="function"&&sp(e,"error",t,n)}function sp(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Be=null,yi=!1,gs=1,Sg=null,rt=Symbol("SIGNAL");function q(e){let t=Be;return Be=e,t}function _i(){return Be}var Wn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ms(e){if(yi)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(e);let t=Be.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Be.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Be.producers,n!==void 0&&n.producer===e)){Be.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Be&&(!r||Tg(i,Be)))return;let o=Kn(Be),s={producer:e,consumer:Be,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Be.producersTail=s,t!==void 0?t.nextProducer=s:Be.producers=s,o&&sl(e,s)}function rl(){gs++}function vs(e){if(!(Kn(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===gs)){if(!e.producerMustRecompute(e)&&!Ci(e)){ps(e);return}e.producerRecomputeValue(e),ps(e)}}function ys(e){if(e.consumers===void 0)return;let t=yi;yi=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Mg(r)}}finally{yi=t}}function Ds(){return Be?.consumerAllowSignalWrites!==!1}function Mg(e){e.dirty=!0,ys(e),e.consumerMarkedDirty?.(e)}function ps(e){e.dirty=!1,e.lastCleanEpoch=gs}function Mr(e){return e&&il(e),q(e)}function il(e){e.producersTail=void 0,e.recomputing=!0}function Ei(e,t){q(t),e&&ol(e)}function ol(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Kn(e))do n=_s(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Ci(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(vs(n),r!==n.version))return!0}return!1}function Zn(e){if(Kn(e)){let t=e.producers;for(;t!==void 0;)t=_s(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function sl(e,t){let n=e.consumersTail,r=Kn(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)sl(i.producer,i)}function _s(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Kn(t)){let o=t.producers;for(;o!==void 0;)o=_s(o)}return n}function Kn(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Es(e){Sg?.(e)}function Tg(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cs(e,t){return Object.is(e,t)}function wi(e,t){let n=Object.create(Ag);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(vs(n),ms(n),n.value===Di)throw n.error;return n.value};return r[rt]=n,Es(n),r}var fs=Symbol("UNSET"),hs=Symbol("COMPUTING"),Di=Symbol("ERRORED"),Ag=Ae(Ce({},Wn),{value:fs,dirty:!0,error:null,equal:Cs,kind:"computed",producerMustRecompute(e){return e.value===fs||e.value===hs},producerRecomputeValue(e){if(e.value===hs)throw new Error("");let t=e.value;e.value=hs;let n=Mr(e),r,i=!1;try{r=e.computation(),q(null),i=t!==fs&&t!==Di&&r!==Di&&e.equal(t,r)}catch(o){r=Di,e.error=o}finally{Ei(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Ng(){throw new Error}var al=Ng;function cl(e){al(e)}function ws(e){al=e}var xg=null;function bs(e,t){let n=Object.create(dl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>ul(n);return r[rt]=n,Es(n),[r,s=>Is(n,s),s=>ll(n,s)]}function ul(e){return ms(e),e.value}function Is(e,t){Ds()||cl(e),e.equal(e.value,t)||(e.value=t,Rg(e))}function ll(e,t){Ds()||cl(e),Is(e,t(e.value))}var dl=Ae(Ce({},Wn),{equal:Cs,value:void 0,kind:"signal"});function Rg(e){e.version++,rl(),ys(e),xg?.(e)}var Ss=Ae(Ce({},Wn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ms(e){if(e.dirty=!1,e.version>0&&!Ci(e))return;e.version++;let t=Mr(e);try{e.cleanup(),e.fn()}finally{Ei(e,t)}}function Ke(e){return typeof e=="function"}function bi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ii=bi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ke(r))try{r()}catch(o){t=o instanceof Ii?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fl(o)}catch(s){t=t??[],s instanceof Ii?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ii(t)}}add(t){var n;if(t&&t!==this)if(this.closed)fl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Tr(n,t)}remove(t){let{_finalizers:n}=this;n&&Tr(n,t),t instanceof e&&t._removeParent(this)}};Ue.EMPTY=(()=>{let e=new Ue;return e.closed=!0,e})();var Ts=Ue.EMPTY;function Si(e){return e instanceof Ue||e&&"closed"in e&&Ke(e.remove)&&Ke(e.add)&&Ke(e.unsubscribe)}function fl(e){Ke(e)?e():e.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qn={setTimeout(e,t,...n){let{delegate:r}=Qn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Qn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function hl(e){Qn.setTimeout(()=>{let{onUnhandledError:t}=pt;if(t)t(e);else throw e})}function As(){}var pl=Ns("C",void 0,void 0);function gl(e){return Ns("E",void 0,e)}function ml(e){return Ns("N",e,void 0)}function Ns(e,t,n){return{kind:e,value:t,error:n}}var on=null;function Yn(e){if(pt.useDeprecatedSynchronousErrorHandling){let t=!on;if(t&&(on={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=on;if(on=null,n)throw r}}else e()}function vl(e){pt.useDeprecatedSynchronousErrorHandling&&on&&(on.errorThrown=!0,on.error=e)}var sn=class extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Si(t)&&t.add(this)):this.destination=Fg}static create(t,n,r){return new Jn(t,n,r)}next(t){this.isStopped?Rs(ml(t),this):this._next(t)}error(t){this.isStopped?Rs(gl(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Rs(pl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Og=Function.prototype.bind;function xs(e,t){return Og.call(e,t)}var Os=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Mi(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Mi(r)}else Mi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Mi(n)}}},Jn=class extends sn{constructor(t,n,r){super();let i;if(Ke(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&xs(t.next,o),error:t.error&&xs(t.error,o),complete:t.complete&&xs(t.complete,o)}):i=t}this.destination=new Os(i)}};function Mi(e){pt.useDeprecatedSynchronousErrorHandling?vl(e):hl(e)}function kg(e){throw e}function Rs(e,t){let{onStoppedNotification:n}=pt;n&&Qn.setTimeout(()=>n(e,t))}var Fg={closed:!0,next:As,error:kg,complete:As};var yl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dl(e){return e}function _l(e){return e.length===0?Dl:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Xn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Lg(n)?n:new Jn(n,r,i);return Yn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=El(r),new r((i,o)=>{let s=new Jn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yl](){return this}pipe(...n){return _l(n)(this)}toPromise(n){return n=El(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function El(e){var t;return(t=e??pt.Promise)!==null&&t!==void 0?t:Promise}function Pg(e){return e&&Ke(e.next)&&Ke(e.error)&&Ke(e.complete)}function Lg(e){return e&&e instanceof sn||Pg(e)&&Si(e)}function Vg(e){return Ke(e?.lift)}function Cl(e){return t=>{if(Vg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wl(e,t,n,r,i){return new ks(e,t,n,r,i)}var ks=class extends sn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var bl=bi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Kt=(()=>{class e extends Xn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ti(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bl}next(n){Yn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ts:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Xn;return n.source=this,n}}return e.create=(t,n)=>new Ti(t,n),e})(),Ti=class extends Kt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Ts}};var Ar=class extends Kt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function Fs(e,t){return Cl((n,r)=>{let i=0;n.subscribe(wl(r,o=>{r.next(e.call(t,o,i++))}))})}var Ps;function Ai(){return Ps}function Mt(e){let t=Ps;return Ps=e,t}var Il=Symbol("NotFound");function er(e){return e===Il||e?.name==="\u0275NotFound"}var ee=class extends Error{code;constructor(t,n){super(Ks(t,n)),this.code=t}};function Bg(e){return`NG0${Math.abs(e)}`}function Ks(e,t){return`${Bg(e)}${t?": "+t:""}`}function fe(e){for(let t in e)if(e[t]===fe)return t;throw Error("")}function Nl(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function cn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(cn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Qs(e,t){return e?t?`${e} ${t}`:e:t||""}var Hg=fe({__forward_ref__:fe});function hn(e){return e.__forward_ref__=hn,e.toString=function(){return cn(this())},e}function ke(e){return Ys(e)?e():e}function Ys(e){return typeof e=="function"&&e.hasOwnProperty(Hg)&&e.__forward_ref__===hn}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pi(e){return $g(e,Li)}function $g(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Ug(e){let t=e?.[Li]??null;return t||null}function Vs(e){return e&&e.hasOwnProperty(xi)?e[xi]:null}var Li=fe({\u0275prov:fe}),xi=fe({\u0275inj:fe}),te=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=le({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Js(e){return e&&!!e.\u0275providers}var Xs=fe({\u0275cmp:fe}),ea=fe({\u0275dir:fe}),ta=fe({\u0275pipe:fe});var xr=fe({\u0275fac:fe}),pn=fe({__NG_ELEMENT_ID__:fe}),Sl=fe({__NG_ENV_ID__:fe});function Pr(e){return ra(e,"@Component"),e[Xs]||null}function na(e){return ra(e,"@Directive"),e[ea]||null}function xl(e){return ra(e,"@Pipe"),e[ta]||null}function ra(e,t){if(e==null)throw new ee(-919,!1)}function Rl(e){return typeof e=="string"?e:e==null?"":String(e)}var Ol=fe({ngErrorCode:fe}),qg=fe({ngErrorMessage:fe}),Gg=fe({ngTokenPath:fe});function ia(e,t){return kl("",-200,t)}function Vi(e,t){throw new ee(-201,!1)}function kl(e,t,n){let r=new ee(t,e);return r[Ol]=t,r[qg]=e,n&&(r[Gg]=n),r}function zg(e){return e[Ol]}var js;function Fl(){return js}function Je(e){let t=js;return js=e,t}function oa(e,t,n){let r=Pi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Vi(e,"")}var Wg={},an=Wg,Zg="__NG_DI_FLAG__",Bs=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=un(n)||0;try{return this.injector.get(t,r&8?null:an,r)}catch(i){if(er(i))return i;throw i}}};function Kg(e,t=0){let n=Ai();if(n===void 0)throw new ee(-203,!1);if(n===null)return oa(e,void 0,t);{let r=Qg(t),i=n.retrieve(e,r);if(er(i)){if(r.optional)return null;throw i}return i}}function ae(e,t=0){return(Fl()||Kg)(ke(e),t)}function B(e,t){return ae(e,un(t))}function un(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qg(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Hs(e){let t=[];for(let n=0;n<e.length;n++){let r=ke(e[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=Yg(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(ae(i,o))}else t.push(ae(r))}return t}function Yg(e){return e[Zg]}function ln(e,t){let n=e.hasOwnProperty(xr);return n?e[xr]:null}function ji(e,t){e.forEach(n=>Array.isArray(n)?ji(n,t):t(n))}function Pl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function sa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var en={},it=[],nr=new te(""),aa=new te("",-1),ca=new te(""),Rr=class{get(t,n=an){if(n===an){let i=kl("",-201);throw i.name="\u0275NotFound",i}return n}};function Bi(e){return{\u0275providers:e}}function Ll(e){return Bi([{provide:nr,multi:!0,useValue:e}])}function Vl(...e){return{\u0275providers:ua(!0,e),\u0275fromNgModule:!0}}function ua(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ji(t,s=>{let a=s;Ri(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jl(i,o),n}function jl(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];la(i,o=>{t(o,r)})}}function Ri(e,t,n,r){if(e=ke(e),!e)return!1;let i=null,o=Vs(e),s=!o&&Pr(e);if(!o&&!s){let c=e.ngModule;if(o=Vs(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ri(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;ji(o.imports,f=>{Ri(f,t,n,r)&&(l||=[],l.push(f))}),l!==void 0&&jl(l,t)}if(!a){let l=ln(i)||(()=>new i);t({provide:i,useFactory:l,deps:it},i),t({provide:ca,useValue:i,multi:!0},i),t({provide:nr,useValue:()=>ae(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;la(c,f=>{t(f,l)})}}else return!1;return i!==e&&e.providers!==void 0}function la(e,t){for(let n of e)Js(n)&&(n=n.\u0275providers),Array.isArray(n)?la(n,t):t(n)}var Jg=fe({provide:String,useValue:fe});function Bl(e){return e!==null&&typeof e=="object"&&Jg in e}function Xg(e){return!!(e&&e.useExisting)}function em(e){return!!(e&&e.useFactory)}function dn(e){return typeof e=="function"}function Hl(e){return!!e.useClass}var Lr=new te(""),Ni={},Ml={},Ls;function Vr(){return Ls===void 0&&(Ls=new Rr),Ls}var gt=class{},fn=class extends gt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Us(t,s=>this.processProvider(s)),this.records.set(aa,tr(void 0,this)),i.has("environment")&&this.records.set(gt,tr(void 0,this));let o=this.records.get(Lr);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ca,it,{self:!0}))}retrieve(t,n){let r=un(n)||0;try{return this.get(t,an,r)}catch(i){if(er(i))return i;throw i}}destroy(){Nr(this),this._destroyed=!0;let t=q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(t)}}onDestroy(t){return Nr(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Nr(this);let n=Mt(this),r=Je(void 0),i;try{return t()}finally{Mt(n),Je(r)}}get(t,n=an,r){if(Nr(this),t.hasOwnProperty(Sl))return t[Sl](this);let i=un(r),o,s=Mt(this),a=Je(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let f=om(t)&&Pi(t);f&&this.injectableDefInScope(f)?l=tr($s(t),Ni):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Vr():this.parent;return n=i&8&&n===an?null:n,c.get(t,n)}catch(c){let l=zg(c);throw l===-200||l===-201?new ee(l,null):c}finally{Je(a),Mt(s)}}resolveInjectorInitializers(){let t=q(null),n=Mt(this),r=Je(void 0),i;try{let o=this.get(nr,it,{self:!0});for(let s of o)s()}finally{Mt(n),Je(r),q(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(cn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ke(t);let n=dn(t)?t:ke(t&&t.provide),r=nm(t);if(!dn(t)&&t.multi===!0){let i=this.records.get(n);i||(i=tr(void 0,Ni,!0),i.factory=()=>Hs(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=q(null);try{if(n.value===Ml)throw ia(cn(t));return n.value===Ni&&(n.value=Ml,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&im(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{q(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ke(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $s(e){let t=Pi(e),n=t!==null?t.factory:ln(e);if(n!==null)return n;if(e instanceof te)throw new ee(204,!1);if(e instanceof Function)return tm(e);throw new ee(204,!1)}function tm(e){if(e.length>0)throw new ee(204,!1);let n=Ug(e);return n!==null?()=>n.factory(e):()=>new e}function nm(e){if(Bl(e))return tr(void 0,e.useValue);{let t=da(e);return tr(t,Ni)}}function da(e,t,n){let r;if(dn(e)){let i=ke(e);return ln(i)||$s(i)}else if(Bl(e))r=()=>ke(e.useValue);else if(em(e))r=()=>e.useFactory(...Hs(e.deps||[]));else if(Xg(e))r=(i,o)=>ae(ke(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ke(e&&(e.useClass||e.provide));if(rm(e))r=()=>new i(...Hs(e.deps));else return ln(i)||$s(i)}return r}function Nr(e){if(e.destroyed)throw new ee(205,!1)}function tr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function rm(e){return!!e.deps}function im(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function om(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Us(e,t){for(let n of e)Array.isArray(n)?Us(n,t):n&&Js(n)?Us(n.\u0275providers,t):t(n)}function Hi(e,t){let n;e instanceof fn?(Nr(e),n=e):n=new Bs(e);let r,i=Mt(n),o=Je(void 0);try{return t()}finally{Mt(i),Je(o)}}function $l(){return Fl()!==void 0||Ai()!=null}var mt=0,W=1,z=2,qe=3,ot=4,vt=5,rr=6,ir=7,we=8,Ht=9,$t=10,Oe=11,or=12,fa=13,gn=14,et=15,mn=16,vn=17,yn=18,Ut=19,ha=20,Bt=21,$i=22,Qt=23,tt=24,Dn=25,_n=26,Fe=27,Ul=1,pa=6,sr=7,ql=8,jr=9,Me=10;function xt(e){return Array.isArray(e)&&typeof e[Ul]=="object"}function qt(e){return Array.isArray(e)&&e[Ul]===!0}function ga(e){return(e.flags&4)!==0}function tn(e){return e.componentOffset>-1}function Ui(e){return(e.flags&1)===1}function Rt(e){return!!e.template}function ar(e){return(e[z]&512)!==0}function En(e){return(e[z]&256)===256}var Gl="svg",zl="math";function yt(e){for(;Array.isArray(e);)e=e[mt];return e}function Wl(e,t){return yt(t[e])}function Gt(e,t){return yt(t[e.index])}function Br(e,t){return e.data[t]}function st(e,t){let n=t[e];return xt(n)?n:n[mt]}function qi(e){return(e[z]&128)===128}function Ot(e,t){return t==null?null:e[t]}function ma(e){e[vn]=0}function va(e){e[z]&1024||(e[z]|=1024,qi(e)&&Cn(e))}function Zl(e,t){for(;e>0;)t=t[gn],e--;return t}function Hr(e){return!!(e[z]&9216||e[tt]?.dirty)}function Gi(e){e[$t].changeDetectionScheduler?.notify(8),e[z]&64&&(e[z]|=1024),Hr(e)&&Cn(e)}function Cn(e){e[$t].changeDetectionScheduler?.notify(0);let t=Yt(e);for(;t!==null&&!(t[z]&8192||(t[z]|=8192,!qi(t)));)t=Yt(t)}function ya(e,t){if(En(e))throw new ee(911,!1);e[Bt]===null&&(e[Bt]=[]),e[Bt].push(t)}function Kl(e,t){if(e[Bt]===null)return;let n=e[Bt].indexOf(t);n!==-1&&e[Bt].splice(n,1)}function Yt(e){let t=e[qe];return qt(t)?t[qe]:t}function Ql(e){return e[ir]??=[]}function Yl(e){return e.cleanup??=[]}var re={lFrame:ud(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qs=!1;function Jl(){return re.lFrame.elementDepthCount}function Xl(){re.lFrame.elementDepthCount++}function Da(){re.lFrame.elementDepthCount--}function ed(){return re.bindingsEnabled}function td(){return re.skipHydrationRootTNode!==null}function _a(e){return re.skipHydrationRootTNode===e}function Ea(){re.skipHydrationRootTNode=null}function ye(){return re.lFrame.lView}function Dt(){return re.lFrame.tView}function $r(e){return re.lFrame.contextLView=e,e[we]}function Ur(e){return re.lFrame.contextLView=null,e}function at(){let e=Ca();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ca(){return re.lFrame.currentTNode}function nd(){let e=re.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function cr(e,t){let n=re.lFrame;n.currentTNode=e,n.isParent=t}function wa(){return re.lFrame.isParent}function rd(){re.lFrame.isParent=!1}function ba(){return qs}function Or(e){let t=qs;return qs=e,t}function id(e){return re.lFrame.bindingIndex=e}function qr(){return re.lFrame.bindingIndex++}function od(){return re.lFrame.inI18n}function sd(e,t){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=e,zi(t)}function ad(){return re.lFrame.currentDirectiveIndex}function zi(e){re.lFrame.currentDirectiveIndex=e}function Ia(e){re.lFrame.currentQueryIndex=e}function sm(e){let t=e[W];return t.type===2?t.declTNode:t.type===1?e[vt]:null}function Sa(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=sm(o),i===null||(o=o[gn],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=re.lFrame=cd();return r.currentTNode=t,r.lView=e,!0}function Wi(e){let t=cd(),n=e[W];re.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function cd(){let e=re.lFrame,t=e===null?null:e.child;return t===null?ud(e):t}function ud(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ld(){let e=re.lFrame;return re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ma=ld;function Zi(){let e=ld();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dd(e){return(re.lFrame.contextLView=Zl(e,re.lFrame.contextLView))[we]}function Gr(){return re.lFrame.selectedIndex}function nn(e){re.lFrame.selectedIndex=e}function fd(){let e=re.lFrame;return Br(e.tView,e.selectedIndex)}function hd(){return re.lFrame.currentNamespace}var pd=!0;function Ki(){return pd}function Qi(e){pd=e}function Gs(e,t=null,n=null,r){let i=gd(e,t,n,r);return i.resolveInjectorInitializers(),i}function gd(e,t=null,n=null,r,i=new Set){let o=[n||it,Vl(e)];return r=r||(typeof e=="object"?void 0:cn(e)),new fn(o,t||Vr(),r||null,i)}var At=class e{static THROW_IF_NOT_FOUND=an;static NULL=new Rr;static create(t,n){if(Array.isArray(t))return Gs({name:""},n,t,"");{let r=t.name??"";return Gs({name:r},t.parent,t.providers,r)}}static \u0275prov=le({token:e,providedIn:"any",factory:()=>ae(aa)});static __NG_ELEMENT_ID__=-1},ct=new te(""),zt=(()=>{class e{static __NG_ELEMENT_ID__=am;static __NG_ENV_ID__=n=>n}return e})(),Oi=class extends zt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return En(this._lView)}onDestroy(t){let n=this._lView;return ya(n,t),()=>Kl(n,t)}};function am(){return new Oi(ye())}var md=!1,vd=new te(""),ur=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ar(!1);debugTaskTracker=B(vd,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Xn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=le({token:e,providedIn:"root",factory:()=>new e})}return e})(),zs=class extends Kt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,$l()&&(this.destroyRef=B(zt,{optional:!0})??void 0,this.pendingTasks=B(ur,{optional:!0})??void 0)}emit(t){let n=q(null);try{super.next(t)}finally{q(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ue&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Tt=zs;function ki(...e){}function Ta(e){let t,n;function r(){e=ki;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch(i){}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function yd(e){return queueMicrotask(()=>e()),()=>{e=ki}}var Aa="isAngularZone",kr=Aa+"_ID",cm=0,Xe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Tt(!1);onMicrotaskEmpty=new Tt(!1);onStable=new Tt(!1);onError=new Tt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=md}=t;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,dm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Aa)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ee(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,um,ki,ki);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},um={};function Na(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lm(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Ta(()=>{e.callbackScheduled=!1,Ws(e),e.isCheckStableRunning=!0,Na(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ws(e)}function dm(e){let t=()=>{lm(e)},n=cm++;e._inner=e._inner.fork({name:"angular",properties:{[Aa]:!0,[kr]:n,[kr+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(fm(c))return r.invokeTask(o,s,a,c);try{return Tl(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Al(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Tl(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!hm(c)&&t(),Al(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ws(e),Na(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ws(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Tl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Al(e){e._nesting--,Na(e)}var Fr=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Tt;onMicrotaskEmpty=new Tt;onStable=new Tt;onError=new Tt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function fm(e){return Dd(e,"__ignore_ng_zone__")}function hm(e){return Dd(e,"__scheduler_tick__")}function Dd(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},wn=new te("",{factory:()=>{let e=B(Xe),t=B(gt),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Nt),n.handleError(r))})}}}),_d={provide:nr,useValue:()=>{let e=B(Nt,{optional:!0})},multi:!0},pm=new te("",{factory:()=>{let e=B(ct).defaultView;if(!e)return;let t=B(wn),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),B(zt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function xa(){return Bi([Ll(()=>{B(pm)})])}function Ge(e,t){let[n,r,i]=bs(e,t?.equal),o=n,s=o[rt];return o.set=r,o.update=i,o.asReadonly=Ed.bind(o),o}function Ed(){let e=this[rt];if(e.readonlyFn===void 0){let t=()=>this();t[rt]=e,e.readonlyFn=t}return e.readonlyFn}var zr=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=gm}return e})();function gm(){return new zr(ye(),at())}var Jt=class{},Wr=new te("",{factory:()=>!0});var Ra=new te("");var Yi=(()=>{class e{static \u0275prov=le({token:e,providedIn:"root",factory:()=>new Zs})}return e})(),Zs=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Fi=class{[rt];constructor(t){this[rt]=t}destroy(){this[rt].destroy()}};function Zr(e,t){let n=t?.injector??B(At),r=t?.manualCleanup!==!0?n.get(zt):null,i,o=n.get(zr,null,{optional:!0}),s=n.get(Jt);return o!==null?(i=ym(o.view,s,e),r instanceof Oi&&r._lView===o.view&&(r=null)):i=Dm(e,n.get(Yi),s),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Fi(i)}var Cd=Ae(Ce({},Ss),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=Or(!1);try{Ms(this)}finally{Or(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=q(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],q(e)}}}),mm=Ae(Ce({},Cd),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Zn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),vm=Ae(Ce({},Cd),{consumerMarkedDirty(){this.view[z]|=8192,Cn(this.view),this.notifier.notify(13)},destroy(){if(Zn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[Qt]?.delete(this)}});function ym(e,t,n){let r=Object.create(vm);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=wd(r,n),e[Qt]??=new Set,e[Qt].add(r),r.consumerMarkedDirty(r),r}function Dm(e,t,n){let r=Object.create(mm);return r.fn=wd(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function wd(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function Xr(e){return{toString:e}.toString()}function Qd(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var to=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Rm(e){return e.type.prototype.ngOnChanges&&(e.setInput=km),Om}function Om(){let e=Jd(this),t=e?.current;if(t){let n=e.previous;if(n===en)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function km(e,t,n,r,i){let o=this.declaredInputs[r],s=Jd(e)||Fm(e,{previous:en,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new to(l&&l.currentValue,n,c===en),Qd(e,t,i,n)}var Yd="__ngSimpleChanges__";function Jd(e){return e[Yd]||null}function Fm(e,t){return e[Yd]=t}var bd=[];var ce=function(e,t=null,n){for(let r=0;r<bd.length;r++){let i=bd[r];i(e,t,n)}},ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(ie||{});function Pm(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Rm(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Lm(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function Ji(e,t,n){Xd(e,t,3,n)}function Xi(e,t,n,r){(e[z]&3)===n&&Xd(e,t,n,r)}function Oa(e,t){let n=e[z];(n&3)===t&&(n&=16383,n+=1,e[z]=n)}function Xd(e,t,n,r){let i=r!==void 0?e[vn]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[vn]+=65536),(a<o||o==-1)&&(Vm(e,n,t,c),e[vn]=(e[vn]&4294901760)+c+2),c++}function Id(e,t){ce(ie.LifecycleHookStart,e,t);let n=q(null);try{t.call(e)}finally{q(n),ce(ie.LifecycleHookEnd,e,t)}}function Vm(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[z]>>14<e[vn]>>16&&(e[z]&3)===t&&(e[z]+=16384,Id(a,o)):Id(a,o)}var dr=-1,bn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function jm(e){return(e.flags&8)!==0}function Bm(e){return(e.flags&16)!==0}function Hm(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];Um(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function $m(e){return e===3||e===4||e===6}function Um(e){return e.charCodeAt(0)===64}function fr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sd(e,n,i,null,t[++r]):Sd(e,n,i,null,null))}}return e}function Sd(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function qm(e){return e!==dr}function Ha(e){return e&32767}function Gm(e){return e>>16}function $a(e,t){let n=Gm(e),r=t;for(;n>0;)r=r[gn],n--;return r}var Ua=!0;function Md(e){let t=Ua;return Ua=e,t}var zm=256,ef=zm-1,tf=5,Wm=0,kt={};function Zm(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pn)&&(r=n[pn]),r==null&&(r=n[pn]=Wm++);let i=r&ef,o=1<<i;t.data[e+(i>>tf)]|=o}function no(e,t){let n=nf(e,t);if(n!==-1)return n;let r=t[W];r.firstCreatePass&&(e.injectorIndex=t.length,ka(r.data,e),ka(t,null),ka(r.blueprint,null));let i=rf(e,t),o=e.injectorIndex;if(qm(i)){let s=Ha(i),a=$a(i,t),c=a[W].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function ka(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nf(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function rf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=uf(i),r===null)return dr;if(n++,i=i[gn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return dr}function qa(e,t,n){Zm(e,t,n)}function of(e,t,n){if(n&8||e!==void 0)return e;Vi(t,"NodeInjector")}function sf(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Ht],o=Je(void 0);try{return i?i.get(t,r,n&8):oa(t,r,n&8)}finally{Je(o)}}return of(r,t,n)}function af(e,t,n,r=0,i){if(e!==null){if(t[z]&2048&&!(r&2)){let s=Xm(e,t,n,r,kt);if(s!==kt)return s}let o=cf(e,t,n,r,kt);if(o!==kt)return o}return sf(t,n,r,i)}function cf(e,t,n,r,i){let o=Ym(n);if(typeof o=="function"){if(!Sa(t,e,r))return r&1?of(i,n,r):sf(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vi(n);else return s}finally{Ma()}}else if(typeof o=="number"){let s=null,a=nf(e,t),c=dr,l=r&1?t[et][vt]:null;for((a===-1||r&4)&&(c=a===-1?rf(e,t):t[a+8],c===dr||!Ad(r,!1)?a=-1:(s=t[W],a=Ha(c),t=$a(c,t)));a!==-1;){let f=t[W];if(Td(o,a,f.data)){let u=Km(a,t,n,s,r,l);if(u!==kt)return u}c=t[a+8],c!==dr&&Ad(r,t[W].data[a+8]===l)&&Td(o,a,t)?(s=f,a=Ha(c),t=$a(c,t)):a=-1}}return i}function Km(e,t,n,r,i,o){let s=t[W],a=s.data[e+8],c=r==null?tn(a)&&Ua:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=Qm(a,s,n,c,l);return f!==null?ro(t,s,f,a,i):kt}function Qm(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,f=o>>20,u=r?a:a+f,m=i?a+f:l;for(let y=u;y<m;y++){let E=s[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(i){let y=s[c];if(y&&Rt(y)&&y.type===n)return c}return null}function ro(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof bn){let a=o;if(a.resolving)throw ia("");let c=Md(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,u=a.injectImpl?Je(a.injectImpl):null,m=Sa(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&Pm(n,s[n],t)}finally{u!==null&&Je(u),Md(c),a.resolving=!1,Ma()}}return o}function Ym(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(pn)?e[pn]:void 0;return typeof t=="number"?t>=0?t&ef:Jm:t}function Td(e,t,n){let r=1<<e;return!!(n[t+(e>>tf)]&r)}function Ad(e,t){return!(e&2)&&!(e&1&&t)}var io=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return af(this._tNode,this._lView,t,un(r),n)}};function Jm(){return new io(at(),ye())}function ei(e){return Xr(()=>{let t=e.prototype.constructor,n=t[xr]||Ga(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[xr]||Ga(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ga(e){return Ys(e)?()=>{let t=Ga(ke(e));return t&&t()}:ln(e)}function Xm(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[z]&2048&&!ar(s);){let a=cf(o,s,n,r|2,kt);if(a!==kt)return a;let c=o.parent;if(!c){let l=s[ha];if(l){let f=l.get(n,kt,r);if(f!==kt)return f}c=uf(s),s=s[gn]}o=c}return i}function uf(e){let t=e[W],n=t.type;return n===2?t.declTNode:n===1?e[vt]:null}function ev(){return lf(at(),ye())}function lf(e,t){return new Mn(Gt(e,t))}var Mn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ev}return e})();function df(e){return(e.flags&128)===128}var uc=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(uc||{}),ff=new Map,tv=0;function nv(){return tv++}function rv(e){ff.set(e[Ut],e)}function za(e){ff.delete(e[Ut])}var Nd="__ngContext__";function hr(e,t){xt(t)?(e[Nd]=t[Ut],rv(t)):e[Nd]=t}function hf(e){return gf(e[or])}function pf(e){return gf(e[ot])}function gf(e){for(;e!==null&&!qt(e);)e=e[ot];return e}var iv;function lc(e){iv=e}var po=new te("",{factory:()=>ov}),ov="ng";var go=new te(""),ti=new te("",{providedIn:"platform",factory:()=>"unknown"});var mo=new te("",{factory:()=>B(ct).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mf="r";var vf="di";var yf=!1,Df=new te("",{factory:()=>yf});var sv=(e,t,n,r)=>{};function av(e,t,n,r){sv(e,t,n,r)}function dc(e){return(e.flags&32)===32}var cv=()=>null;function _f(e,t,n=!1){return cv(e,t,n)}function Ef(e,t){let n=e.contentQueries;if(n!==null){let r=q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Ia(o),a.contentQueries(2,t[s],s)}}}finally{q(r)}}}function Wa(e,t,n){Ia(0);let r=q(null);try{t(e,n)}finally{q(r)}}function Cf(e,t,n){if(ga(t)){let r=q(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{q(r)}}}var Et=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Et||{});function uv(e,t){return e.createText(t)}function lv(e,t,n){e.setValue(t,n)}function wf(e,t,n){return e.createElement(t,n)}function Za(e,t,n,r,i){e.insertBefore(t,n,r,i)}function bf(e,t,n){e.appendChild(t,n)}function xd(e,t,n,r,i){r!==null?Za(e,t,n,r,i):bf(e,t,n)}function If(e,t,n,r){e.removeChild(null,t,n,r)}function dv(e,t,n){e.setAttribute(t,"style",n)}function fv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sf(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Hm(e,t,r),i!==null&&fv(e,t,i),o!==null&&dv(e,t,o)}function fc(e){return e.ownerDocument.defaultView}function hv(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Mf="ng-template";function pv(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&hv(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hc(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hc(e){return e.type===4&&e.value!==Mf}function gv(e,t,n){let r=e.type===4&&!n?Mf:e.value;return t===r}function mv(e,t,n){let r=4,i=e.attrs,o=i!==null?Dv(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!_t(r)&&!_t(c))return!1;if(s&&_t(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!gv(e,c,n)||c===""&&t.length===1){if(_t(r))return!1;s=!0}}else if(r&8){if(i===null||!pv(e,i,c,n)){if(_t(r))return!1;s=!0}}else{let l=t[++a],f=vv(c,i,hc(e),n);if(f===-1){if(_t(r))return!1;s=!0;continue}if(l!==""){let u;if(f>o?u="":u=i[f+1].toLowerCase(),r&2&&l!==u){if(_t(r))return!1;s=!0}}}}return _t(r)||s}function _t(e){return(e&1)===0}function vv(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _v(t,e)}function yv(e,t,n=!1){for(let r=0;r<t.length;r++)if(mv(e,t[r],n))return!0;return!1}function Dv(e){for(let t=0;t<e.length;t++){let n=e[t];if($m(n))return t}return e.length}function _v(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Rd(e,t){return e?":not("+t.trim()+")":t}function Ev(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_t(s)&&(t+=Rd(o,i),i=""),r=s,o=o||!_t(r);n++}return i!==""&&(t+=Rd(o,i)),t}function Cv(e){return e.map(Ev).join(",")}function wv(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!_t(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Tn={};function pc(e,t,n,r,i,o,s,a,c,l,f){let u=Fe+r,m=u+i,y=bv(u,m),E=typeof l=="function"?l():l;return y[W]={type:e,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:f}}function bv(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Tn);return n}function Iv(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=pc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gc(e,t,n,r,i,o,s,a,c,l,f){let u=t.blueprint.slice();return u[mt]=i,u[z]=r|4|128|8|64|1024,(l!==null||e&&e[z]&2048)&&(u[z]|=2048),ma(u),u[qe]=u[gn]=e,u[we]=n,u[$t]=s||e&&e[$t],u[Oe]=a||e&&e[Oe],u[Ht]=c||e&&e[Ht]||null,u[vt]=o,u[Ut]=nv(),u[rr]=f,u[ha]=l,u[et]=t.type==2?e[et]:u,u}function Sv(e,t,n){let r=Gt(t,e),i=Iv(n),o=e[$t].rendererFactory,s=Nf(e,gc(e,i,null,Tf(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Tf(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Af(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Nf(e,t){return e[or]?e[fa][ot]=t:e[or]=t,e[fa]=t,t}function me(e=1){xf(Dt(),ye(),Gr()+e,!1)}function xf(e,t,n,r){if(!r)if((t[z]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ji(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Xi(t,o,0,n)}nn(n)}var vo=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(vo||{});function Ka(e,t,n,r){let i=q(null);try{let[o,s,a]=e.inputs[n],c=null;(s&vo.SignalBased)!==0&&(c=t[o][rt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Qd(t,c,o,r)}finally{q(i)}}var An=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(An||{}),Mv;function mc(e,t){return Mv(e,t)}var In=new Set,yo=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(yo||{}),Nn=new te(""),Od=new Set;function xn(e){Od.has(e)||(Od.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var vc=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=le({token:e,providedIn:"root",factory:()=>new e})}return e})(),Rf=[0,1,2,3],Of=(()=>{class e{ngZone=B(Xe);scheduler=B(Jt);errorHandler=B(Nt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){B(Nn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ce(ie.AfterRenderHooksStart),this.executing=!0;for(let r of Rf)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ce(ie.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Dn]??=[]).push(n),Cn(r),r[z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(yo.AFTER_NEXT_RENDER,n):n()}static \u0275prov=le({token:e,providedIn:"root",factory:()=>new e})}return e})(),oo=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Dn];t&&(this.view[Dn]=t.filter(n=>n!==this))}};function yc(e,t){let n=t?.injector??B(At);return xn("NgAfterNextRender"),Av(e,n,t,!0)}function Tv(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Av(e,t,n,r){let i=t.get(vc);i.impl??=t.get(Of);let o=t.get(Nn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(zt):null,a=t.get(zr,null,{optional:!0}),c=new oo(i.impl,Tv(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Dc=new te("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:B(gt)})});function kf(e,t,n){let r=e.get(Dc);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function Nv(e,t){let n=e.get(Dc);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function xv(e,t){for(let[n,r]of t)kf(e,r.animateFns)}function Rv(e,t){let n=e.get(Dc);if(Array.isArray(t))for(let r of t)n.queue.delete(r);else n.queue.delete(t)}function kd(e,t,n,r){let i=e?.[_n]?.enter;t!==null&&i&&i.has(n.index)&&xv(r,i)}function lr(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;qt(i)?c=i:xt(i)&&(l=!0,i=i[mt]);let f=yt(i);e===0&&r!==null?(kd(a,r,o,n),s==null?bf(t,r,f):Za(t,r,f,s||null,!0)):e===1&&r!==null?(kd(a,r,o,n),Za(t,r,f,s||null,!0)):e===2?Fd(a,o,n,u=>{If(t,f,l,u)}):e===3&&Fd(a,o,n,()=>{t.destroyNode(f)}),c!=null&&Gv(t,e,n,c,o,r,s)}}function Ov(e,t){Ff(e,t),t[mt]=null,t[vt]=null}function kv(e,t,n,r,i,o){r[mt]=i,r[vt]=t,Do(e,r,n,1,i,o)}function Ff(e,t){t[$t].changeDetectionScheduler?.notify(9),Do(e,t,t[Oe],2,null,null)}function Fv(e){let t=e[or];if(!t)return Fa(e[W],e);for(;t;){let n=null;if(xt(t))n=t[or];else{let r=t[Me];r&&(n=r)}if(!n){for(;t&&!t[ot]&&t!==e;)xt(t)&&Fa(t[W],t),t=t[qe];t===null&&(t=e),xt(t)&&Fa(t[W],t),n=t&&t[ot]}t=n}}function _c(e,t){let n=e[jr],r=n.indexOf(t);n.splice(r,1)}function Ec(e,t){if(En(t))return;let n=t[Oe];n.destroyNode&&Do(e,t,n,3,null,null),Fv(t)}function Fa(e,t){if(En(t))return;let n=q(null);try{t[z]&=-129,t[z]|=256,t[tt]&&Zn(t[tt]),Vv(e,t),Lv(e,t),t[W].type===1&&t[Oe].destroy();let r=t[mn];if(r!==null&&qt(t[qe])){r!==t[qe]&&_c(r,t);let i=t[yn];i!==null&&i.detachView(e)}za(t)}finally{q(n)}}function Fd(e,t,n,r){let i=e?.[_n];if(i?.enter?.has(t.index)&&Rv(n,i.enter.get(t.index).animateFns),i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&In.add(e[Ut]),kf(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Pv(e,r)}else e&&In.delete(e[Ut]),r(!1)},i)}function Pv(e,t){let n=e[_n]?.running;if(n){n.then(()=>{e[_n].running=void 0,In.delete(e[Ut]),t(!0)});return}t(!1)}function Lv(e,t){let n=e.cleanup,r=t[ir];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ir]=null);let i=t[Bt];if(i!==null){t[Bt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Qt];if(o!==null){t[Qt]=null;for(let s of o)s.destroy()}}function Vv(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof bn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ce(ie.LifecycleHookStart,a,c);try{c.call(a)}finally{ce(ie.LifecycleHookEnd,a,c)}}else{ce(ie.LifecycleHookStart,i,o);try{o.call(i)}finally{ce(ie.LifecycleHookEnd,i,o)}}}}}function jv(e,t,n){return Bv(e,t.parent,n)}function Bv(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[mt];if(tn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Et.None||i===Et.Emulated)return null}return Gt(r,n)}function Hv(e,t,n){return Uv(e,t,n)}function $v(e,t,n){return e.type&40?Gt(e,n):null}var Uv=$v,Pd;function Cc(e,t,n,r){let i=jv(e,r,t),o=t[Oe],s=r.parent||t[vt],a=Hv(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)xd(o,i,n[c],a,!1);else xd(o,i,n,a,!1);Pd!==void 0&&Pd(o,r,t,n,i)}function Kr(e,t){if(t!==null){let n=t.type;if(n&3)return Gt(t,e);if(n&4)return Qa(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Kr(e,r);{let i=e[t.index];return qt(i)?Qa(-1,i):yt(i)}}else{if(n&128)return Kr(e,t.next);if(n&32)return mc(t,e)()||yt(e[t.index]);{let r=Pf(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Yt(e[et]);return Kr(i,r)}else return Kr(e,t.next)}}}return null}function Pf(e,t){if(t!==null){let r=e[et][vt],i=t.projection;return r.projection[i]}return null}function Qa(e,t){let n=Me+e+1;if(n<t.length){let r=t[n],i=r[W].firstChild;if(i!==null)return Kr(r,i)}return t[sr]}function wc(e,t,n,r,i,o,s){for(;n!=null;){let a=r[Ht];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&hr(yt(c),r),n.flags|=2),!dc(n))if(l&8)wc(e,t,n.child,r,i,o,!1),lr(t,e,a,i,c,n,o,r);else if(l&32){let f=mc(n,r),u;for(;u=f();)lr(t,e,a,i,u,n,o,r);lr(t,e,a,i,c,n,o,r)}else l&16?qv(e,t,r,n,i,o):lr(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Do(e,t,n,r,i,o){wc(n,r,e.firstChild,t,i,o,!1)}function qv(e,t,n,r,i,o){let s=n[et],c=s[vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let f=c[l];lr(t,e,n[Ht],i,f,r,o,n)}else{let l=c,f=s[qe];df(r)&&(l.flags|=128),wc(e,t,l,f,i,o,!0)}}function Gv(e,t,n,r,i,o,s){let a=r[sr],c=yt(r);a!==c&&lr(t,e,n,o,a,i,s);for(let l=Me;l<r.length;l++){let f=r[l];Do(f[W],f,e,t,o,a)}}function Lf(e,t,n,r,i){let o=Gr(),s=r&2;try{nn(-1),s&&t.length>Fe&&xf(e,t,Fe,!1);let a=s?ie.TemplateUpdateStart:ie.TemplateCreateStart;ce(a,i,n),n(r,i)}finally{nn(o);let a=s?ie.TemplateUpdateEnd:ie.TemplateCreateEnd;ce(a,i,n)}}function Vf(e,t,n){Xv(e,t,n),(n.flags&64)===64&&ey(e,t,n)}function bc(e,t,n=Gt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function zv(e,t,n,r){let o=r.get(Df,yf)||n===Et.ShadowDom||n===Et.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return Wv(s),s}function Wv(e){Zv(e)}var Zv=()=>null;function Kv(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Qv(e,t,n,r,i,o){let s=t[W];if(Ic(e,s,t,n,r)){tn(e)&&Jv(t,e.index);return}e.type&3&&(n=Kv(n)),Yv(e,t,n,r,i,o)}function Yv(e,t,n,r,i,o){if(e.type&3){let s=Gt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function Jv(e,t){let n=st(t,e);n[z]&16||(n[z]|=64)}function Xv(e,t,n){let r=n.directiveStart,i=n.directiveEnd;tn(n)&&Sv(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||no(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=ro(t,e,s,n);if(hr(c,t),o!==null&&ry(t,s-r,c,a,n,o),Rt(a)){let l=st(n.index,t);l[we]=ro(t,e,s,n)}}}function ey(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ad();try{nn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];zi(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ty(c,l)}}finally{nn(-1),zi(s)}}function ty(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function ny(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];yv(t,o.selectors,!1)&&(r??=[],Rt(o)?r.unshift(o):r.push(o))}return r}function ry(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Ka(r,n,c,l)}}function jf(e,t,n,r,i){let o=Fe+n,s=t[W],a=i(s,t,e,r,n);t[o]=a,cr(e,!0);let c=e.type===2;return c?(Sf(t[Oe],a,e),(Jl()===0||Ui(e))&&hr(a,t),Xl()):hr(a,t),Ki()&&(!c||!dc(e))&&Cc(s,t,a,e),e}function Bf(e){let t=e;return wa()?rd():(t=t.parent,cr(t,!1)),t}function iy(e,t){let n=e[Ht];if(!n)return;let r;try{r=n.get(wn,null)}catch(i){r=null}r?.(t)}function Ic(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],f=s[c+1],u=t.data[l];Ka(u,n[l],f,i),a=!0}if(o)for(let c of o){let l=n[c],f=t.data[c];Ka(f,l,r,i),a=!0}return a}function oy(e,t){let n=st(t,e),r=n[W];sy(r,n);let i=n[mt];i!==null&&n[rr]===null&&(n[rr]=_f(i,n[Ht])),ce(ie.ComponentStart);try{Sc(r,n,n[we])}finally{ce(ie.ComponentEnd,n[we])}}function sy(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Sc(e,t,n){Wi(t);try{let r=e.viewQuery;r!==null&&Wa(1,r,n);let i=e.template;i!==null&&Lf(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[yn]?.finishViewCreation(e),e.staticContentQueries&&Ef(e,t),e.staticViewQueries&&Wa(2,e.viewQuery,n);let o=e.components;o!==null&&ay(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[z]&=-5,Zi()}}function ay(e,t){for(let n=0;n<t.length;n++)oy(e,t[n])}function Mc(e,t,n,r){let i=q(null);try{let o=t.tView,a=e[z]&4096?4096:16,c=gc(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[mn]=l;let f=e[yn];return f!==null&&(c[yn]=f.createEmbeddedView(o)),Sc(o,c,n),c}finally{q(i)}}function Tc(e,t){return!t||t.firstChild===null||df(e)}function Yr(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(yt(o)),qt(o)&&Hf(o,r);let s=n.type;if(s&8)Yr(e,t,n.child,r);else if(s&32){let a=mc(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Pf(t,n);if(Array.isArray(a))r.push(...a);else{let c=Yt(t[et]);Yr(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Hf(e,t){for(let n=Me;n<e.length;n++){let r=e[n],i=r[W].firstChild;i!==null&&Yr(r[W],r,i,t)}e[sr]!==e[mt]&&t.push(e[sr])}function $f(e){if(e[Dn]!==null){for(let t of e[Dn])t.impl.addSequence(t);e[Dn].length=0}}var Uf=[];function cy(e){return e[tt]??uy(e)}function uy(e){let t=Uf.pop()??Object.create(dy);return t.lView=e,t}function ly(e){e.lView[tt]!==e&&(e.lView=null,Uf.push(e))}var dy=Ae(Ce({},Wn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Cn(e.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function fy(e){let t=e[tt]??Object.create(hy);return t.lView=e,t}var hy=Ae(Ce({},Wn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Yt(e.lView);for(;t&&!qf(t[W]);)t=Yt(t);t&&va(t)},consumerOnSignalRead(){this.lView[tt]=this}});function qf(e){return e.type!==2}function Gf(e){if(e[Qt]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Qt])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[z]&8192)}}var py=100;function zf(e,t=0){let r=e[$t].rendererFactory,i=!1;i||r.begin?.();try{gy(e,t)}finally{i||r.end?.()}}function gy(e,t){let n=ba();try{Or(!0),Ya(e,t);let r=0;for(;Hr(e);){if(r===py)throw new ee(103,!1);r++,Ya(e,1)}}finally{Or(n)}}function my(e,t,n,r){if(En(t))return;let i=t[z],o=!1,s=!1;Wi(t);let a=!0,c=null,l=null;o||(qf(e)?(l=cy(t),c=Mr(l)):_i()===null?(a=!1,l=fy(t),c=Mr(l)):t[tt]&&(Zn(t[tt]),t[tt]=null));try{ma(t),id(e.bindingStartIndex),n!==null&&Lf(e,t,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=e.preOrderCheckHooks;y!==null&&Ji(t,y,null)}else{let y=e.preOrderHooks;y!==null&&Xi(t,y,0,null),Oa(t,0)}if(s||vy(t),Gf(t),Wf(t,0),e.contentQueries!==null&&Ef(e,t),!o)if(f){let y=e.contentCheckHooks;y!==null&&Ji(t,y)}else{let y=e.contentHooks;y!==null&&Xi(t,y,1),Oa(t,1)}Dy(e,t);let u=e.components;u!==null&&Kf(t,u,0);let m=e.viewQuery;if(m!==null&&Wa(2,m,r),!o)if(f){let y=e.viewCheckHooks;y!==null&&Ji(t,y)}else{let y=e.viewHooks;y!==null&&Xi(t,y,2),Oa(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[$i]){for(let y of t[$i])y();t[$i]=null}o||($f(t),t[z]&=-73)}catch(f){throw o||Cn(t),f}finally{l!==null&&(Ei(l,c),a&&ly(l)),Zi()}}function Wf(e,t){for(let n=hf(e);n!==null;n=pf(n))for(let r=Me;r<n.length;r++){let i=n[r];Zf(i,t)}}function vy(e){for(let t=hf(e);t!==null;t=pf(t)){if(!(t[z]&2))continue;let n=t[jr];for(let r=0;r<n.length;r++){let i=n[r];va(i)}}}function yy(e,t,n){ce(ie.ComponentStart);let r=st(t,e);try{Zf(r,n)}finally{ce(ie.ComponentEnd,r[we])}}function Zf(e,t){qi(e)&&Ya(e,t)}function Ya(e,t){let r=e[W],i=e[z],o=e[tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ci(o)),s||=!1,o&&(o.dirty=!1),e[z]&=-9217,s)my(r,e,r.template,e[we]);else if(i&8192){let a=q(null);try{Gf(e),Wf(e,1);let c=r.components;c!==null&&Kf(e,c,1),$f(e)}finally{q(a)}}}function Kf(e,t,n){for(let r=0;r<t.length;r++)yy(e,t[r],n)}function Dy(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)nn(~i);else{let o=i,s=n[++r],a=n[++r];sd(s,o);let c=t[o];ce(ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{ce(ie.HostBindingsUpdateEnd,c)}}}}finally{nn(-1)}}function Ac(e,t){let n=ba()?64:1088;for(e[$t].changeDetectionScheduler?.notify(t);e;){e[z]|=n;let r=Yt(e);if(ar(e)&&!r)return e;e=r}return null}function _y(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Qf(e,t){let n=Me+t;if(n<e.length)return e[n]}function Nc(e,t,n,r=!0){let i=t[W];if(Ey(i,t,e,n),r){let s=Qa(n,e),a=t[Oe],c=a.parentNode(e[sr]);c!==null&&kv(i,e[vt],a,t,c,s)}let o=t[rr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Yf(e,t){let n=xc(e,t);return n!==void 0&&Ec(n[W],n),n}function xc(e,t){if(e.length<=Me)return;let n=Me+t,r=e[n];if(r){let i=r[mn];i!==null&&i!==e&&_c(i,r),t>0&&(e[n-1][ot]=r[ot]);let o=sa(e,Me+t);Ov(r[W],r);let s=o[yn];s!==null&&s.detachView(o[W]),r[qe]=null,r[ot]=null,r[z]&=-129}return r}function Ey(e,t,n,r){let i=Me+r,o=n.length;r>0&&(n[i-1][ot]=t),r<o-Me?(t[ot]=n[i],Pl(n,Me+r,t)):(n.push(t),t[ot]=null),t[qe]=n;let s=t[mn];s!==null&&n!==s&&Jf(s,t);let a=t[yn];a!==null&&a.insertView(e),Gi(t),t[z]|=128}function Jf(e,t){let n=e[jr],r=t[qe];if(xt(r))e[z]|=2;else{let i=r[qe][et];t[et]!==i&&(e[z]|=2)}n===null?e[jr]=[t]:n.push(t)}var pr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[W];return Yr(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[we]}set context(t){this._lView[we]=t}get destroyed(){return En(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qe];if(qt(t)){let n=t[ql],r=n?n.indexOf(this):-1;r>-1&&(xc(t,r),sa(n,r))}this._attachedToViewContainer=!1}Ec(this._lView[W],this._lView)}onDestroy(t){ya(this._lView,t)}markForCheck(){Ac(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){Gi(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,zf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ar(this._lView),n=this._lView[mn];n!==null&&!t&&_c(n,this._lView),Ff(this._lView[W],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t;let n=ar(this._lView),r=this._lView[mn];r!==null&&!n&&Jf(r,this._lView),Gi(this._lView)}};function _o(e,t,n,r,i){let o=e.data[t];if(o===null)o=Cy(e,t,n,r,i),od()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=nd();o.injectorIndex=s===null?-1:s.injectorIndex}return cr(o,!0),o}function Cy(e,t,n,r,i){let o=Ca(),s=wa(),a=s?o:o&&o.parent,c=e.data[t]=by(e,a,n,t,r,i);return wy(e,c,o,s),c}function wy(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function by(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return td()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Iy(e){let t=e[pa]??[],r=e[qe][Oe],i=[];for(let o of t)o.data[vf]!==void 0?i.push(o):Sy(o,r);e[pa]=i}function Sy(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[mf];for(;n<i;){let o=r.nextSibling;If(t,r,!1),r=o,n++}}}var My=()=>null,Ty=()=>null;function Ay(e,t){return My(e,t)}function Xf(e,t,n){return Ty(e,t,n)}var eh=class{},Eo=class{},Ja=class{resolveComponentFactory(t){throw new ee(917,!1)}},Co=class{static NULL=new Ja},Sn=class{},gr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ny()}return e})();function Ny(){let e=ye(),t=at(),n=st(t.index,e);return(xt(n)?n:e)[Oe]}var th=(()=>{class e{static \u0275prov=le({token:e,providedIn:"root",factory:()=>null})}return e})();var eo={},Xa=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,eo,r);return i!==eo||n===eo?i:this.parentInjector.get(t,n,r)}};function so(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Qs(i,a);else if(o==2){let c=a,l=t[++s];r=Qs(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Qe(e,t=0){let n=ye();if(n===null)return ae(e,t);let r=at();return af(r,n,ke(e),t)}function xy(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,c,l]=f.resolveHostDirectives(s);break}ky(e,t,n,a,o,c,l)}o!==null&&r!==null&&Ry(n,r,o)}function Ry(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new ee(-301,!1);r.push(t[i],o)}}function Oy(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ky(e,t,n,r,i,o,s){let a=r.length,c=null;for(let m=0;m<a;m++){let y=r[m];c===null&&Rt(y)&&(c=y,Oy(e,n,m)),qa(no(n,t),e,y.type)}By(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,u=Af(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=fr(n.mergedAttrs,y.hostAttrs),Py(e,n,t,u,y),jy(u,y,i),s!==null&&s.has(y)){let[w,_]=s.get(y);n.directiveToIndex.set(y.type,[u,w+n.directiveStart,_+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,u);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let E=y.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),u++}Fy(e,n,o)}function Fy(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Ld(0,t,i,r),Ld(1,t,i,r),jd(t,r,!1);else{let o=n.get(i);Vd(0,t,o,r),Vd(1,t,o,r),jd(t,r,!0)}}}function Ld(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),nh(t,o)}}function Vd(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),nh(t,s)}}function nh(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function jd(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||hc(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let f of l)if(f===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let f=0;f<l.length;f+=2)if(l[f]===t){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Py(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=ln(i.type,!0)),s=new bn(o,Rt(i),Qe,null);e.blueprint[r]=s,n[r]=s,Ly(e,t,r,Af(e,n,i.hostVars,Tn),i)}function Ly(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Vy(s)!=a&&s.push(a),s.push(n,r,o)}}function Vy(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function jy(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Rt(t)&&(n[""]=e)}}function By(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function rh(e,t,n,r,i,o,s,a){let c=t[W],l=c.consts,f=Ot(l,s),u=_o(c,e,n,r,f);return o&&xy(c,t,u,Ot(l,a),i),u.mergedAttrs=fr(u.mergedAttrs,u.attrs),u.attrs!==null&&so(u,u.attrs,!1),u.mergedAttrs!==null&&so(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function ih(e,t){Lm(e,t),ga(t)&&e.queries.elementEnd(t)}function Hy(e,t,n,r,i,o){let s=t.consts,a=Ot(s,i),c=_o(t,e,n,r,a);if(c.mergedAttrs=fr(c.mergedAttrs,c.attrs),o!=null){let l=Ot(s,o);c.localNames=[];for(let f=0;f<l.length;f+=2)c.localNames.push(l[f],-1)}return c.attrs!==null&&so(c,c.attrs,!1),c.mergedAttrs!==null&&so(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function wo(e,t,n){if(n===Tn)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Pa(e,t,n){return function r(i){let o=tn(e)?st(e.index,t):t;Ac(o,5);let s=t[we],a=Bd(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Bd(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Bd(e,t,n,r){let i=q(null);try{return ce(ie.OutputStart,t,n),n(r)!==!1}catch(o){return iy(e,o),!1}finally{ce(ie.OutputEnd,t,n),q(i)}}function $y(e,t,n,r,i,o,s,a){let c=Ui(e),l=!1,f=null;if(!r&&c&&(f=qy(t,n,o,e.index)),f!==null){let u=f.__ngLastListenerFn__||f;u.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let u=Gt(e,n),m=r?r(u):u;av(n,m,o,a);let y=i.listen(m,o,a);if(!Uy(o)){let E=r?w=>r(yt(w[e.index])):e.index;oh(E,t,n,o,a,y,!1)}}return l}function Uy(e){return e.startsWith("animation")||e.startsWith("transition")}function qy(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[ir],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function oh(e,t,n,r,i,o,s){let a=t.firstCreatePass?Yl(t):null,c=Ql(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Hd(e,t,n,r,i,o){let s=t[n],a=t[W],l=a.data[n].outputs[r],u=s[l].subscribe(o);oh(e.index,a,t,i,o,u,!0)}var ec=Symbol("BINDING");var tc=class extends Co{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Pr(t);return new ao(n,this.ngModule)}};function Gy(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&vo.SignalBased)!==0};return i&&(o.transform=i),o})}function zy(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Wy(e,t,n){let r=t instanceof gt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Xa(n,r):n}function Zy(e){let t=e.get(Sn,null);if(t===null)throw new ee(407,!1);let n=e.get(th,null),r=e.get(Jt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Ky(e,t){let n=sh(e);return wf(t,n,n==="svg"?Gl:n==="math"?zl:null)}function sh(e){return(e.selectors[0][0]||"div").toLowerCase()}var ao=class extends Eo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Gy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=zy(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Cv(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ce(ie.DynamicComponentStart);let a=q(null);try{let c=this.componentDef,l=Qy(r,c,s,o),f=Wy(c,i||this.ngModule,t),u=Zy(f),m=u.rendererFactory.createRenderer(null,c),y=r?zv(m,r,c.encapsulation,f):Ky(c,m),E=s?.some($d)||o?.some(p=>typeof p!="function"&&p.bindings.some($d)),w=gc(null,l,null,512|Tf(c),null,null,u,m,f,null,_f(y,f,!0));w[Fe]=y,Wi(w);let _=null;try{let p=rh(Fe,w,2,"#host",()=>l.directiveRegistry,!0,0);Sf(m,y,p),hr(y,w),Vf(l,w,p),Cf(l,p,w),ih(l,p),n!==void 0&&Jy(p,this.ngContentSelectors,n),_=st(p.index,w),w[we]=_[we],Sc(l,w,null)}catch(p){throw _!==null&&za(_),za(w),p}finally{ce(ie.DynamicComponentEnd),Zi()}return new co(this.componentType,w,!!E)}finally{q(a)}}};function Qy(e,t,n,r){let i=e?["ng-version","21.1.3"]:wv(t.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[ec].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let u=r[f];if(typeof u!="function")for(let m of u.bindings){a+=m[ec].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let c=[t];if(r)for(let f of r){let u=typeof f=="function"?f:f.type,m=na(u);c.push(m)}return pc(0,null,Yy(o,s),1,a,c,null,null,null,[i],null)}function Yy(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function $d(e){let t=e[ec].kind;return t==="input"||t==="twoWay"}var co=class extends eh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Br(n[W],Fe),this.location=lf(this._tNode,n),this.instance=st(this._tNode.index,n)[we],this.hostView=this.changeDetectorRef=new pr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Ic(r,i[W],i,t,n);this.previousInputValues.set(t,n);let s=st(r.index,i);Ac(s,1)}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Jy(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xy=()=>!1;function eD(e,t,n){return Xy(e,t,n)}var uo=class{};var Jr=class extends uo{injector;componentFactoryResolver=new tc(this);instance=null;constructor(t){super();let n=new fn([...t.providers,{provide:uo,useValue:this},{provide:Co,useValue:this.componentFactoryResolver}],t.parent||Vr(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ah(e,t,n=null){return new Jr({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var tD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ua(!1,n.type),i=r.length>0?ah([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=le({token:e,providedIn:"environment",factory:()=>new e(ae(gt))})}return e})();function ze(e){return Xr(()=>{let t=ch(e),n=Ae(Ce({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(tD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Et.Emulated,styles:e.styles||it,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&xn("NgStandalone"),uh(n);let r=e.dependencies;return n.directiveDefs=Ud(r,nD),n.pipeDefs=Ud(r,xl),n.id=oD(n),n})}function nD(e){return Pr(e)||na(e)}function Rn(e){return Xr(()=>({type:e.type,bootstrap:e.bootstrap||it,declarations:e.declarations||it,imports:e.imports||it,exports:e.exports||it,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function rD(e,t){if(e==null)return en;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=vo.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function iD(e){if(e==null)return en;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Wt(e){return Xr(()=>{let t=ch(e);return uh(t),t})}function ch(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||en,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||it,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:rD(e.inputs,t),outputs:iD(e.outputs),debugInfo:null}}function uh(e){e.features?.forEach(t=>t(e))}function Ud(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function oD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function sD(e){return Object.getPrototypeOf(e.prototype).constructor}function mr(e){let t=sD(e.type),n=!0,r=[e];for(;t;){let i;if(Rt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ee(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=La(e.inputs),s.declaredInputs=La(e.declaredInputs),s.outputs=La(e.outputs);let a=i.hostBindings;a&&dD(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&uD(e,c),l&&lD(e,l),aD(e,i),Nl(e.outputs,i.outputs),Rt(i)&&i.data.animation){let f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===mr&&(n=!1)}}t=Object.getPrototypeOf(t)}cD(r)}function aD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function cD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=fr(i.hostAttrs,n=fr(n,i.hostAttrs))}}function La(e){return e===en?{}:e===it?[]:e}function uD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function lD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function dD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function fD(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=fr(e.mergedAttrs,e.attrs);let f=e.tView=pc(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),f.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),cr(e,!1);let c=hD(n,t,e,r);Ki()&&Cc(n,t,c,e),hr(c,t);let l=_y(c,t,c,e);t[r+Fe]=l,Nf(t,l),eD(l,e,t)}function lo(e,t,n,r,i,o,s,a,c,l,f){let u=n+Fe,m;if(t.firstCreatePass){if(m=_o(t,u,4,s||null,a||null),l!=null){let y=Ot(t.consts,l);m.localNames=[];for(let E=0;E<y.length;E+=2)m.localNames.push(y[E],-1)}}else m=t.data[u];return fD(m,e,t,n,r,i,o,c),l!=null&&bc(e,m,f),m}var hD=pD;function pD(e,t,n,r){return Qi(!0),t[Oe].createComment("")}var Rc=new te("");function bo(e){return!!e&&typeof e.then=="function"}function lh(e){return!!e&&typeof e.subscribe=="function"}var dh=new te("");var Oc=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=B(dh,{optional:!0})??[];injector=B(At);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Hi(this.injector,i);if(bo(o))n.push(o);else if(lh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fh=new te("");function hh(){ws(()=>{let e="";throw new ee(600,e)})}function ph(e){return e.isBoundToModule}var gD=10;var vr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=B(wn);afterRenderManager=B(vc);zonelessEnabled=B(Wr);rootEffectScheduler=B(Yi);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Kt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=B(ur);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Fs(n=>!n))}constructor(){B(Nn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=B(gt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=At.NULL){return this._injector.get(Xe).run(()=>{ce(ie.BootstrapComponentStart);let s=n instanceof Eo;if(!this._injector.get(Oc).done){let E="";throw new ee(405,E)}let c;s?c=n:c=this._injector.get(Co).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=ph(c)?void 0:this._injector.get(uo),f=r||c.selector,u=c.create(i,[],f,l),m=u.location.nativeElement,y=u.injector.get(Rc,null);return y?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),Qr(this.components,u),y?.unregisterApplication(m)}),this._loadComponent(u),ce(ie.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ce(ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(yo.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ce(ie.ChangeDetectionEnd),new ee(101,!1);let n=q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(n),this.afterTick.next(),ce(ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<gD;){ce(ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ce(ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Hr(i))continue;let o=r&&!this.zonelessEnabled?0:1;zf(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hr(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qr(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(fh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qr(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qr(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var ZI=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var nc=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Va(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function mD(e,t,n,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){q(r);let l=t.length-1;for(q(null);s<=a&&s<=l;){let f=e.at(s),u=t[s],m=Va(s,f,s,u,n);if(m!==0){m<0&&e.updateValue(s,u),s++;continue}let y=e.at(a),E=t[l],w=Va(a,y,l,E,n);if(w!==0){w<0&&e.updateValue(a,E),a--,l--;continue}let _=n(s,f),p=n(a,y),g=n(s,u);if(Object.is(g,p)){let d=n(l,E);Object.is(d,_)?(e.swap(s,a),e.updateValue(a,E),l--,a--):e.move(a,s),e.updateValue(s,u),s++;continue}if(i??=new fo,o??=Gd(e,s,a,n),rc(e,i,s,g))e.updateValue(s,u),s++,a++;else if(o.has(g))i.set(_,e.detach(s)),a--;else{let d=e.create(s,t[s]);e.attach(s,d),s++,a++}}for(;s<=l;)qd(e,i,n,s,t[s]),s++}else if(t!=null){q(r);let l=t[Symbol.iterator]();q(null);let f=l.next();for(;!f.done&&s<=a;){let u=e.at(s),m=f.value,y=Va(s,u,s,m,n);if(y!==0)y<0&&e.updateValue(s,m),s++,f=l.next();else{i??=new fo,o??=Gd(e,s,a,n);let E=n(s,m);if(rc(e,i,s,E))e.updateValue(s,m),s++,a++,f=l.next();else if(!o.has(E))e.attach(s,e.create(s,m)),s++,a++,f=l.next();else{let w=n(s,u);i.set(w,e.detach(s)),a--}}}for(;!f.done;)qd(e,i,n,e.length,f.value),f=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function rc(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function qd(e,t,n,r,i){if(rc(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Gd(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var fo=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function On(e,t,n,r,i,o,s,a){xn("NgControlFlow");let c=ye(),l=Dt(),f=Ot(l.consts,o);return lo(c,l,e,t,n,r,i,f,256,s,a),kc}function kc(e,t,n,r,i,o,s,a){xn("NgControlFlow");let c=ye(),l=Dt(),f=Ot(l.consts,o);return lo(c,l,e,t,n,r,i,f,512,s,a),kc}function kn(e,t){xn("NgControlFlow");let n=ye(),r=qr(),i=n[r]!==Tn?n[r]:-1,o=i!==-1?ho(n,Fe+i):void 0,s=0;if(wo(n,r,e)){let a=q(null);try{if(o!==void 0&&Yf(o,s),e!==-1){let c=Fe+e,l=ho(n,c),f=ac(n[W],c),u=Xf(l,f,n),m=Mc(n,f,t,{dehydratedView:u});Nc(l,m,s,Tc(f,u))}}finally{q(a)}}else if(o!==void 0){let a=Qf(o,s);a!==void 0&&(a[we]=t)}}var ic=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Me}};var oc=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Fc(e,t,n,r,i,o,s,a,c,l,f,u,m){xn("NgControlFlow");let y=ye(),E=Dt(),w=c!==void 0,_=ye(),p=a?s.bind(_[et][we]):s,g=new oc(w,p);_[Fe+e]=g,lo(y,E,e+1,t,n,r,i,Ot(E.consts,o),256),w&&lo(y,E,e+2,c,l,f,u,Ot(E.consts,m),512)}var sc=class extends nc{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Me}at(t){return this.getLView(t)[we].$implicit}attach(t,n){let r=n[rr];this.needsIndexUpdate||=t!==this.length,Nc(this.lContainer,n,t,Tc(this.templateTNode,r)),vD(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,yD(this.lContainer,t),DD(this.lContainer,t)}create(t,n){let r=Ay(this.lContainer,this.templateTNode.tView.ssrId);return Mc(this.hostLView,this.templateTNode,new ic(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Ec(t[W],t)}updateValue(t,n){this.getLView(t)[we].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[we].$index=t}getLView(t){return _D(this.lContainer,t)}};function Pc(e){let t=q(null),n=Gr();try{let r=ye(),i=r[W],o=r[n],s=n+1,a=ho(r,s);if(o.liveCollection===void 0){let l=ac(i,s);o.liveCollection=new sc(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(mD(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=qr(),f=c.length===0;if(wo(r,l,f)){let u=n+2,m=ho(r,u);if(f){let y=ac(i,u),E=Xf(m,y,r),w=Mc(r,y,void 0,{dehydratedView:E});Nc(m,w,0,Tc(y,E))}else i.firstUpdatePass&&Iy(m),Yf(m,0)}}}finally{q(t)}}function ho(e,t){return e[t]}function vD(e,t){if(e.length<=Me)return;let n=Me+t,r=e[n],i=r?r[_n]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Ht];Nv(o,i),In.delete(r[Ut]),i.detachedLeaveAnimationFns=void 0}}function yD(e,t){if(e.length<=Me)return;let n=Me+t,r=e[n],i=r?r[_n]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function DD(e,t){return xc(e,t)}function _D(e,t){return Qf(e,t)}function ac(e,t){return Br(e,t)}function Ct(e,t,n){let r=ye(),i=qr();if(wo(r,i,t)){let o=Dt(),s=fd();Qv(s,r,e,t,r[Oe],n)}return Ct}function zd(e,t,n,r,i){Ic(t,e,n,i?"class":"style",r)}function De(e,t,n,r){let i=ye(),o=i[W],s=e+Fe,a=o.firstCreatePass?rh(s,i,2,t,ny,ed(),n,r):o.data[s];if(jf(a,i,e,t,gh),Ui(a)){let c=i[W];Vf(c,i,a),Cf(c,a,i)}return r!=null&&bc(i,a),De}function _e(){let e=Dt(),t=at(),n=Bf(t);return e.firstCreatePass&&ih(e,n),_a(n)&&Ea(),Da(),n.classesWithoutHost!=null&&jm(n)&&zd(e,n,ye(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Bm(n)&&zd(e,n,ye(),n.stylesWithoutHost,!1),_e}function rn(e,t,n,r){return De(e,t,n,r),_e(),rn}function he(e,t,n,r){let i=ye(),o=i[W],s=e+Fe,a=o.firstCreatePass?Hy(s,o,2,t,n,r):o.data[s];return jf(a,i,e,t,gh),r!=null&&bc(i,a),he}function pe(){let e=at(),t=Bf(e);return _a(t)&&Ea(),Da(),pe}var gh=(e,t,n,r,i)=>(Qi(!0),wf(t[Oe],r,hd()));function Io(){return ye()}var ni="en-US";var ED=ni;function mh(e){typeof e=="string"&&(ED=e.toLowerCase().replace(/_/g,"-"))}function Pe(e,t,n){let r=ye(),i=Dt(),o=at();return CD(i,r,r[Oe],o,e,t,n),Pe}function CD(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Pa(r,t,o),$y(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let u=0;u<f.length;u+=2){let m=f[u],y=f[u+1];c??=Pa(r,t,o),Hd(r,t,m,y,i,c)}if(l&&l.length)for(let u of l)c??=Pa(r,t,o),Hd(r,t,u,i,i,c)}}function Fn(e=1){return dd(e)}function Y(e,t=""){let n=ye(),r=Dt(),i=e+Fe,o=r.firstCreatePass?_o(r,i,1,t,null):r.data[i],s=wD(r,n,o,t);n[i]=s,Ki()&&Cc(r,n,s,o),cr(o,!1)}var wD=(e,t,n,r)=>(Qi(!0),uv(t[Oe],r));function bD(e,t,n,r=""){return wo(e,qr(),n)?t+Rl(n)+r:Tn}function He(e){return Lc("",e),He}function Lc(e,t,n){let r=ye(),i=bD(r,e,t,n);return i!==Tn&&ID(r,Gr(),i),Lc}function ID(e,t,n){let r=Wl(t,e);lv(e[Oe],r,n)}function Wd(e,t,n){let r=Dt();r.firstCreatePass&&vh(t,r.data,r.blueprint,Rt(e),n)}function vh(e,t,n,r,i){if(e=ke(e),Array.isArray(e))for(let o=0;o<e.length;o++)vh(e[o],t,n,r,i);else{let o=Dt(),s=ye(),a=at(),c=dn(e)?e:ke(e.provide),l=da(e),f=a.providerIndexes&1048575,u=a.directiveStart,m=a.providerIndexes>>20;if(dn(e)||!e.multi){let y=new bn(l,i,Qe,null),E=Ba(c,t,i?f:f+m,u);E===-1?(qa(no(a,s),o,c),ja(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[E]=y,s[E]=y)}else{let y=Ba(c,t,f+m,u),E=Ba(c,t,f,f+m),w=y>=0&&n[y],_=E>=0&&n[E];if(i&&!_||!i&&!w){qa(no(a,s),o,c);let p=TD(i?MD:SD,n.length,i,r,l,e);!i&&_&&(n[E].providerFactory=p),ja(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)}else{let p=yh(n[i?E:y],l,!i&&r);ja(o,e,y>-1?y:E,p)}!i&&r&&_&&n[E].componentProviders++}}}function ja(e,t,n,r){let i=dn(t),o=Hl(t);if(i||o){let c=(o?ke(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,c]):l[f+1].push(r,c)}else l.push(n,c)}}}function yh(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ba(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function SD(e,t,n,r,i){return cc(this.multi,[])}function MD(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ro(r,r[W],this.providerFactory.index,i);s=c.slice(0,a),cc(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],cc(o,s);return s}function cc(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function TD(e,t,n,r,i,o){let s=new bn(e,n,Qe,null);return s.multi=[],s.index=t,s.componentProviders=0,yh(s,i,r&&!n),s}function So(e,t){return n=>{n.providersResolver=(r,i)=>Wd(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>Wd(r,i?i(t):t,!0))}}var Dh=(()=>{class e{applicationErrorHandler=B(wn);appRef=B(vr);taskService=B(ur);ngZone=B(Xe);zonelessEnabled=B(Wr);tracing=B(Nn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(Ra,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?yd:Ta;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _h(){return[{provide:Jt,useExisting:Dh},{provide:Xe,useClass:Fr},{provide:Wr,useValue:!0}]}function AD(){return typeof $localize<"u"&&$localize.locale||ni}var Vc=new te("",{factory:()=>B(Vc,{optional:!0,skipSelf:!0})||AD()});function Pn(e,t){return wi(e,t?.equal)}var jc=new te(""),$D=new te("");function ri(e){return!e.moduleRef}function UD(e){let t=ri(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Xe);return n.run(()=>{ri(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(wn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ri(e)){let o=()=>t.destroy(),s=e.platformInjector.get(jc);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(jc);s.add(o),e.moduleRef.onDestroy(()=>{Qr(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return GD(r,n,()=>{let o=t.get(ur),s=o.add(),a=t.get(Oc);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Vc,ni);if(mh(c||ni),!t.get($D,!0))return ri(e)?t.get(vr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ri(e)){let f=t.get(vr);return e.rootComponent!==void 0&&f.bootstrap(e.rootComponent),f}else return qD?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}var qD;function GD(e,t,n){try{let r=n();return bo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Mo=null;function zD(e=[],t){return At.create({name:t,providers:[{provide:Lr,useValue:"platform"},{provide:jc,useValue:new Set([()=>Mo=null])},...e]})}function WD(e=[]){if(Mo)return Mo;let t=zD(e);return Mo=t,hh(),ZD(t),t}function ZD(e){let t=e.get(go,null);Hi(e,()=>{t?.forEach(n=>n())})}var KD=1e4;var ZR=KD-1e3;var Bc=(()=>{class e{static __NG_ELEMENT_ID__=QD}return e})();function QD(e){return YD(at(),ye(),(e&16)===16)}function YD(e,t,n){if(tn(e)&&!n){let r=st(e.index,t);return new pr(r,r)}else if(e.type&175){let r=t[et];return new pr(r,t)}return null}function Ch(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;ce(ie.BootstrapApplicationStart);try{let o=i?.injector??WD(r),s=[_h(),_d,...n||[]],a=new Jr({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return UD({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ce(ie.BootstrapApplicationEnd)}}var wh=null;function oi(){return wh}function Hc(e){wh??=e}var ii=class{};var ut=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Xt({})}return e})();function $c(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var si=class{};var bh="browser";var ai=class{_doc;constructor(t){this._doc=t}manager},To=(()=>{class e extends ai{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(ae(ct))};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),xo=new te(""),zc=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof To));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof To);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ae(xo),ae(Xe))};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),Uc="ng-app-id";function Ih(e){for(let t of e)t.remove()}function Sh(e,t){let n=t.createElement("style");return n.textContent=e,n}function XD(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Uc}="${t}"],link[${Uc}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Uc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Gc(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Wc=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,XD(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Sh);r?.forEach(i=>this.addUsage(i,this.external,Gc))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Ih(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ih(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Sh(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Gc(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ae(ct),ae(po),ae(mo,8),ae(ti))};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),qc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zc=/%COMP%/g;var Th="%COMP%",e_=`_nghost-${Th}`,t_=`_ngcontent-${Th}`,n_=!0,r_=new te("",{factory:()=>n_});function i_(e){return t_.replace(Zc,e)}function o_(e){return e_.replace(Zc,e)}function Ah(e,t){return t.map(n=>n.replace(Zc,e))}var Kc=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new ci(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof No?i.applyToHost(n):i instanceof ui&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Et.Emulated:o=new No(c,l,r,this.appId,f,s,a,u);break;case Et.ShadowDom:return new Ao(c,n,r,s,a,this.nonce,u,l);case Et.ExperimentalIsolatedShadowDom:return new Ao(c,n,r,s,a,this.nonce,u);default:o=new ui(c,l,r,f,s,a,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ae(zc),ae(Wc),ae(po),ae(r_),ae(ct),ae(Xe),ae(mo),ae(Nn,8))};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),ci=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(qc[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Mh(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Mh(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=qc[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=qc[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(An.DashCase|An.Important)?t.style.setProperty(n,r,i&An.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&An.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=oi().getGlobalEventTarget(this.doc,t),!t))throw new ee(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Mh(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ao=class extends ci{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Ah(r.id,l);for(let u of l){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=u,this.shadowRoot.appendChild(m)}let f=r.getExternalStyles?.();if(f)for(let u of f){let m=Gc(u,i);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ui=class extends ci{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Ah(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&In.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},No=class extends ui{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=i_(l),this.hostAttr=o_(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ro=class e extends ii{supportsDOMEvents=!0;static makeCurrent(){Hc(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=s_();return n==null?null:a_(n)}resetBaseElement(){li=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $c(document.cookie,t)}},li=null;function s_(){return li=li||document.head.querySelector("base"),li?li.getAttribute("href"):null}function a_(e){return new URL(e,document.baseURI).pathname}var c_=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),Nh=["alt","control","meta","shift"],u_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l_={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},xh=(()=>{class e extends ai{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Nh.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=u_[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Nh.forEach(s=>{if(s!==i){let a=l_[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ae(ct))};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})();function Qc(e,t,n){return $(this,null,function*(){let r=Ce({rootComponent:e},d_(t,n));return Ch(r)})}function d_(e,t){return{platformRef:t?.platformRef,appProviders:[...m_,...e?.providers??[]],platformProviders:g_}}function f_(){Ro.makeCurrent()}function h_(){return new Nt}function p_(){return lc(document),document}var g_=[{provide:ti,useValue:bh},{provide:go,useValue:f_,multi:!0},{provide:ct,useFactory:p_}];var m_=[{provide:Lr,useValue:"root"},{provide:Nt,useFactory:h_},{provide:xo,useClass:To,multi:!0},{provide:xo,useClass:xh,multi:!0},Kc,Wc,zc,{provide:Sn,useExisting:Kc},{provide:si,useClass:c_},[]];var Rh={providers:[xa()]};var v_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Qe(gr),Qe(Mn))};static \u0275dir=Wt({type:e})}return e})(),kh=(()=>{class e extends v_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ei(e)))(i||e)}})();static \u0275dir=Wt({type:e,features:[mr]})}return e})(),Fh=new te("");var y_=new te("",{factory:()=>Ph}),Ph="always";var D_={provide:Fh,useExisting:hn(()=>Vh),multi:!0};function Lh(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function __(e){return e.split(":")[0]}var Vh=(()=>{class e extends kh{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=B(vr).injector;destroyRef=B(zt);cdr=B(Bc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,yc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=Lh(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=__(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ei(e)))(i||e)}})();static \u0275dir=Wt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Pe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[So([D_]),mr]})}return e})(),jh=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Lh(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(Qe(Mn),Qe(gr),Qe(Vh,9))};static \u0275dir=Wt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),E_={provide:Fh,useExisting:hn(()=>Bh),multi:!0};function Oh(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function C_(e){return e.split(":")[0]}var Bh=(()=>{class e extends kh{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=C_(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ei(e)))(i||e)}})();static \u0275dir=Wt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Pe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[So([E_]),mr]})}return e})(),Hh=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Oh(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Oh(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Qe(Mn),Qe(gr),Qe(Bh,9))};static \u0275dir=Wt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var w_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Xt({})}return e})();var $h=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:y_,useValue:n.callSetDisabledState??Ph}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Rn({type:e});static \u0275inj=Xt({imports:[w_]})}return e})();var Le=[];for(let e=0;e<256;++e)Le.push((e+256).toString(16).slice(1));function Uh(e,t=0){return(Le[e[t+0]]+Le[e[t+1]]+Le[e[t+2]]+Le[e[t+3]]+"-"+Le[e[t+4]]+Le[e[t+5]]+"-"+Le[e[t+6]]+Le[e[t+7]]+"-"+Le[e[t+8]]+Le[e[t+9]]+"-"+Le[e[t+10]]+Le[e[t+11]]+Le[e[t+12]]+Le[e[t+13]]+Le[e[t+14]]+Le[e[t+15]]).toLowerCase()}var Yc,I_=new Uint8Array(16);function Jc(){if(!Yc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yc=crypto.getRandomValues.bind(crypto)}return Yc(I_)}var S_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xc={randomUUID:S_};function M_(e,t,n){e=e||{};let r=e.random??e.rng?.()??Jc();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Uh(r)}function T_(e,t,n){return Xc.randomUUID&&!t&&!e?Xc.randomUUID():M_(e,t,n)}var eu=T_;var $e=class e{modeSignal=Ge("CONFIG");scansSignal=Ge([]);userNameSignal=Ge("");targetScanStyleSignal=Ge("");targetClusterSizeSignal=Ge(null);statisticsRefreshSignal=Ge(0);currentExperimentId="";firstScanTimestamp=0;lastScanTimestamp=0;mode=this.modeSignal.asReadonly();scans=this.scansSignal.asReadonly();userName=this.userNameSignal.asReadonly();targetScanStyle=this.targetScanStyleSignal.asReadonly();targetClusterSize=this.targetClusterSizeSignal.asReadonly();statisticsRefresh=this.statisticsRefreshSignal.asReadonly();scanCount=Pn(()=>this.scansSignal().length);canStart=Pn(()=>{let t=this.userNameSignal(),n=this.targetScanStyleSignal(),r=this.targetClusterSizeSignal();return t.trim()===""||n===""?!1:n==="compliant"?r!==null&&r>=1:n==="non_compliant"});constructor(){let t=localStorage.getItem("scan-lab-userName");t&&this.userNameSignal.set(t)}updateUserName(t){this.userNameSignal.set(t),localStorage.setItem("scan-lab-userName",t)}updateTargetScanStyle(t){this.targetScanStyleSignal.set(t)}updateTargetClusterSize(t){this.targetClusterSizeSignal.set(t)}startExperiment(){this.canStart()&&(this.currentExperimentId=eu(),this.firstScanTimestamp=0,this.lastScanTimestamp=0,this.scansSignal.set([]),this.modeSignal.set("RUNNING"))}recordScan(t){if(this.modeSignal()!=="RUNNING")return;let n=Date.now(),r=this.scansSignal().length,i=null,o=0;r===0?(this.firstScanTimestamp=n,this.lastScanTimestamp=n,i=null,o=0):(i=n-this.lastScanTimestamp,o=n-this.firstScanTimestamp,this.lastScanTimestamp=n);let s={experimentId:this.currentExperimentId,userName:this.userNameSignal(),targetScanStyle:this.targetScanStyleSignal(),targetClusterSize:this.targetClusterSizeSignal(),scanIndex:r,timestampMs:n,deltaMs:i,elapsedMs:o,barcode:t};this.scansSignal.update(a=>[...a,s])}completeExperiment(){let t=[...this.scansSignal()];return this.targetScanStyleSignal.set(""),this.targetClusterSizeSignal.set(null),this.scansSignal.set([]),this.modeSignal.set("CONFIG"),this.currentExperimentId="",this.firstScanTimestamp=0,this.lastScanTimestamp=0,t}resetForm(){this.userNameSignal.set(""),this.targetScanStyleSignal.set(""),this.targetClusterSizeSignal.set(null),localStorage.removeItem("scan-lab-userName")}triggerStatisticsRefresh(){this.statisticsRefreshSignal.update(t=>t+1)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oo=class e{constructor(t){this.stateService=t;let n=localStorage.getItem("scan-lab-tts-muted");n!==null?this.mutedSignal.set(n==="true"):(this.mutedSignal.set(!0),localStorage.setItem("scan-lab-tts-muted","true")),Zr(()=>{let r=this.stateService.scanCount();this.stateService.mode()==="RUNNING"&&!this.mutedSignal()&&r>0&&this.announceScanCount(r)})}mutedSignal=Ge(!1);currentUtterance=null;muted=this.mutedSignal.asReadonly();toggleMute(){let t=!this.mutedSignal();this.mutedSignal.set(t),localStorage.setItem("scan-lab-tts-muted",t.toString()),t&&this.cancelSpeech()}setMuted(t){this.mutedSignal.set(t),localStorage.setItem("scan-lab-tts-muted",t.toString()),t&&this.cancelSpeech()}announceScanCount(t){this.cancelSpeech();let n=`${t}`;this.currentUtterance=new SpeechSynthesisUtterance(n),this.currentUtterance.rate=1.2,this.currentUtterance.pitch=1,this.currentUtterance.volume=1,this.currentUtterance.onend=()=>{this.currentUtterance=null},window.speechSynthesis.speak(this.currentUtterance)}cancelSpeech(){window.speechSynthesis.speaking&&window.speechSynthesis.cancel(),this.currentUtterance=null}static \u0275fac=function(n){return new(n||e)(ae($e))};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})};function N_(e,t){e&1&&(De(0,"span",10),Y(1,"(optional)"),_e())}var ko=class e{stateService=B($e);ttsService=B(Oo);mode=this.stateService.mode;userName=this.stateService.userName;targetScanStyle=this.stateService.targetScanStyle;targetClusterSize=this.stateService.targetClusterSize;ttsMuted=this.ttsService.muted;onUserNameChange(t){this.stateService.updateUserName(t)}onTargetScanStyleChange(t){this.stateService.updateTargetScanStyle(t)}onTargetClusterSizeChange(t){let n=parseInt(t,10);this.stateService.updateTargetClusterSize(isNaN(n)?null:n)}onTtsMuteChange(t){this.ttsService.setMuted(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-experiment-config"]],decls:25,vars:8,consts:[[1,"config-form"],[1,"form-group"],["for","userName"],["id","userName","type","text",3,"input","value","disabled"],["for","targetScanStyle"],["id","targetScanStyle",3,"change","value","disabled"],["value",""],["value","compliant"],["value","non_compliant"],["for","targetClusterSize"],[1,"optional-label"],["id","targetClusterSize","type","number","min","1",3,"input","value","disabled"],[1,"form-group","checkbox-group"],["type","checkbox",3,"change","checked"],[1,"checkbox-label"]],template:function(n,r){n&1&&(De(0,"div",0)(1,"div",1)(2,"label",2),Y(3,"User Name:"),_e(),De(4,"input",3),Pe("input",function(o){return r.onUserNameChange(o.target.value)}),_e()(),De(5,"div",1)(6,"label",4),Y(7,"Target Scan Style:"),_e(),De(8,"select",5),Pe("change",function(o){return r.onTargetScanStyleChange(o.target.value)}),De(9,"option",6),Y(10,"-- Select --"),_e(),De(11,"option",7),Y(12,"Compliant"),_e(),De(13,"option",8),Y(14,"Non-Compliant"),_e()()(),De(15,"div",1)(16,"label",9),Y(17," Target Cluster Size: "),On(18,N_,2,0,"span",10),_e(),De(19,"input",11),Pe("input",function(o){return r.onTargetClusterSizeChange(o.target.value)}),_e()(),De(20,"div",12)(21,"label")(22,"input",13),Pe("change",function(o){return r.onTtsMuteChange(o.target.checked)}),_e(),De(23,"span",14),Y(24,"Mute Scan Count Audio"),_e()()()()),n&2&&(me(4),Ct("value",r.userName())("disabled",r.mode()==="RUNNING"),me(4),Ct("value",r.targetScanStyle())("disabled",r.mode()==="RUNNING"),me(10),kn(r.targetScanStyle()==="non_compliant"?18:-1),me(),Ct("value",r.targetClusterSize()??"")("disabled",r.mode()==="RUNNING"),me(3),Ct("checked",r.ttsMuted()))},dependencies:[ut,$h,jh,Hh],styles:[".config-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);min-width:300px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:var(--font-size-xsmall);text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-secondary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .optional-label[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--color-text-muted);font-style:italic;text-transform:none;margin-left:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:var(--spacing-sm);background-color:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border-secondary);color:var(--color-text-primary);font-family:var(--font-family-mono);font-size:var(--font-size-base)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{opacity:var(--opacity-dimmed);cursor:not-allowed}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-blue)}.checkbox-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);cursor:pointer;text-transform:none}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;cursor:pointer;accent-color:var(--color-accent-blue)}.checkbox-label[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--color-text-primary)}"]})};var Uo=ds(zh());var Fo,x_=new Uint8Array(16);function tu(){if(!Fo&&(Fo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Fo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fo(x_)}var Wh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function R_(e){return typeof e=="string"&&Wh.test(e)}var Zh=R_;var Ve=[];for(Po=0;Po<256;++Po)Ve.push((Po+256).toString(16).substr(1));var Po;function O_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase();if(!Zh(n))throw TypeError("Stringified UUID is invalid");return n}var Kh=O_;function k_(e,t,n){e=e||{};var r=e.random||(e.rng||tu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Kh(r)}var di=k_;var ju=ds(Qh()),Vt=ds(ap());function H_(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function $_(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}var Fp=Function.prototype.toString,U_=Fp.call(Object);function q_(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&Fp.call(n)==U_}function xe(e){var t,n,r;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=xe(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(H_(e))return $_(e);if(!q_(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=xe(e[n]);typeof i<"u"&&(t[n]=i)}return t}function Pp(e){var t=!1;return function(...n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}}function Lp(e){return function(...t){t=xe(t);var n=this,r=typeof t[t.length-1]=="function"?t.pop():!1,i=new Promise(function(o,s){var a;try{var c=Pp(function(l,f){l?s(l):o(f)});t.push(c),a=e.apply(n,t),a&&typeof a.then=="function"&&o(a)}catch(l){s(l)}});return r&&i.then(function(o){r(null,o)},r),i}}function G_(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(s,a){var c=["api",e.name,t];c=c.concat(s?["error",s]:["success",a]),e.constructor.emit("debug",c),o(s,a)}}}function be(e,t){return Lp(function(...n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return G_(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(i,o){r.taskqueue.addTask(function(s){s?o(s):i(r[e].apply(r,n))})})})}function mi(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}var z_=6;function cp(e){return e}function W_(e){return[{ok:e}]}function Vp(e,t,n){var r=t.docs,i=new Map;r.forEach(function(w){i.has(w.id)?i.get(w.id).push(w):i.set(w.id,[w])});var o=i.size,s=0,a=new Array(o);function c(){var w=[];a.forEach(function(_){_.docs.forEach(function(p){w.push({id:_.id,docs:[p]})})}),n(null,{results:w})}function l(){++s===o&&c()}function f(w,_,p){a[w]={id:_,docs:p},l()}var u=[];i.forEach(function(w,_){u.push(_)});var m=0;function y(){if(!(m>=u.length)){var w=Math.min(m+z_,u.length),_=u.slice(m,w);E(_,m),m+=_.length}}function E(w,_){w.forEach(function(p,g){var d=_+g,h=i.get(p),v=mi(h[0],["atts_since","attachments"]);v.open_revs=h.map(function(N){return N.rev}),v.open_revs=v.open_revs.filter(cp);var D=cp;v.open_revs.length===0&&(delete v.open_revs,D=W_),["revs","attachments","binary","ajax","latest"].forEach(function(N){N in t&&(v[N]=t[N])}),e.get(p,v,function(N,x){var A;N?A=[{error:N}]:A=D(x),f(d,p,A),y()})})}y()}var vu;try{localStorage.setItem("_pouch_check_localstorage",1),vu=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){vu=!1}function qo(){return vu}var jt=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)},yu=class extends Vt.default{constructor(){super(),this._listeners={},qo()&&addEventListener("storage",t=>{this.emit(t.key)})}addListener(t,n,r,i){if(this._listeners[n])return;var o=!1,s=this;function a(){if(!s._listeners[n])return;if(o){o="waiting";return}o=!0;var c=mi(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function l(){o=!1}r.changes(c).on("change",function(f){f.seq>i.since&&!i.cancelled&&(i.since=f.seq,i.onChange(f))}).on("complete",function(){o==="waiting"&&jt(a),o=!1}).on("error",l)}this._listeners[n]=a,this.on(t,a)}removeListener(t,n){n in this._listeners&&(super.removeListener(t,this._listeners[n]),delete this._listeners[n])}notifyLocalWindows(t){qo()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")}notify(t){this.emit(t),this.notifyLocalWindows(t)}};function ft(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Z_(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>n&&(e=n>>1,t=n);var r=Math.random(),i=t-e;return~~(i*r+e)}function K_(e){var t=0;return e||(t=2e3),Z_(e,t)}function Du(e,t){ft("info","The above "+e+" is totally normal. "+t)}var ve=class extends Error{constructor(t,n,r){super(),this.status=t,this.name=n,this.message=r,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}},zk=new ve(401,"unauthorized","Name or password is incorrect."),Q_=new ve(400,"bad_request","Missing JSON list of 'docs'"),lt=new ve(404,"not_found","missing"),wr=new ve(409,"conflict","Document update conflict"),jp=new ve(400,"bad_request","_id field must contain a string"),Y_=new ve(412,"missing_id","_id is required for puts"),J_=new ve(400,"bad_request","Only reserved document ids may start with underscore."),Wk=new ve(412,"precondition_failed","Database not open"),Bu=new ve(500,"unknown_error","Database encountered an unknown error"),Bp=new ve(500,"badarg","Some query argument is invalid"),Zk=new ve(400,"invalid_request","Request was invalid"),X_=new ve(400,"query_parse_error","Some query parameter is invalid"),up=new ve(500,"doc_validation","Bad special document member"),es=new ve(400,"bad_request","Something wrong with the request"),iu=new ve(400,"bad_request","Document must be a JSON object"),Kk=new ve(404,"not_found","Database not found"),Hu=new ve(500,"indexed_db_went_bad","unknown"),Qk=new ve(500,"web_sql_went_bad","unknown"),Yk=new ve(500,"levelDB_went_went_bad","unknown"),Jk=new ve(403,"forbidden","Forbidden by design doc validate_doc_update function"),Ho=new ve(400,"bad_request","Invalid rev format"),Xk=new ve(412,"file_exists","The database could not be created, the file already exists."),eE=new ve(412,"missing_stub","A pre-existing attachment stub wasn't found"),eF=new ve(413,"invalid_url","Provided URL is invalid");function Z(e,t){function n(r){for(var i=Object.getOwnPropertyNames(e),o=0,s=i.length;o<s;o++)typeof e[i[o]]!="function"&&(this[i[o]]=e[i[o]]);this.stack===void 0&&(this.stack=new Error().stack),r!==void 0&&(this.reason=r)}return n.prototype=ve.prototype,new n(t)}function br(e){if(typeof e!="object"){var t=e;e=Bu,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}function tE(e,t,n){try{return!e(t,n)}catch(i){var r="Filter function threw: "+i.toString();return Z(es,r)}}function $u(e){var t={},n=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(i){i.doc||(i.doc={});var o=n&&tE(e.filter,i.doc,t);if(typeof o=="object")return o;if(o)return!1;if(!e.include_docs)delete i.doc;else if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0);return!0}}function Hp(e){var t;if(e?typeof e!="string"?t=Z(jp):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Z(J_)):t=Z(Y_),t)throw t}function Lt(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(ft("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function nE(e,t){return"listenerCount"in e?e.listenerCount(t):Vt.default.listenerCount(e,t)}function _u(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function lp(e){var t=_u(e);return t?t.join("/"):null}var dp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],fp="queryKey",rE=/(?:^|&)([^&=]*)=?([^&]*)/g,iE=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function $p(e){for(var t=iE.exec(e),n={},r=14;r--;){var i=dp[r],o=t[r]||"",s=["user","password"].indexOf(i)!==-1;n[i]=s?decodeURIComponent(o):o}return n[fp]={},n[dp[12]].replace(rE,function(a,c,l){c&&(n[fp][c]=l)}),n}function Uu(e,t){var n=[],r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function Go(e,t,n){return e.get(t).catch(function(r){if(r.status!==404)throw r;return{}}).then(function(r){var i=r._rev,o=n(r);return o?(o._id=t,o._rev=i,oE(e,o,n)):{updated:!1,rev:i}})}function oE(e,t,n){return e.put(t).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(r.status!==409)throw r;return Go(e,t._id,n)})}var qu=function(e){return atob(e)},vi=function(e){return btoa(e)};function Gu(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError")throw o;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function sE(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function zu(e,t){return Gu([sE(e)],{type:t})}function Wu(e,t){return zu(qu(e),t)}function aE(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function Up(e,t){var n=new FileReader,r=typeof n.readAsBinaryString=="function";n.onloadend=function(i){var o=i.target.result||"";if(r)return t(o);t(aE(o))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function qp(e,t){Up(e,function(n){t(n)})}function Zu(e,t){qp(e,function(n){t(vi(n))})}function cE(e,t){var n=new FileReader;n.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);t(i)},n.readAsArrayBuffer(e)}var uE=self.setImmediate||self.setTimeout,lE=32768;function dE(e){return vi(e)}function fE(e,t,n,r,i){(n>0||r<t.size)&&(t=t.slice(n,r)),cE(t,function(o){e.append(o),i()})}function hE(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function Ku(e,t){var n=typeof e=="string",r=n?e.length:e.size,i=Math.min(lE,r),o=Math.ceil(r/i),s=0,a=n?new Uo.default:new Uo.default.ArrayBuffer,c=n?hE:fE;function l(){uE(u)}function f(){var m=a.end(!0),y=dE(m);t(y),a.destroy()}function u(){var m=s*i,y=m+i;s++,s<o?c(a,e,m,y,l):c(a,e,m,y,f)}u()}function Gp(e){return Uo.default.hash(e)}function zp(e,t){if(!t)return di().replace(/-/g,"").toLowerCase();var n=Object.assign({},e);return delete n._rev_tree,Gp(JSON.stringify(n))}var ts=di;function qn(e){for(var t,n,r,i=e.rev_tree.slice(),o;o=i.pop();){var s=o.ids,a=s[2],c=o.pos;if(a.length){for(var l=0,f=a.length;l<f;l++)i.push({pos:c+1,ids:a[l]});continue}var u=!!s[1].deleted,m=s[0];(!t||(r!==u?r:n!==c?n<c:t<m))&&(t=m,n=c,r=u)}return n+"-"+t}function Gn(e,t){for(var n=e.slice(),r;r=n.pop();)for(var i=r.pos,o=r.ids,s=o[2],a=t(s.length===0,i,o[0],r.ctx,o[1]),c=0,l=s.length;c<l;c++)n.push({pos:i+1,ids:s[c],ctx:a})}function pE(e,t){return e.pos-t.pos}function Qu(e){var t=[];Gn(e,function(i,o,s,a,c){i&&t.push({rev:o+"-"+s,pos:o,opts:c})}),t.sort(pE).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Yu(e){for(var t=qn(e),n=Qu(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev!==t&&!s.opts.deleted&&r.push(s.rev)}return r}function gE(e){var t=[];return Gn(e.rev_tree,function(n,r,i,o,s){s.status==="available"&&!n&&(t.push(r+"-"+i),s.status="missing")}),t}function mE(e,t){let n=[],r=e.slice(),i;for(;i=r.pop();){let{pos:o,ids:s}=i,a=`${o}-${s[0]}`,c=s[2];if(n.push(a),a===t){if(c.length!==0)throw new Error("The requested revision is not a leaf");return n.reverse()}(c.length===0||c.length>1)&&(n=[]);for(let l=0,f=c.length;l<f;l++)r.push({pos:o+1,ids:c[l]})}if(n.length===0)throw new Error("The requested revision does not exist");return n.reverse()}function Wp(e){for(var t=[],n=e.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,s=o[0],a=o[1],c=o[2],l=c.length===0,f=r.history?r.history.slice():[];f.push({id:s,opts:a}),l&&t.push({pos:i+1-f.length,ids:f});for(var u=0,m=c.length;u<m;u++)n.push({pos:i+1,ids:c[u],history:f})}return t.reverse()}function vE(e,t){return e.pos-t.pos}function yE(e,t,n){for(var r=0,i=e.length,o;r<i;)o=r+i>>>1,n(e[o],t)<0?r=o+1:i=o;return r}function DE(e,t,n){var r=yE(e,t,n);e.splice(r,0,t)}function hp(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function _E(e,t){return e[0]<t[0]?-1:1}function pp(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status=o[1].status==="available"||s[1].status==="available"?"available":"missing");for(var a=0;a<s[2].length;a++){if(!o[2][0]){r="new_leaf",o[2][0]=s[2][a];continue}for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(r="new_branch",DE(o[2],s[2][a],_E))}}return{conflicts:r,tree:e}}function Zp(e,t,n){var r=[],i=!1,o=!1,s;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])s=pp(l.ids,t.ids),r.push({pos:l.pos,ids:s.tree}),i=i||s.conflicts,o=!0;else if(n!==!0){var f=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,m=u.pos-f.pos,y=[],E=[];for(E.push({ids:f.ids,diff:m,parent:null,parentIdx:null});E.length>0;){var w=E.pop();if(w.diff===0){w.ids[0]===u.ids[0]&&y.push(w);continue}for(var _=w.ids[2],p=0,g=_.length;p<g;p++)E.push({ids:_[p],diff:w.diff-1,parent:w.ids,parentIdx:p})}var d=y[0];d?(s=pp(d.ids,u.ids),d.parent[2][d.parentIdx]=s.tree,r.push({pos:f.pos,ids:f.ids}),i=i||s.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(vE),{tree:r,conflicts:i||"internal_node"}}function EE(e,t){for(var n=Wp(e),r,i,o=0,s=n.length;o<s;o++){var a=n[o],c=a.ids,l;if(c.length>t){r||(r={});var f=c.length-t;l={pos:a.pos+f,ids:hp(c,f)};for(var u=0;u<f;u++){var m=a.pos+u+"-"+c[u].id;r[m]=!0}}else l={pos:a.pos,ids:hp(c,0)};i?i=Zp(i,l,!0).tree:i=[l]}return r&&Gn(i,function(y,E,w){delete r[E+"-"+w]}),{tree:i,revs:r?Object.keys(r):[]}}function Kp(e,t,n){var r=Zp(e,t),i=EE(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function CE(e,t){for(var n=e.slice(),r=t.split("-"),i=parseInt(r[0],10),o=r[1],s;s=n.pop();){if(s.pos===i&&s.ids[0]===o)return!0;for(var a=s.ids[2],c=0,l=a.length;c<l;c++)n.push({pos:s.pos+1,ids:a[c]})}return!1}function wE(e){return e.ids}function Zt(e,t){t||(t=qn(e));for(var n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(wE),i;i=r.pop();){if(i[0]===n)return!!i[1].deleted;r=r.concat(i[2])}}function Un(e){return typeof e=="string"&&e.startsWith("_local/")}function bE(e,t){for(var n=t.rev_tree.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,s=o[0],a=o[1],c=o[2],l=c.length===0,f=r.history?r.history.slice():[];if(f.push({id:s,pos:i,opts:a}),l)for(var u=0,m=f.length;u<m;u++){var y=f[u],E=y.pos+"-"+y.id;if(E===e)return i+"-"+s}for(var w=0,_=c.length;w<_;w++)n.push({pos:i+1,ids:c[w],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function IE(e,t,n,r){try{e.emit("change",t,n,r)}catch(i){ft("error",'Error in .on("change", function):',i)}}function SE(e,t,n){var r=[{rev:e._rev}];n.style==="all_docs"&&(r=Qu(t.rev_tree).map(function(o){return{rev:o.rev}}));var i={id:t.id,changes:r,doc:e};return Zt(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=Yu(t),i.doc._conflicts.length||delete i.doc._conflicts),i}var Eu=class extends Vt.default{constructor(t,n,r){super(),this.db=t,n=n?xe(n):{};var i=n.complete=Pp((a,c)=>{a?nE(this,"error")>0&&this.emit("error",a):this.emit("complete",c),this.removeAllListeners(),t.removeListener("destroyed",o)});r&&(this.on("complete",function(a){r(null,a)}),this.on("error",r));let o=()=>{this.cancel()};t.once("destroyed",o),n.onChange=(a,c,l)=>{this.isCancelled||IE(this,a,c,l)};var s=new Promise(function(a,c){n.complete=function(l,f){l?c(l):a(f)}});this.once("cancel",function(){t.removeListener("destroyed",o),n.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(a){i(null,a)},i),t.taskqueue.isReady?this.validateChanges(n):t.taskqueue.addTask(a=>{a?n.complete(a):this.isCancelled?this.emit("cancel"):this.validateChanges(n)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(t){var n=t.complete;Q._changesFilterPlugin?Q._changesFilterPlugin.validate(t,r=>{if(r)return n(r);this.doChanges(t)}):this.doChanges(t)}doChanges(t){var n=t.complete;if(t=xe(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=SE,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(i=>{if(this.isCancelled){n(null,{status:"cancelled"});return}t.since=i.update_seq,this.doChanges(t)},n);return}if(Q._changesFilterPlugin){if(Q._changesFilterPlugin.normalize(t),Q._changesFilterPlugin.shouldFilter(this,t))return Q._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(i){i in t&&ft("warn",'The "'+i+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&typeof r.cancel=="function"){let i=this.cancel;this.cancel=(...o)=>{r.cancel(),i.apply(this,o)}}}};function ou(e,t){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=t,e(n)):e(null,r.length?r[0]:r)}}function ME(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=mi(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function TE(e,t){if(e._id===t._id){let n=e._revisions?e._revisions.start:0,r=t._revisions?t._revisions.start:0;return n-r}return e._id<t._id?-1:1}function AE(e){var t={},n=[];return Gn(e,function(r,i,o,s){var a=i+"-"+o;return r&&(t[a]=0),s!==void 0&&n.push({from:s,to:a}),a}),n.reverse(),n.forEach(function(r){t[r.from]===void 0?t[r.from]=1+t[r.to]:t[r.from]=Math.min(t[r.from],1+t[r.to])}),t}function NE(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function Qp(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(n.last_seq=i.last_seq),e._compact(n,function(o,s){o?r(o):r(null,s),jt(function(){e._compactionQueue.shift(),e._compactionQueue.length&&Qp(e)})})})}function xE(e,t,n){return e.get("_local/purges").then(function(r){let i=r.purgeSeq+1;return r.purges.push({docId:t,rev:n,purgeSeq:i}),r.purges.length>self.purged_infos_limit&&r.purges.splice(0,r.purges.length-self.purged_infos_limit),r.purgeSeq=i,r}).catch(function(r){if(r.status!==404)throw r;return{_id:"_local/purges",purges:[{docId:t,rev:n,purgeSeq:0}],purgeSeq:0}}).then(function(r){return e.put(r)})}function RE(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}function su(e){return e===null||typeof e!="object"||Array.isArray(e)}var OE=/^\d+-[^-]*$/;function au(e){return typeof e=="string"&&OE.test(e)}var zo=class extends Vt.default{_setup(){this.post=be("post",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),su(t))return r(Z(iu));this.bulkDocs({docs:[t]},n,ou(r,t._id))}).bind(this),this.put=be("put",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),su(t))return r(Z(iu));if(Hp(t._id),"_rev"in t&&!au(t._rev))return r(Z(Ho));if(Un(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,r):this._putLocal(t,r);let i=s=>{typeof this._put=="function"&&n.new_edits!==!1?this._put(t,n,s):this.bulkDocs({docs:[t]},n,ou(s,t._id))};n.force&&t._rev?(o(),i(function(s){var a=s?null:{ok:!0,id:t._id,rev:t._rev};r(s,a)})):i(r);function o(){var s=t._rev.split("-"),a=s[1],c=parseInt(s[0],10),l=c+1,f=zp();t._revisions={start:l,ids:[f,a]},t._rev=l+"-"+f,n.new_edits=!1}}).bind(this),this.putAttachment=be("putAttachment",function(t,n,r,i,o){var s=this;typeof o=="function"&&(o=i,i=r,r=null),typeof o>"u"&&(o=i,i=r,r=null),o||ft("warn","Attachment",n,"on document",t,"is missing content_type");function a(c){var l="_rev"in c?parseInt(c._rev,10):0;return c._attachments=c._attachments||{},c._attachments[n]={content_type:o,data:i,revpos:++l},s.put(c)}return s.get(t).then(function(c){if(c._rev!==r)throw Z(wr);return a(c)},function(c){if(c.reason===lt.message)return a({_id:t});throw c})}).bind(this),this.removeAttachment=be("removeAttachment",function(t,n,r,i){this.get(t,(o,s)=>{if(o){i(o);return}if(s._rev!==r){i(Z(wr));return}if(!s._attachments)return i();delete s._attachments[n],Object.keys(s._attachments).length===0&&delete s._attachments,this.put(s,i)})}).bind(this),this.remove=be("remove",function(t,n,r,i){var o;typeof n=="string"?(o={_id:t,_rev:n},typeof r=="function"&&(i=r,r={})):(o=t,typeof n=="function"?(i=n,r={}):(i=r,r=n)),r=r||{},r.was_delete=!0;var s={_id:o._id,_rev:o._rev||r.rev};if(s._deleted=!0,Un(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(o,i);this.bulkDocs({docs:[s]},r,ou(i,s._id))}).bind(this),this.revsDiff=be("revsDiff",function(t,n,r){typeof n=="function"&&(r=n,n={});var i=Object.keys(t);if(!i.length)return r(null,{});var o=0,s=new Map;function a(l,f){s.has(l)||s.set(l,{missing:[]}),s.get(l).missing.push(f)}function c(l,f){var u=t[l].slice(0);Gn(f,function(m,y,E,w,_){var p=y+"-"+E,g=u.indexOf(p);g!==-1&&(u.splice(g,1),_.status!=="available"&&a(l,p))}),u.forEach(function(m){a(l,m)})}i.forEach(function(l){this._getRevisionTree(l,function(f,u){if(f&&f.status===404&&f.message==="missing")s.set(l,{missing:t[l]});else{if(f)return r(f);c(l,u)}if(++o===i.length){var m={};return s.forEach(function(y,E){m[E]=y}),r(null,m)}})},this)}).bind(this),this.bulkGet=be("bulkGet",function(t,n){Vp(this,t,n)}).bind(this),this.compactDocument=be("compactDocument",function(t,n,r){this._getRevisionTree(t,(i,o)=>{if(i)return r(i);var s=AE(o),a=[],c=[];Object.keys(s).forEach(function(l){s[l]>n&&a.push(l)}),Gn(o,function(l,f,u,m,y){var E=f+"-"+u;y.status==="available"&&a.indexOf(E)!==-1&&c.push(E)}),this._doCompaction(t,c,r)})}).bind(this),this.compact=be("compact",function(t,n){typeof t=="function"&&(n=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:n}),this._compactionQueue.length===1&&Qp(this)}).bind(this),this.get=be("get",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),n=n||{},typeof t!="string")return r(Z(jp));if(Un(t)&&typeof this._getLocal=="function")return this._getLocal(t,r);var i=[];let o=()=>{var c=[],l=i.length;if(!l)return r(null,c);i.forEach(f=>{this.get(t,{rev:f,revs:n.revs,latest:n.latest,attachments:n.attachments,binary:n.binary},function(u,m){if(u)c.push({missing:f});else{for(var y,E=0,w=c.length;E<w;E++)if(c[E].ok&&c[E].ok._rev===m._rev){y=!0;break}y||c.push({ok:m})}l--,l||r(null,c)})})};if(n.open_revs){if(n.open_revs==="all")this._getRevisionTree(t,function(c,l){if(c)return r(c);i=Qu(l).map(function(f){return f.rev}),o()});else if(Array.isArray(n.open_revs)){i=n.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if(!au(a))return r(Z(Ho))}o()}else return r(Z(Bu,"function_clause"));return}return this._get(t,n,(c,l)=>{if(c)return c.docId=t,r(c);var f=l.doc,u=l.metadata,m=l.ctx;if(n.conflicts){var y=Yu(u);y.length&&(f._conflicts=y)}if(Zt(u,f._rev)&&(f._deleted=!0),n.revs||n.revs_info){for(var E=f._rev.split("-"),w=parseInt(E[0],10),_=E[1],p=Wp(u.rev_tree),g=null,d=0;d<p.length;d++){var h=p[d];let L=h.ids.findIndex(H=>H.id===_);var v=L===w-1;(v||!g&&L!==-1)&&(g=h)}if(!g)return c=new Error("invalid rev tree"),c.docId=t,r(c);let P=f._rev.split("-")[1],K=g.ids.findIndex(L=>L.id===P)+1;var D=g.ids.length-K;if(g.ids.splice(K,D),g.ids.reverse(),n.revs&&(f._revisions={start:g.pos+g.ids.length-1,ids:g.ids.map(function(L){return L.id})}),n.revs_info){var N=g.pos+g.ids.length;f._revs_info=g.ids.map(function(L){return N--,{rev:N+"-"+L.id,status:L.opts.status}})}}if(n.attachments&&f._attachments){var x=f._attachments,A=Object.keys(x).length;if(A===0)return r(null,f);Object.keys(x).forEach(P=>{this._getAttachment(f._id,P,x[P],{binary:n.binary,metadata:u,ctx:m},function(K,L){var H=f._attachments[P];H.data=L,delete H.stub,delete H.length,--A||r(null,f)})})}else{if(f._attachments)for(var V in f._attachments)Object.prototype.hasOwnProperty.call(f._attachments,V)&&(f._attachments[V].stub=!0);r(null,f)}})}).bind(this),this.getAttachment=be("getAttachment",function(t,n,r,i){r instanceof Function&&(i=r,r={}),this._get(t,r,(o,s)=>{if(o)return i(o);if(s.doc._attachments&&s.doc._attachments[n])r.ctx=s.ctx,r.binary=!0,r.metadata=s.metadata,this._getAttachment(t,n,s.doc._attachments[n],r,i);else return i(Z(lt))})}).bind(this),this.allDocs=be("allDocs",function(t,n){if(typeof t=="function"&&(n=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return n(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(i){return i in t})[0];if(r){n(Z(X_,"Query parameter `"+r+"` is not compatible with multi-get"));return}if(!Lt(this)&&(NE(t),t.keys.length===0))return this._allDocs({limit:0},n)}return this._allDocs(t,n)}).bind(this),this.close=be("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}).bind(this),this.info=be("info",function(t){this._info((n,r)=>{if(n)return t(n);r.db_name=r.db_name||this.name,r.auto_compaction=!!(this.auto_compaction&&!Lt(this)),r.adapter=this.adapter,t(null,r)})}).bind(this),this.id=be("id",function(t){return this._id(t)}).bind(this),this.bulkDocs=be("bulkDocs",function(t,n,r){if(typeof n=="function"&&(r=n,n={}),n=n||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return r(Z(Q_));for(var i=0;i<t.docs.length;++i){let c=t.docs[i];if(su(c))return r(Z(iu));if("_rev"in c&&!au(c._rev))return r(Z(Ho))}var o;if(t.docs.forEach(function(c){c._attachments&&Object.keys(c._attachments).forEach(function(l){o=o||RE(l),c._attachments[l].content_type||ft("warn","Attachment",l,"on document",c._id,"is missing content_type")})}),o)return r(Z(es,o));"new_edits"in n||("new_edits"in t?n.new_edits=t.new_edits:n.new_edits=!0);var s=this;!n.new_edits&&!Lt(s)&&t.docs.sort(TE),ME(t.docs);var a=t.docs.map(function(c){return c._id});this._bulkDocs(t,n,function(c,l){if(c)return r(c);if(n.new_edits||(l=l.filter(function(m){return m.error})),!Lt(s))for(var f=0,u=l.length;f<u;f++)l[f].id=l[f].id||a[f];r(null,l)})}).bind(this),this.registerDependentDatabase=be("registerDependentDatabase",function(t,n){var r=xe(this.__opts);this.__opts.view_adapter&&(r.adapter=this.__opts.view_adapter);var i=new this.constructor(t,r);function o(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[t]?!1:(s.dependentDbs[t]=!0,s)}Go(this,"_local/_pouch_dependentDbs",o).then(function(){n(null,{db:i})}).catch(n)}).bind(this),this.destroy=be("destroy",function(t,n){typeof t=="function"&&(n=t,t={});var r="use_prefix"in this?this.use_prefix:!0;let i=()=>{this._destroy(t,(o,s)=>{if(o)return n(o);this._destroyed=!0,this.emit("destroyed"),n(null,s||{ok:!0})})};if(Lt(this))return i();this.get("_local/_pouch_dependentDbs",(o,s)=>{if(o)return o.status!==404?n(o):i();var a=s.dependentDbs,c=this.constructor,l=Object.keys(a).map(f=>{var u=r?f.replace(new RegExp("^"+c.prefix),""):f;return new c(u,this.__opts).destroy()});Promise.all(l).then(i,n)})}).bind(this)}_compact(t,n){var r={return_docs:!1,last_seq:t.last_seq||0,since:t.last_seq||0},i=[],o,s=0;let a=f=>{this.activeTasks.update(o,{completed_items:++s}),i.push(this.compactDocument(f.id,0))},c=f=>{this.activeTasks.remove(o,f),n(f)},l=f=>{var u=f.last_seq;Promise.all(i).then(()=>Go(this,"_local/compaction",m=>!m.last_seq||m.last_seq<u?(m.last_seq=u,m):!1)).then(()=>{this.activeTasks.remove(o),n(null,{ok:!0})}).catch(c)};this.info().then(f=>{o=this.activeTasks.add({name:"database_compaction",total_items:f.update_seq-r.last_seq}),this.changes(r).on("change",a).on("complete",l).on("error",c)})}changes(t,n){return typeof t=="function"&&(n=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new Eu(this,t,n)}type(){return typeof this._type=="function"?this._type():this.adapter}};zo.prototype.purge=be("_purge",function(e,t,n){if(typeof this._purge>"u")return n(Z(Bu,"Purge is not implemented in the "+this.adapter+" adapter."));var r=this;r._getRevisionTree(e,(i,o)=>{if(i)return n(i);if(!o)return n(Z(lt));let s;try{s=mE(o,t)}catch(a){return n(a.message||a)}r._purge(e,s,(a,c)=>{if(a)return n(a);xE(r,e,t).then(function(){return n(null,c)})})})});var Cu=class{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()}fail(t){this.failed=t,this.execute()}ready(t){this.isReady=!0,this.db=t,this.execute()}addTask(t){this.queue.push(t),this.failed&&this.execute()}};function kE(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Q.adapters,i=Q.preferredAdapters,o=Q.prefix,s=t.adapter;if(!s)for(var a=0;a<i.length;++a){if(s=i[a],s==="idb"&&"websql"in r&&qo()&&localStorage["_pouch__websqldb_"+o+e]){ft("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var c=r[s],l=c&&"use_prefix"in c?c.use_prefix:!0;return{name:l?o+e:e,adapter:s}}function FE(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e}})}function Yp(e,t){let n=function(...r){if(!(this instanceof n))return new n(...r);t.apply(this,r)};return FE(n,e),n}function PE(e){function t(r){e.removeListener("closed",n),r||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}var Wo=class extends zo{constructor(t,n){super(),this._setup(t,n)}_setup(t,n){if(super._setup(),n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n.deterministic_revs===void 0&&(n.deterministic_revs=!0),this.__opts=n=xe(n),this.auto_compaction=n.auto_compaction,this.purged_infos_limit=n.purged_infos_limit||1e3,this.prefix=Q.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var r=(n.prefix||"")+t,i=kE(r,n);if(n.name=i.name,n.adapter=n.adapter||i.adapter,this.name=t,this._adapter=n.adapter,Q.emit("debug",["adapter","Picked adapter: ",n.adapter]),!Q.adapters[n.adapter]||!Q.adapters[n.adapter].valid())throw new Error("Invalid Adapter: "+n.adapter);if(n.view_adapter&&(!Q.adapters[n.view_adapter]||!Q.adapters[n.view_adapter].valid()))throw new Error("Invalid View Adapter: "+n.view_adapter);this.taskqueue=new Cu,this.adapter=n.adapter,Q.adapters[n.adapter].call(this,n,o=>{if(o)return this.taskqueue.fail(o);PE(this),this.emit("created",this),Q.emit("created",this.name),this.taskqueue.ready(this)})}},Q=Yp(Wo,function(e,t){Wo.prototype._setup.call(this,e,t)}),Jp=fetch,Er=Headers,wu=class{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(t){let n=di();return this.tasks[n]={id:n,name:t.name,total_items:t.total_items,created_at:new Date().toJSON()},n}get(t){return this.tasks[t]}remove(t,n){return delete this.tasks[t],this.tasks}update(t,n){let r=this.tasks[t];if(typeof r<"u"){let i={id:r.id,name:r.name,created_at:r.created_at,total_items:n.total_items||r.total_items,completed_items:n.completed_items||r.completed_items,updated_at:new Date().toJSON()};this.tasks[t]=i}return this.tasks}};Q.adapters={};Q.preferredAdapters=[];Q.prefix="_pouch_";var gp=new Vt.default;function LE(e){Object.keys(Vt.default.prototype).forEach(function(n){typeof Vt.default.prototype[n]=="function"&&(e[n]=gp[n].bind(gp))});var t=e._destructionListeners=new Map;e.on("ref",function(r){t.has(r.name)||t.set(r.name,[]),t.get(r.name).push(r)}),e.on("unref",function(r){if(t.has(r.name)){var i=t.get(r.name),o=i.indexOf(r);o<0||(i.splice(o,1),i.length>1?t.set(r.name,i):t.delete(r.name))}}),e.on("destroyed",function(r){if(t.has(r)){var i=t.get(r);t.delete(r),i.forEach(function(o){o.emit("destroyed",!0)})}})}LE(Q);Q.adapter=function(e,t,n){t.valid()&&(Q.adapters[e]=t,n&&Q.preferredAdapters.push(e))};Q.plugin=function(e){if(typeof e=="function")e(Q);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Q.prototype[t]=e[t]})}return this.__defaults&&(Q.__defaults=Object.assign({},this.__defaults)),Q};Q.defaults=function(e){let t=Yp(Q,function(n,r){r=r||{},n&&typeof n=="object"&&(r=n,n=r.name,delete r.name),r=Object.assign({},t.__defaults,r),Q.call(this,n,r)});return t.preferredAdapters=Q.preferredAdapters.slice(),Object.keys(Q).forEach(function(n){n in t||(t[n]=Q[n])}),t.__defaults=Object.assign({},this.__defaults,e),t};Q.fetch=function(e,t){return Jp(e,t)};Q.prototype.activeTasks=Q.activeTasks=new wu;var VE="9.0.0";function Ju(e,t){for(var n=e,r=0,i=t.length;r<i;r++){var o=t[r];if(n=n[o],!n)break}return n}function jE(e,t){return e<t?-1:e>t?1:0}function Xu(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];r>0&&e[r-1]==="\\"&&(o==="$"||o===".")?n=n.substring(0,n.length-1)+o:o==="."?(t.push(n),n=""):n+=o}return t.push(n),t}var BE=["$or","$nor","$not"];function Xp(e){return BE.indexOf(e)>-1}function eg(e){return Object.keys(e)[0]}function HE(e){return e[eg(e)]}function pi(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(r){Object.keys(r).forEach(function(i){var o=r[i];if(typeof o!="object"&&(o={$eq:o}),Xp(i))if(o instanceof Array){if(n[i]){n[i]=!1,t[i]=o;return}var s=[];t[i].forEach(function(c){Object.keys(o).forEach(function(l){var f=o[l],u=Math.max(Object.keys(c).length,Object.keys(f).length),m=pi([c,f]);Object.keys(m).length<=u||s.push(m)})}),t[i]=s}else t[i]=pi([o]);else{var a=t[i]=t[i]||{};Object.keys(o).forEach(function(c){var l=o[c];if(c==="$gt"||c==="$gte")return $E(c,l,a);if(c==="$lt"||c==="$lte")return UE(c,l,a);if(c==="$ne")return qE(l,a);if(c==="$eq")return GE(l,a);if(c==="$regex")return zE(l,a);a[c]=l})}})}),t}function $E(e,t,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?e==="$gte"?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):typeof n.$gt<"u"?e==="$gte"?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function UE(e,t,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?e==="$lte"?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):typeof n.$lt<"u"?e==="$lte"?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function qE(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function GE(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function zE(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function tg(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=pi(e[n].$and));var r=e[t];typeof r=="object"&&tg(r)}return e}function ng(e,t){for(var n in e){n==="$and"&&(t=!0);var r=e[n];typeof r=="object"&&(t=ng(r,t))}return t}function WE(e){var t=xe(e);ng(t,!1)&&(t=tg(t),"$and"in t&&(t=pi(t.$and))),["$or","$nor"].forEach(function(s){s in t&&t[s].forEach(function(a){for(var c=Object.keys(a),l=0;l<c.length;l++){var f=c[l],u=a[f];(typeof u!="object"||u===null)&&(a[f]={$eq:u})}})}),"$not"in t&&(t.$not=pi([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];(typeof o!="object"||o===null)&&(o={$eq:o}),t[i]=o}return bu(t),t}function bu(e){Object.keys(e).forEach(function(t){var n=e[t];Array.isArray(n)?n.forEach(function(r){r&&typeof r=="object"&&bu(r)}):t==="$ne"?e.$ne=[n]:t==="$regex"?e.$regex=[n]:n&&typeof n=="object"&&bu(n)})}function ZE(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}function KE(e,t,n){var r=ZE(e,t,n);return r+e}var rg=-324,Iu=3,Su="";function Ie(e,t){if(e===t)return 0;e=zn(e),t=zn(t);var n=Mu(e),r=Mu(t);if(n-r!==0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return tC(e,t)}return Array.isArray(e)?eC(e,t):nC(e,t)}function zn(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=zn(t[r])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];typeof o<"u"&&(e[i]=zn(o))}}}}return e}function QE(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return rC(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=bt(n[r]);else for(;++r<i;){var s=n[r];o+=bt(s)+bt(e[s])}return o}return""}function bt(e){var t="\0";return e=zn(e),Mu(e)+Su+QE(e)+t}function YE(e,t){var n=t,r,i=e[t]==="1";if(i)r=0,t++;else{var o=e[t]==="0";t++;var s="",a=e.substring(t,t+Iu),c=parseInt(a,10)+rg;for(o&&(c=-c),t+=Iu;;){var l=e[t];if(l==="\0")break;s+=l,t++}s=s.split("."),s.length===1?r=parseInt(s,10):r=parseFloat(s[0]+"."+s[1]),o&&(r=r-10),c!==0&&(r=parseFloat(r+"e"+c))}return{num:r,length:t-n}}function JE(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var s=e.pop();i[s]=n}else e.push(n)}}function XE(e){for(var t=[],n=[],r=0;;){var i=e[r++];if(i==="\0"){if(t.length===1)return t.pop();JE(t,n);continue}switch(i){case"1":t.push(null);break;case"2":t.push(e[r]==="1"),r++;break;case"3":var o=YE(e,r);t.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=e[r];if(a==="\0")break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function eC(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=Ie(e[r],t[r]);if(i!==0)return i}return e.length===t.length?0:e.length>t.length?1:-1}function tC(e,t){return e===t?0:e>t?1:-1}function nC(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=Ie(n[o],r[o]);if(s!==0||(s=Ie(e[n[o]],t[r[o]]),s!==0))return s}return n.length===r.length?0:n.length>r.length?1:-1}function Mu(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);if(~n)return e===null?1:Array.isArray(e)?5:n<3?n+2:n+3;if(Array.isArray(e))return 5}function rC(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(r?-n:n)-rg,s=KE(o.toString(),"0",Iu);i+=Su+s;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),i+=Su+c,i}function iC(e){function t(n){return e.map(function(r){var i=eg(r),o=Xu(i),s=Ju(n,o);return s})}return function(n,r){var i=t(n.doc),o=t(r.doc),s=Ie(i,o);return s!==0?s:jE(n.doc._id,r.doc._id)}}function oC(e,t,n){if(e=e.filter(function(s){return Cr(s.doc,t.selector,n)}),t.sort){var r=iC(t.sort);e=e.sort(r),typeof t.sort[0]!="string"&&HE(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,o=("limit"in t?t.limit:e.length)+i;e=e.slice(i,o)}return e}function Cr(e,t,n){return n.every(function(r){var i=t[r],o=Xu(r),s=Ju(e,o);return Xp(r)?sC(r,i,e):Zo(i,e,o,s)})}function Zo(e,t,n,r){return e?typeof e=="object"?Object.keys(e).every(function(i){var o=e[i];if(i.indexOf("$")===0)return mp(i,t,o,n,r);var s=Xu(i);if(r===void 0&&typeof o!="object"&&s.length>0)return!1;var a=Ju(r,s);return typeof o=="object"?Zo(o,t,n,a):mp("$eq",t,o,s,a)}):e===r:!0}function sC(e,t,n){return e==="$or"?t.some(function(r){return Cr(n,r,Object.keys(r))}):e==="$not"?!Cr(n,t,Object.keys(t)):!t.find(function(r){return Cr(n,r,Object.keys(r))})}function mp(e,t,n,r,i){if(!yp[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return yp[e](t,n,r,i)}function fi(e){return typeof e<"u"&&e!==null}function Vn(e){return typeof e<"u"}function aC(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var n=t[0],r=t[1];return e%n===r}function vp(e,t){return t.some(function(n){return e instanceof Array?e.some(function(r){return Ie(n,r)===0}):Ie(n,e)===0})}function cC(e,t){return t.every(function(n){return e.some(function(r){return Ie(n,r)===0})})}function uC(e,t){return e.length===t}function lC(e,t){var n=new RegExp(t);return n.test(e)}function dC(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var yp={$elemMatch:function(e,t,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.some(function(i){return Cr(i,t,Object.keys(t))}):r.some(function(i){return Zo(t,e,n,i)})},$allMatch:function(e,t,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.every(function(i){return Cr(i,t,Object.keys(t))}):r.every(function(i){return Zo(t,e,n,i)})},$eq:function(e,t,n,r){return Vn(r)&&Ie(r,t)===0},$gte:function(e,t,n,r){return Vn(r)&&Ie(r,t)>=0},$gt:function(e,t,n,r){return Vn(r)&&Ie(r,t)>0},$lte:function(e,t,n,r){return Vn(r)&&Ie(r,t)<=0},$lt:function(e,t,n,r){return Vn(r)&&Ie(r,t)<0},$exists:function(e,t,n,r){return t?Vn(r):!Vn(r)},$mod:function(e,t,n,r){return fi(r)&&aC(r,t)},$ne:function(e,t,n,r){return t.every(function(i){return Ie(r,i)!==0})},$in:function(e,t,n,r){return fi(r)&&vp(r,t)},$nin:function(e,t,n,r){return fi(r)&&!vp(r,t)},$size:function(e,t,n,r){return fi(r)&&Array.isArray(r)&&uC(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&cC(r,t)},$regex:function(e,t,n,r){return fi(r)&&typeof r=="string"&&t.every(function(i){return lC(r,i)})},$type:function(e,t,n,r){return dC(r,t)}};function fC(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=WE(t);var n={doc:e},r=oC([n],{selector:t},Object.keys(t));return r&&r.length===1}function hC(e){return Uu(`"use strict";
return `+e+";",{})}function pC(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Uu(t,{})}function gC(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var n=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function mC(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=lp(e.view):e.filter=lp(e.filter))}function vC(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!Lt(e.db)}function yC(e,t){var n=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var r=Z(es,"`view` filter parameter not found or invalid.");return n(r)}var i=_u(t.view);e.db.get("_design/"+i[0],function(s,a){if(e.isCancelled)return n(null,{status:"cancelled"});if(s)return n(br(s));var c=a&&a.views&&a.views[i[1]]&&a.views[i[1]].map;if(!c)return n(Z(lt,a.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=pC(c),e.doChanges(t)})}else if(t.selector)t.filter=function(s){return fC(s,t.selector)},e.doChanges(t);else{var o=_u(t.filter);e.db.get("_design/"+o[0],function(s,a){if(e.isCancelled)return n(null,{status:"cancelled"});if(s)return n(br(s));var c=a&&a.filters&&a.filters[o[1]];if(!c)return n(Z(lt,a&&a.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=hC(c),e.doChanges(t)})}}function DC(e){e._changesFilterPlugin={validate:gC,normalize:mC,shouldFilter:vC,filter:yC}}Q.plugin(DC);Q.version=VE;function _C(e,t,n){return new Promise(function(r){var i=Gu([""]);let o;if(typeof n=="function"){let a=n(i);o=e.objectStore(t).put(a)}else{let s=n;o=e.objectStore(t).put(i,s)}o.onsuccess=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);r(a||!s||parseInt(s[1],10)>=43)},o.onerror=e.onabort=function(s){s.preventDefault(),s.stopPropagation(),r(!1)}}).catch(function(){return!1})}function ig(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var EC=ig(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),CC=ig(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Dp(e){if(!/^\d+-/.test(e))return Z(Ho);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function wC(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function og(e,t,n){n||(n={deterministic_revs:!0});var r,i,o,s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=ts()),i=zp(e,n.deterministic_revs),e._rev){if(o=Dp(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,s,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[i,s,[]]}],r=1;else if(e._revisions&&(e._rev_tree=wC(e._revisions,s),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if(o=Dp(e._rev),o.error)return o;r=o.prefix,i=o.id,e._rev_tree=[{pos:r,ids:[i,s,[]]}]}Hp(e._id),e._rev=r+"-"+i;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l=c[0]==="_";if(l&&!EC[c]){var f=Z(up,c);throw f.message=up.message+": "+c,f}else l&&!CC[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function bC(e){try{return qu(e)}catch(n){var t=Z(Bp,"Attachment is not a valid base64 string");return{error:t}}}function IC(e,t,n){var r=bC(e.data);if(r.error)return n(r.error);e.length=r.length,t==="blob"?e.data=zu(r,e.content_type):t==="base64"?e.data=vi(r):e.data=r,Ku(r,function(i){e.digest="md5-"+i,n()})}function SC(e,t,n){Ku(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,t==="binary"?qp(e.data,function(i){e.data=i,n()}):t==="base64"?Zu(e.data,function(i){e.data=i,n()}):n()})}function MC(e,t,n){if(e.stub)return n();typeof e.data=="string"?IC(e,t,n):SC(e,t,n)}function TC(e,t,n){if(!e.length)return n();var r=0,i;e.forEach(function(s){var a=s.data&&s.data._attachments?Object.keys(s.data._attachments):[],c=0;if(!a.length)return o();function l(u){i=u,c++,c===a.length&&o()}for(var f in s.data._attachments)Object.prototype.hasOwnProperty.call(s.data._attachments,f)&&MC(s.data._attachments[f],t,l)});function o(){r++,e.length===r&&(i?n(i):n())}}function AC(e,t,n,r,i,o,s,a){if(CE(t.rev_tree,n.metadata.rev)&&!a)return r[i]=n,o();var c=t.winningRev||qn(t),l="deleted"in t?t.deleted:Zt(t,c),f="deleted"in n.metadata?n.metadata.deleted:Zt(n.metadata),u=/^1-/.test(n.metadata.rev);if(l&&!f&&a&&u){var m=n.data;m._rev=c,m._id=n.metadata.id,n=og(m,a)}var y=Kp(t.rev_tree,n.metadata.rev_tree[0],e),E=a&&(l&&f&&y.conflicts!=="new_leaf"||!l&&y.conflicts!=="new_leaf"||l&&!f&&y.conflicts==="new_branch");if(E){var w=Z(wr);return r[i]=w,o()}var _=n.metadata.rev;n.metadata.rev_tree=y.tree,n.stemmedRevs=y.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var p=qn(n.metadata),g=Zt(n.metadata,p),d=l===g?0:l<g?-1:1,h;_===p?h=g:h=Zt(n.metadata,_),s(n,p,g,h,!0,d,i,o)}function NC(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function xC(e,t,n,r,i,o,s,a,c){e=e||1e3;function l(w,_,p){var g=qn(w.metadata),d=Zt(w.metadata,g);if("was_delete"in a&&d)return o[_]=Z(lt,"deleted"),p();var h=f&&NC(w);if(h){var v=Z(wr);return o[_]=v,p()}var D=d?0:1;s(w,g,d,d,!1,D,_,p)}var f=a.new_edits,u=new Map,m=0,y=t.length;function E(){++m===y&&c&&c()}t.forEach(function(w,_){if(w._id&&Un(w._id)){var p=w._deleted?"_removeLocal":"_putLocal";n[p](w,{ctx:i},function(d,h){o[_]=d||h,E()});return}var g=w.metadata.id;u.has(g)?(y--,u.get(g).push([w,_])):u.set(g,[[w,_]])}),u.forEach(function(w,_){var p=0;function g(){++p<w.length?d():E()}function d(){var h=w[p],v=h[0],D=h[1];if(r.has(_))AC(e,r.get(_),v,o,D,g,s,f);else{var N=Kp([],v.metadata.rev_tree[0],e);v.metadata.rev_tree=N.tree,v.stemmedRevs=N.stemmedRevs||[],l(v,D,g)}}d()})}var RC=5,Te="document-store",je="by-sequence",dt="attach-store",Hn="attach-seq-store",We="meta-store",Ft="local-store",cu="detect-blob-support";function OC(e){try{return JSON.parse(e)}catch(t){return ju.default.parse(e)}}function kC(e){try{return JSON.stringify(e)}catch(t){return ju.default.stringify(e)}}function Pt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Z(Hu,n,t.type))}}function Tu(e,t,n){return{data:kC(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function $n(e){if(!e)return null;var t=OC(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function Ko(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function sg(e,t,n,r){n?r(e?typeof e!="string"?e:Wu(e,t):Gu([""],{type:t})):e?typeof e!="string"?Up(e,function(i){r(vi(i))}):r(e):r("")}function ag(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function s(){++o===i.length&&r&&r()}function a(c,l){var f=c._attachments[l],u=f.digest,m=n.objectStore(dt).get(u);m.onsuccess=function(y){f.body=y.target.result.body,s()}}i.forEach(function(c){t.attachments&&t.include_docs?a(e,c):(e._attachments[c].stub=!0,s())})}function Au(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(i){var o=n.doc._attachments[i];if("body"in o){var s=o.body,a=o.content_type;return new Promise(function(c){sg(s,a,t,function(l){n.doc._attachments[i]=Object.assign(mi(o,["digest","content_type"]),{data:l}),c()})})}}))}}))}function cg(e,t,n){var r=[],i=n.objectStore(je),o=n.objectStore(dt),s=n.objectStore(Hn),a=e.length;function c(){a--,a||l()}function l(){r.length&&r.forEach(function(f){var u=s.index("digestSeq").count(IDBKeyRange.bound(f+"::",f+"::\uFFFF",!1,!1));u.onsuccess=function(m){var y=m.target.result;y||o.delete(f)}})}e.forEach(function(f){var u=i.index("_doc_id_rev"),m=t+"::"+f;u.getKey(m).onsuccess=function(y){var E=y.target.result;if(typeof E!="number")return c();i.delete(E);var w=s.index("seq").openCursor(IDBKeyRange.only(E));w.onsuccess=function(_){var p=_.target.result;if(p){var g=p.value.digestSeq.split("::")[0];r.push(g),s.delete(p.primaryKey),p.continue()}else c()}}})}function It(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var hi=new yu;function FC(e,t,n,r,i,o){for(var s=t.docs,a,c,l,f,u,m,y,E,w=0,_=s.length;w<_;w++){var p=s[w];p._id&&Un(p._id)||(p=s[w]=og(p,n.new_edits,e),p.error&&!y&&(y=p))}if(y)return o(y);var g=!1,d=0,h=new Array(s.length),v=new Map,D=!1,N=r._meta.blobSupport?"blob":"base64";TC(s,N,function(S){if(S)return o(S);x()});function x(){var S=[Te,je,dt,Ft,Hn,We],R=It(i,S,"readwrite");if(R.error)return o(R.error);a=R.txn,a.onabort=Pt(o),a.ontimeout=Pt(o),a.oncomplete=L,c=a.objectStore(Te),l=a.objectStore(je),f=a.objectStore(dt),u=a.objectStore(Hn),m=a.objectStore(We),m.get(We).onsuccess=function(F){E=F.target.result,P()},J(function(F){if(F)return D=!0,o(F);K()})}function A(){g=!0,P()}function V(){xC(e.revs_limit,s,r,v,a,h,X,n,A)}function P(){!E||!g||(E.docCount+=d,m.put(E))}function K(){if(!s.length)return;var S=0;function R(){++S===s.length&&V()}function F(k){var j=$n(k.target.result);j&&v.set(j.id,j),R()}for(var G=0,O=s.length;G<O;G++){var I=s[G];if(I._id&&Un(I._id)){R();continue}var M=c.get(I.metadata.id);M.onsuccess=F}}function L(){D||(hi.notify(r._meta.name),o(null,h))}function H(S,R){var F=f.get(S);F.onsuccess=function(G){if(G.target.result)R();else{var O=Z(eE,"unknown stub attachment with digest "+S);O.status=412,R(O)}}}function J(S){var R=[];if(s.forEach(function(I){I.data&&I.data._attachments&&Object.keys(I.data._attachments).forEach(function(M){var k=I.data._attachments[M];k.stub&&R.push(k.digest)})}),!R.length)return S();var F=0,G;function O(){++F===R.length&&S(G)}R.forEach(function(I){H(I,function(M){M&&!G&&(G=M),O()})})}function X(S,R,F,G,O,I,M,k){S.metadata.winningRev=R,S.metadata.deleted=F;var j=S.data;j._id=S.metadata.id,j._rev=S.metadata.rev,G&&(j._deleted=!0);var U=j._attachments&&Object.keys(j._attachments).length;if(U)return C(S,R,F,O,M,k);d+=I,P(),ne(S,R,F,O,M,k)}function ne(S,R,F,G,O,I){var M=S.data,k=S.metadata;M._doc_id_rev=k.id+"::"+k.rev,delete M._id,delete M._rev;function j(Se){var Ze=S.stemmedRevs||[];G&&r.auto_compaction&&(Ze=Ze.concat(gE(S.metadata))),Ze&&Ze.length&&cg(Ze,S.metadata.id,a),k.seq=Se.target.result;var St=Tu(k,R,F),se=c.put(St);se.onsuccess=ue}function U(Se){Se.preventDefault(),Se.stopPropagation();var Ze=l.index("_doc_id_rev"),St=Ze.getKey(M._doc_id_rev);St.onsuccess=function(se){var oe=l.put(M,se.target.result);oe.onsuccess=j}}function ue(){h[O]={ok:!0,id:k.id,rev:k.rev},v.set(S.metadata.id,S.metadata),b(S,k.seq,I)}var Ee=l.put(M);Ee.onsuccess=j,Ee.onerror=U}function C(S,R,F,G,O,I){var M=S.data,k=0,j=Object.keys(M._attachments);function U(){k===j.length&&ne(S,R,F,G,O,I)}function ue(){k++,U()}j.forEach(function(Ee){var Se=S.data._attachments[Ee];if(Se.stub)k++,U();else{var Ze=Se.data;delete Se.data,Se.revpos=parseInt(R,10);var St=Se.digest;T(St,Ze,ue)}})}function b(S,R,F){var G=0,O=Object.keys(S.data._attachments||{});if(!O.length)return F();function I(){++G===O.length&&F()}function M(j){var U=S.data._attachments[j].digest,ue=u.put({seq:R,digestSeq:U+"::"+R});ue.onsuccess=I,ue.onerror=function(Ee){Ee.preventDefault(),Ee.stopPropagation(),I()}}for(var k=0;k<O.length;k++)M(O[k])}function T(S,R,F){var G=f.count(S);G.onsuccess=function(O){var I=O.target.result;if(I)return F();var M={digest:S,body:R},k=f.put(M);k.onsuccess=F}}}function ug(e,t,n,r,i){r===-1&&(r=1e3);var o=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&r>1&&!n,s,a,c;function l(y){a=y.target.result,s&&i(s,a,c)}function f(y){s=y.target.result,a&&i(s,a,c)}function u(){if(!s.length)return i();var y=s[s.length-1],E;if(t&&t.upper)try{E=IDBKeyRange.bound(y,t.upper,!0,t.upperOpen)}catch(w){if(w.name==="DataError"&&w.code===0)return i()}else E=IDBKeyRange.lowerBound(y,!0);t=E,s=null,a=null,e.getAll(t,r).onsuccess=l,e.getAllKeys(t,r).onsuccess=f}function m(y){var E=y.target.result;if(!E)return i();i([E.key],[E.value],E)}o?(c={continue:u},e.getAll(t,r).onsuccess=l,e.getAllKeys(t,r).onsuccess=f):n?e.openCursor(t,"prev").onsuccess=m:e.openCursor(t).onsuccess=m}function PC(e,t,n){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=n;return}var r=[];function i(o){var s=o.target.result;s?(r.push(s.value),s.continue()):n({target:{result:r}})}e.openCursor(t).onsuccess=i}function LC(e,t,n){var r=new Array(e.length),i=0;e.forEach(function(o,s){t.get(o).onsuccess=function(a){a.target.result?r[s]=a.target.result:r[s]={key:o,error:"not_found"},i++,i===e.length&&n(e,r,{})}})}function VC(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function jC(e,t,n){var r="startkey"in e?e.startkey:!1,i="endkey"in e?e.endkey:!1,o="key"in e?e.key:!1,s="keys"in e?e.keys:!1,a=e.skip||0,c=typeof e.limit=="number"?e.limit:-1,l=e.inclusive_end!==!1,f,u;if(!s&&(f=VC(r,i,l,o,e.descending),u=f&&f.error,u&&!(u.name==="DataError"&&u.code===0)))return n(Z(Hu,u.name,u.message));var m=[Te,je,We];e.attachments&&m.push(dt);var y=It(t,m,"readonly");if(y.error)return n(y.error);var E=y.txn;E.oncomplete=K,E.onabort=Pt(n);var w=E.objectStore(Te),_=E.objectStore(je),p=E.objectStore(We),g=_.index("_doc_id_rev"),d=[],h,v;p.get(We).onsuccess=function(L){h=L.target.result.docCount},e.update_seq&&(_.openKeyCursor(null,"prev").onsuccess=L=>{var H=L.target.result;H&&H.key&&(v=H.key)});function D(L,H,J){var X=L.id+"::"+J;g.get(X).onsuccess=function(C){if(H.doc=Ko(C.target.result)||{},e.conflicts){var b=Yu(L);b.length&&(H.doc._conflicts=b)}ag(H.doc,e,E)}}function N(L,H){var J={id:H.id,key:H.id,value:{rev:L}},X=H.deleted;X?s&&(d.push(J),J.value.deleted=!0,J.doc=null):a--<=0&&(d.push(J),e.include_docs&&D(H,J,L))}function x(L){for(var H=0,J=L.length;H<J&&d.length!==c;H++){var X=L[H];if(X.error&&s){d.push(X);continue}var ne=$n(X),C=ne.winningRev;N(C,ne)}}function A(L,H,J){J&&(x(H),d.length<c&&J.continue())}function V(L){var H=L.target.result;e.descending&&(H=H.reverse()),x(H)}function P(){var L={total_rows:h,offset:e.skip,rows:d};e.update_seq&&v!==void 0&&(L.update_seq=v),n(null,L)}function K(){e.attachments?Au(d,e.binary).then(P):P()}if(!(u||c===0)){if(s)return LC(s,w,A);if(c===-1)return PC(w,f,V);ug(w,f,e.descending,c+a,A)}}function BC(e,t){var n=e.objectStore(Te).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(r){t(r.target.result)}}var Nu=!1,xu=[];function HC(e,t,n,r){try{e(t,n)}catch(i){r.emit("error",i)}}function _p(){Nu||!xu.length||(Nu=!0,xu.shift()())}function $C(e,t,n){xu.push(function(){e(function(o,s){HC(t,o,s,n),Nu=!1,jt(function(){_p(n)})})}),_p()}function UC(e,t,n,r){if(e=xe(e),e.continuous){var i=n+":"+ts();return hi.addListener(n,i,t,e),hi.notify(n),{cancel:function(){hi.removeListener(n,i)}}}var o=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var s=e.since,a="limit"in e?e.limit:-1;a===0&&(a=1);var c=[],l=0,f=$u(e),u=new Map,m,y,E,w;function _(x,A,V){if(!V||!x.length)return;var P=new Array(x.length),K=new Array(x.length);function L(X,ne){var C=e.processChange(ne,X,e);s=C.seq=X.seq;var b=f(C);return typeof b=="object"?Promise.reject(b):b?(l++,e.return_docs&&c.push(C),e.attachments&&e.include_docs?new Promise(function(T){ag(ne,e,m,function(){Au([C],e.binary).then(function(){T(C)})})}):Promise.resolve(C)):Promise.resolve()}function H(){for(var X=[],ne=0,C=P.length;ne<C&&l!==a;ne++){var b=P[ne];if(b){var T=K[ne];X.push(L(T,b))}}Promise.all(X).then(function(S){for(var R=0,F=S.length;R<F;R++)S[R]&&e.onChange(S[R])}).catch(e.complete),l!==a&&V.continue()}var J=0;A.forEach(function(X,ne){var C=Ko(X),b=x[ne];g(C,b,function(T,S){K[ne]=T,P[ne]=S,++J===x.length&&H()})})}function p(x,A,V,P){if(V.seq!==A)return P();if(V.winningRev===x._rev)return P(V,x);var K=x._id+"::"+V.winningRev,L=w.get(K);L.onsuccess=function(H){P(V,Ko(H.target.result))}}function g(x,A,V){if(o&&!o.has(x._id))return V();var P=u.get(x._id);if(P)return p(x,A,P,V);E.get(x._id).onsuccess=function(K){P=$n(K.target.result),u.set(x._id,P),p(x,A,P,V)}}function d(){e.complete(null,{results:c,last_seq:s})}function h(){!e.continuous&&e.attachments?Au(c).then(d):d()}var v=[Te,je];e.attachments&&v.push(dt);var D=It(r,v,"readonly");if(D.error)return e.complete(D.error);m=D.txn,m.onabort=Pt(e.complete),m.oncomplete=h,y=m.objectStore(je),E=m.objectStore(Te),w=y.index("_doc_id_rev");var N=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;ug(y,N,e.descending,a,_)}var _r=new Map,uu,lu=new Map;function lg(e,t){var n=this;$C(function(r){qC(n,e,r)},t,n.constructor)}function qC(e,t,n){var r=t.name,i=null,o=null;e._meta=null;function s(_){return function(p,g){p&&p instanceof Error&&!p.reason&&o&&(p.reason=o),_(p,g)}}function a(_){var p=_.createObjectStore(Te,{keyPath:"id"});_.createObjectStore(je,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),_.createObjectStore(dt,{keyPath:"digest"}),_.createObjectStore(We,{keyPath:"id",autoIncrement:!1}),_.createObjectStore(cu),p.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),_.createObjectStore(Ft,{keyPath:"_id"});var g=_.createObjectStore(Hn,{autoIncrement:!0});g.createIndex("seq","seq"),g.createIndex("digestSeq","digestSeq",{unique:!0})}function c(_,p){var g=_.objectStore(Te);g.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),g.openCursor().onsuccess=function(d){var h=d.target.result;if(h){var v=h.value,D=Zt(v);v.deletedOrLocal=D?"1":"0",g.put(v),h.continue()}else p()}}function l(_){_.createObjectStore(Ft,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function f(_,p){var g=_.objectStore(Ft),d=_.objectStore(Te),h=_.objectStore(je),v=d.openCursor();v.onsuccess=function(D){var N=D.target.result;if(N){var x=N.value,A=x.id,V=Un(A),P=qn(x);if(V){var K=A+"::"+P,L=A+"::",H=A+"::~",J=h.index("_doc_id_rev"),X=IDBKeyRange.bound(L,H,!1,!1),ne=J.openCursor(X);ne.onsuccess=function(C){if(ne=C.target.result,!ne)d.delete(N.primaryKey),N.continue();else{var b=ne.value;b._doc_id_rev===K&&g.put(b),h.delete(ne.primaryKey),ne.continue()}}}else N.continue()}else p&&p()}}function u(_){var p=_.createObjectStore(Hn,{autoIncrement:!0});p.createIndex("seq","seq"),p.createIndex("digestSeq","digestSeq",{unique:!0})}function m(_,p){var g=_.objectStore(je),d=_.objectStore(dt),h=_.objectStore(Hn),v=d.count();v.onsuccess=function(D){var N=D.target.result;if(!N)return p();g.openCursor().onsuccess=function(x){var A=x.target.result;if(!A)return p();for(var V=A.value,P=A.primaryKey,K=Object.keys(V._attachments||{}),L={},H=0;H<K.length;H++){var J=V._attachments[K[H]];L[J.digest]=!0}var X=Object.keys(L);for(H=0;H<X.length;H++){var ne=X[H];h.put({seq:P,digestSeq:ne+"::"+P})}A.continue()}}}function y(_){function p(v){return v.data?$n(v):(v.deleted=v.deletedOrLocal==="1",v)}var g=_.objectStore(je),d=_.objectStore(Te),h=d.openCursor();h.onsuccess=function(v){var D=v.target.result;if(!D)return;var N=p(D.value);N.winningRev=N.winningRev||qn(N);function x(){var V=N.id+"::",P=N.id+"::\uFFFF",K=g.index("_doc_id_rev").openCursor(IDBKeyRange.bound(V,P)),L=0;K.onsuccess=function(H){var J=H.target.result;if(!J)return N.seq=L,A();var X=J.primaryKey;X>L&&(L=X),J.continue()}}function A(){var V=Tu(N,N.winningRev,N.deleted),P=d.put(V);P.onsuccess=function(){D.continue()}}if(N.seq)return A();x()}}e._remote=!1,e.type=function(){return"idb"},e._id=Lp(function(_){_(null,e._meta.instanceId)}),e._bulkDocs=function(p,g,d){FC(t,p,g,e,i,s(d))},e._get=function(p,g,d){var h,v,D,N=g.ctx;if(!N){var x=It(i,[Te,je,dt],"readonly");if(x.error)return d(x.error);N=x.txn}function A(){d(D,{doc:h,metadata:v,ctx:N})}N.objectStore(Te).get(p).onsuccess=function(V){if(v=$n(V.target.result),!v)return D=Z(lt,"missing"),A();var P;if(g.rev)P=g.latest?bE(g.rev,v):g.rev;else{P=v.winningRev;var K=Zt(v);if(K)return D=Z(lt,"deleted"),A()}var L=N.objectStore(je),H=v.id+"::"+P;L.index("_doc_id_rev").get(H).onsuccess=function(J){if(h=J.target.result,h&&(h=Ko(h)),!h)return D=Z(lt,"missing"),A();A()}}},e._getAttachment=function(_,p,g,d,h){var v;if(d.ctx)v=d.ctx;else{var D=It(i,[Te,je,dt],"readonly");if(D.error)return h(D.error);v=D.txn}var N=g.digest,x=g.content_type;v.objectStore(dt).get(N).onsuccess=function(A){var V=A.target.result.body;sg(V,x,d.binary,function(P){h(null,P)})}},e._info=function(p){var g,d,h=It(i,[We,je],"readonly");if(h.error)return p(h.error);var v=h.txn;v.objectStore(We).get(We).onsuccess=function(D){d=D.target.result.docCount},v.objectStore(je).openKeyCursor(null,"prev").onsuccess=function(D){var N=D.target.result;g=N?N.key:0},v.oncomplete=function(){p(null,{doc_count:d,update_seq:g,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(p,g){jC(p,i,s(g))},e._changes=function(p){return UC(p,e,r,i)},e._close=function(_){i.close(),_r.delete(r),_()},e._getRevisionTree=function(_,p){var g=It(i,[Te],"readonly");if(g.error)return p(g.error);var d=g.txn,h=d.objectStore(Te).get(_);h.onsuccess=function(v){var D=$n(v.target.result);D?p(null,D.rev_tree):p(Z(lt))}},e._doCompaction=function(_,p,g){var d=[Te,je,dt,Hn],h=It(i,d,"readwrite");if(h.error)return g(h.error);var v=h.txn,D=v.objectStore(Te);D.get(_).onsuccess=function(N){var x=$n(N.target.result);Gn(x.rev_tree,function(P,K,L,H,J){var X=K+"-"+L;p.indexOf(X)!==-1&&(J.status="missing")}),cg(p,_,v);var A=x.winningRev,V=x.deleted;v.objectStore(Te).put(Tu(x,A,V))},v.onabort=Pt(g),v.oncomplete=function(){g()}},e._getLocal=function(_,p){var g=It(i,[Ft],"readonly");if(g.error)return p(g.error);var d=g.txn,h=d.objectStore(Ft).get(_);h.onerror=Pt(p),h.onsuccess=function(v){var D=v.target.result;D?(delete D._doc_id_rev,p(null,D)):p(Z(lt))}},e._putLocal=function(_,p,g){typeof p=="function"&&(g=p,p={}),delete _._revisions;var d=_._rev,h=_._id;d?_._rev="0-"+(parseInt(d.split("-")[1],10)+1):_._rev="0-1";var v=p.ctx,D;if(!v){var N=It(i,[Ft],"readwrite");if(N.error)return g(N.error);v=N.txn,v.onerror=Pt(g),v.oncomplete=function(){D&&g(null,D)}}var x=v.objectStore(Ft),A;d?(A=x.get(h),A.onsuccess=function(V){var P=V.target.result;if(!P||P._rev!==d)g(Z(wr));else{var K=x.put(_);K.onsuccess=function(){D={ok:!0,id:_._id,rev:_._rev},p.ctx&&g(null,D)}}}):(A=x.add(_),A.onerror=function(V){g(Z(wr)),V.preventDefault(),V.stopPropagation()},A.onsuccess=function(){D={ok:!0,id:_._id,rev:_._rev},p.ctx&&g(null,D)})},e._removeLocal=function(_,p,g){typeof p=="function"&&(g=p,p={});var d=p.ctx;if(!d){var h=It(i,[Ft],"readwrite");if(h.error)return g(h.error);d=h.txn,d.oncomplete=function(){v&&g(null,v)}}var v,D=_._id,N=d.objectStore(Ft),x=N.get(D);x.onerror=Pt(g),x.onsuccess=function(A){var V=A.target.result;!V||V._rev!==_._rev?g(Z(lt)):(N.delete(D),v={ok:!0,id:D,rev:"0-0"},p.ctx&&g(null,v))}},e._destroy=function(_,p){hi.removeAllListeners(r);var g=lu.get(r);g&&g.result&&(g.result.close(),_r.delete(r));var d=indexedDB.deleteDatabase(r);d.onsuccess=function(){lu.delete(r),qo()&&r in localStorage&&delete localStorage[r],p(null,{ok:!0})},d.onerror=Pt(p)};var E=_r.get(r);if(E)return i=E.idb,e._meta=E.global,jt(function(){n(null,e)});var w=indexedDB.open(r,RC);lu.set(r,w),w.onupgradeneeded=function(_){var p=_.target.result;if(_.oldVersion<1)return a(p);var g=_.currentTarget.transaction;_.oldVersion<3&&l(p),_.oldVersion<4&&u(p);var d=[c,f,m,y],h=_.oldVersion;function v(){var D=d[h-1];h++,D&&D(g,v)}v()},w.onsuccess=function(_){i=_.target.result,i.onversionchange=function(){i.close(),_r.delete(r)},i.onabort=function(A){ft("error","Database has a global failure",A.target.error),o=A.target.error,i.close(),_r.delete(r)};var p=i.transaction([We,cu,Te],"readwrite"),g=!1,d,h,v,D;function N(){typeof v>"u"||!g||(e._meta={name:r,instanceId:D,blobSupport:v},_r.set(r,{idb:i,global:e._meta}),n(null,e))}function x(){if(!(typeof h>"u"||typeof d>"u")){var A=r+"_id";A in d?D=d[A]:d[A]=D=ts(),d.docCount=h,p.objectStore(We).put(d)}}p.objectStore(We).get(We).onsuccess=function(A){d=A.target.result||{id:We},x()},BC(p,function(A){h=A,x()}),uu||(uu=_C(p,cu,"key")),uu.then(function(A){v=A,N()}),p.oncomplete=function(){g=!0,N()},p.onabort=Pt(n)},w.onerror=function(_){var p=_.target.error&&_.target.error.message;p?p.indexOf("stored database is a higher version")!==-1&&(p=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):p="Failed to open indexedDB, are you in private browsing mode?",ft("error",p),n(Z(Hu,p))}}lg.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(e){return!1}};function GC(e){e.adapter("idb",lg,!0)}function zC(e,t){return new Promise(function(n,r){var i=0,o=0,s=0,a=e.length,c;function l(){i++,e[o++]().then(u,m)}function f(){++s===a?c?r(c):n():y()}function u(){i--,f()}function m(E){i--,c=c||E,f()}function y(){for(;i<t&&o<a;)l()}y()})}var WC=25,ZC=50,jo=5e3,KC=1e4,du={};function fu(e){let t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(r){let i=n[r];i.data=Wu(i.data,i.content_type)})}function jn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Ep(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){let n=e._attachments[t];if(n.data&&typeof n.data!="string")return new Promise(function(r){Zu(n.data,r)}).then(function(r){n.data=r})}))}function QC(e){if(!e.prefix)return!1;let t=$p(e.prefix).protocol;return t==="http"||t==="https"}function YC(e,t){if(QC(t)){let i=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(i)}let n=$p(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});let r=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=r.pop(),n.db.indexOf("%")===-1&&(n.db=encodeURIComponent(n.db)),n.path=r.join("/"),n}function Ne(e,t){return $o(e,e.db+"/"+t)}function $o(e,t){let n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function Bo(e){let t=Object.keys(e);return t.length===0?"":"?"+t.map(n=>n+"="+encodeURIComponent(e[n])).join("&")}function JC(e){let t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=t.indexOf("msie")!==-1,r=t.indexOf("trident")!==-1,i=t.indexOf("edge")!==-1,o=!("method"in e)||e.method==="GET";return(n||r||i)&&o}function Ru(e,t){let n=this,r=YC(e.name,e),i=Ne(r,"");e=xe(e);let o=function(u,m){return $(this,null,function*(){if(m=m||{},m.headers=m.headers||new Er,m.credentials="include",e.auth||r.auth){let w=e.auth||r.auth,_=w.username+":"+w.password,p=vi(unescape(encodeURIComponent(_)));m.headers.set("Authorization","Basic "+p)}let y=e.headers||{};return Object.keys(y).forEach(function(w){m.headers.append(w,y[w])}),JC(m)&&(u+=(u.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),yield(e.fetch||Jp)(u,m)})};function s(u,m){return be(u,function(...y){l().then(function(){return m.apply(this,y)}).catch(function(E){y.pop()(E)})}).bind(n)}function a(u,m){return $(this,null,function*(){let y={};m=m||{},m.headers=m.headers||new Er,m.headers.get("Content-Type")||m.headers.set("Content-Type","application/json"),m.headers.get("Accept")||m.headers.set("Accept","application/json");let E=yield o(u,m);y.ok=E.ok,y.status=E.status;let w=yield E.json();if(y.data=w,!y.ok)throw y.data.status=y.status,br(y.data);return Array.isArray(y.data)&&(y.data=y.data.map(function(_){return _.error||_.missing?br(_):_})),y})}let c;function l(){return $(this,null,function*(){return e.skip_setup?Promise.resolve():c||(c=a(i).catch(function(u){return u&&u.status&&u.status===404?(Du(404,"PouchDB is just detecting if the remote exists."),a(i,{method:"PUT"})):Promise.reject(u)}).catch(function(u){return u&&u.status&&u.status===412?!0:Promise.reject(u)}),c.catch(function(){c=null}),c)})}jt(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=s("id",function(u){return $(this,null,function*(){let m;try{m=yield(yield o($o(r,""))).json()}catch(E){m={}}let y=m&&m.uuid?m.uuid+r.db:Ne(r,"");u(null,y)})}),n.compact=s("compact",function(u,m){return $(this,null,function*(){typeof u=="function"&&(m=u,u={}),u=xe(u),yield a(Ne(r,"_compact"),{method:"POST"});function y(){n.info(function(E,w){w&&!w.compact_running?m(null,{ok:!0}):setTimeout(y,u.interval||200)})}y()})}),n.bulkGet=be("bulkGet",function(u,m){let y=this;function E(g){return $(this,null,function*(){let d={};u.revs&&(d.revs=!0),u.attachments&&(d.attachments=!0),u.latest&&(d.latest=!0);try{let h=yield a(Ne(r,"_bulk_get"+Bo(d)),{method:"POST",body:JSON.stringify({docs:u.docs})});u.attachments&&u.binary&&h.data.results.forEach(function(v){v.docs.forEach(fu)}),g(null,h.data)}catch(h){g(h)}})}function w(){let g=ZC,d=Math.ceil(u.docs.length/g),h=0,v=new Array(d);function D(N){return function(x,A){v[N]=A.results,++h===d&&m(null,{results:v.flat()})}}for(let N=0;N<d;N++){let x=mi(u,["revs","attachments","binary","latest"]);x.docs=u.docs.slice(N*g,Math.min(u.docs.length,(N+1)*g)),Vp(y,x,D(N))}}let _=$o(r,""),p=du[_];typeof p!="boolean"?E(function(g,d){g?(du[_]=!1,Du(g.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),w()):(du[_]=!0,m(null,d))}):p?E(m):w()}),n._info=function(u){return $(this,null,function*(){try{yield l();let y=yield(yield o(Ne(r,""))).json();y.host=Ne(r,""),u(null,y)}catch(m){u(m)}})},n.fetch=function(u,m){return $(this,null,function*(){yield l();let y=u.substring(0,1)==="/"?$o(r,u.substring(1)):Ne(r,u);return o(y,m)})},n.get=s("get",function(u,m,y){return $(this,null,function*(){typeof m=="function"&&(y=m,m={}),m=xe(m);let E={};m.revs&&(E.revs=!0),m.revs_info&&(E.revs_info=!0),m.latest&&(E.latest=!0),m.open_revs&&(m.open_revs!=="all"&&(m.open_revs=JSON.stringify(m.open_revs)),E.open_revs=m.open_revs),m.rev&&(E.rev=m.rev),m.conflicts&&(E.conflicts=m.conflicts),m.update_seq&&(E.update_seq=m.update_seq),u=jn(u);function w(g){let d=g._attachments,h=d&&Object.keys(d);if(!d||!h.length)return;function v(N){return $(this,null,function*(){let x=d[N],A=jn(g._id)+"/"+f(N)+"?rev="+g._rev,V=yield o(Ne(r,A)),P;"buffer"in V?P=yield V.buffer():P=yield V.blob();let K;if(m.binary){let L=Object.getOwnPropertyDescriptor(P.__proto__,"type");(!L||L.set)&&(P.type=x.content_type),K=P}else K=yield new Promise(function(L){Zu(P,L)});delete x.stub,delete x.length,x.data=K})}let D=h.map(function(N){return function(){return v(N)}});return zC(D,5)}function _(g){return Array.isArray(g)?Promise.all(g.map(function(d){if(d.ok)return w(d.ok)})):w(g)}let p=Ne(r,u+Bo(E));try{let g=yield a(p);m.attachments&&(yield _(g.data)),y(null,g.data)}catch(g){g.docId=u,y(g)}})}),n.remove=s("remove",function(u,m,y,E){return $(this,null,function*(){let w;typeof m=="string"?(w={_id:u,_rev:m},typeof y=="function"&&(E=y,y={})):(w=u,typeof m=="function"?(E=m,y={}):(E=y,y=m));let _=w._rev||y.rev,p=Ne(r,jn(w._id))+"?rev="+_;try{let g=yield a(p,{method:"DELETE"});E(null,g.data)}catch(g){E(g)}})});function f(u){return u.split("/").map(encodeURIComponent).join("/")}n.getAttachment=s("getAttachment",function(u,m,y,E){return $(this,null,function*(){typeof y=="function"&&(E=y,y={});let w=y.rev?"?rev="+y.rev:"",_=Ne(r,jn(u))+"/"+f(m)+w,p;try{let g=yield o(_,{method:"GET"});if(!g.ok)throw g;p=g.headers.get("content-type");let d;if(typeof process<"u"&&!process.browser&&typeof g.buffer=="function"?d=yield g.buffer():d=yield g.blob(),typeof process<"u"&&!process.browser){let h=Object.getOwnPropertyDescriptor(d.__proto__,"type");(!h||h.set)&&(d.type=p)}E(null,d)}catch(g){E(g)}})}),n.removeAttachment=s("removeAttachment",function(u,m,y,E){return $(this,null,function*(){let w=Ne(r,jn(u)+"/"+f(m))+"?rev="+y;try{let _=yield a(w,{method:"DELETE"});E(null,_.data)}catch(_){E(_)}})}),n.putAttachment=s("putAttachment",function(u,m,y,E,w,_){return $(this,null,function*(){typeof w=="function"&&(_=w,w=E,E=y,y=null);let p=jn(u)+"/"+f(m),g=Ne(r,p);if(y&&(g+="?rev="+y),typeof E=="string"){let d;try{d=qu(E)}catch(h){return _(Z(Bp,"Attachment is not a valid base64 string"))}E=d?zu(d,w):""}try{let d=yield a(g,{headers:new Er({"Content-Type":w}),method:"PUT",body:E});_(null,d.data)}catch(d){_(d)}})}),n._bulkDocs=function(u,m,y){return $(this,null,function*(){u.new_edits=m.new_edits;try{yield l(),yield Promise.all(u.docs.map(Ep));let E=yield a(Ne(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(u)});y(null,E.data)}catch(E){y(E)}})},n._put=function(u,m,y){return $(this,null,function*(){try{yield l(),yield Ep(u);let E=yield a(Ne(r,jn(u._id)),{method:"PUT",body:JSON.stringify(u)});y(null,E.data)}catch(E){E.docId=u&&u._id,y(E)}})},n.allDocs=s("allDocs",function(u,m){return $(this,null,function*(){typeof u=="function"&&(m=u,u={}),u=xe(u);let y={},E,w="GET";u.conflicts&&(y.conflicts=!0),u.update_seq&&(y.update_seq=!0),u.descending&&(y.descending=!0),u.include_docs&&(y.include_docs=!0),u.attachments&&(y.attachments=!0),u.key&&(y.key=JSON.stringify(u.key)),u.start_key&&(u.startkey=u.start_key),u.startkey&&(y.startkey=JSON.stringify(u.startkey)),u.end_key&&(u.endkey=u.end_key),u.endkey&&(y.endkey=JSON.stringify(u.endkey)),typeof u.inclusive_end<"u"&&(y.inclusive_end=!!u.inclusive_end),typeof u.limit<"u"&&(y.limit=u.limit),typeof u.skip<"u"&&(y.skip=u.skip);let _=Bo(y);typeof u.keys<"u"&&(w="POST",E={keys:u.keys});try{let p=yield a(Ne(r,"_all_docs"+_),{method:w,body:JSON.stringify(E)});u.include_docs&&u.attachments&&u.binary&&p.data.rows.forEach(fu),m(null,p.data)}catch(p){m(p)}})}),n._changes=function(u){let m="batch_size"in u?u.batch_size:WC;u=xe(u),u.continuous&&!("heartbeat"in u)&&(u.heartbeat=KC);let y="timeout"in u?u.timeout:30*1e3;"timeout"in u&&u.timeout&&y-u.timeout<jo&&(y=u.timeout+jo),"heartbeat"in u&&u.heartbeat&&y-u.heartbeat<jo&&(y=u.heartbeat+jo);let E={};"timeout"in u&&u.timeout&&(E.timeout=u.timeout);let w=typeof u.limit<"u"?u.limit:!1,_=w;if(u.style&&(E.style=u.style),(u.include_docs||u.filter&&typeof u.filter=="function")&&(E.include_docs=!0),u.attachments&&(E.attachments=!0),u.continuous&&(E.feed="longpoll"),u.seq_interval&&(E.seq_interval=u.seq_interval),u.conflicts&&(E.conflicts=!0),u.descending&&(E.descending=!0),u.update_seq&&(E.update_seq=!0),"heartbeat"in u&&u.heartbeat&&(E.heartbeat=u.heartbeat),u.filter&&typeof u.filter=="string"&&(E.filter=u.filter),u.view&&typeof u.view=="string"&&(E.filter="_view",E.view=u.view),u.query_params&&typeof u.query_params=="object")for(let x in u.query_params)Object.prototype.hasOwnProperty.call(u.query_params,x)&&(E[x]=u.query_params[x]);let p="GET",g;u.doc_ids?(E.filter="_doc_ids",p="POST",g={doc_ids:u.doc_ids}):u.selector&&(E.filter="_selector",p="POST",g={selector:u.selector});let d=new AbortController,h,v=function(x,A){return $(this,null,function*(){if(u.aborted)return;E.since=x,typeof E.since=="object"&&(E.since=JSON.stringify(E.since)),u.descending?w&&(E.limit=_):E.limit=!w||_>m?m:_;let V=Ne(r,"_changes"+Bo(E)),P={signal:d.signal,method:p,body:JSON.stringify(g)};if(h=x,!u.aborted)try{yield l();let K=yield a(V,P);A(null,K.data)}catch(K){A(K)}})},D={results:[]},N=function(x,A){if(u.aborted)return;let V=0;if(A&&A.results){V=A.results.length,D.last_seq=A.last_seq;let K=null,L=null;typeof A.pending=="number"&&(K=A.pending),(typeof D.last_seq=="string"||typeof D.last_seq=="number")&&(L=D.last_seq);let H={};H.query=u.query_params,A.results=A.results.filter(function(J){_--;let X=$u(u)(J);return X&&(u.include_docs&&u.attachments&&u.binary&&fu(J),u.return_docs&&D.results.push(J),u.onChange(J,K,L)),X})}else if(x){u.aborted=!0,u.complete(x);return}A&&A.last_seq&&(h=A.last_seq);let P=w&&_<=0||A&&V<m||u.descending;u.continuous&&!(w&&_<=0)||!P?jt(function(){v(h,N)}):u.complete(null,D)};return v(u.since||0,N),{cancel:function(){u.aborted=!0,d.abort()}}},n.revsDiff=s("revsDiff",function(u,m,y){return $(this,null,function*(){typeof m=="function"&&(y=m,m={});try{let E=yield a(Ne(r,"_revs_diff"),{method:"POST",body:JSON.stringify(u)});y(null,E.data)}catch(E){y(E)}})}),n._close=function(u){u()},n._destroy=function(u,m){return $(this,null,function*(){try{let y=yield a(Ne(r,""),{method:"DELETE"});m(null,y)}catch(y){y.status===404?m(null,{ok:!0}):m(y)}})}}Ru.valid=function(){return!0};function XC(e){e.adapter("http",Ru,!1),e.adapter("https",Ru,!1)}var Bn=class e extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,e)}catch(n){}}},Qo=class e extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,e)}catch(n){}}},Yo=class e extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,e)}catch(n){}}};function dg(e,t){return t&&e.then(function(n){jt(function(){t(null,n)})},function(n){jt(function(){t(n)})}),e}function ew(e){return function(...t){var n=t.pop(),r=e.apply(this,t);return typeof n=="function"&&dg(r,n),r}}function tw(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}function hu(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Cp(e){var t=new Set(e),n=new Array(t.size),r=-1;return t.forEach(function(i){n[++r]=i}),n}function pu(e){var t=new Array(e.size),n=-1;return e.forEach(function(r,i){t[++n]=i}),t}function wp(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Yo(t)}function Ou(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if(typeof i!="number")if(Array.isArray(i)){t=typeof t=="number"?[t]:t;for(var o=0,s=i.length;o<s;o++){var a=i[o];if(typeof a!="number")throw wp("_sum");typeof t[o]>"u"?t.push(a):t[o]+=a}}else throw wp("_sum");else typeof t=="number"?t+=i:t[0]+=i}return t}var nw=ft.bind(null,"log"),rw=Array.isArray,iw=JSON.parse;function fg(e,t){return Uu("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Ou,log:nw,isArray:rw,toJSON:iw})}var gi=class{constructor(){this.promise=Promise.resolve()}add(t){return this.promise=this.promise.catch(()=>{}).then(()=>t()),this.promise}finish(){return this.promise}};function bp(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function ow(e,t){return bp(e)+bp(t)+"undefined"}function Ip(e,t,n,r,i,o){return $(this,null,function*(){let s=ow(n,r),a;if(!i&&(a=e._cachedViews=e._cachedViews||{},a[s]))return a[s];let c=e.info().then(function(l){return $(this,null,function*(){let f=l.db_name+"-mrview-"+(i?"temp":Gp(s));function u(_){_.views=_.views||{};let p=t;p.indexOf("/")===-1&&(p=t+"/"+t);let g=_.views[p]=_.views[p]||{};if(!g[f])return g[f]=!0,_}yield Go(e,"_local/"+o,u);let y=(yield e.registerDependentDatabase(f)).db;y.auto_compaction=!0;let E={name:f,db:y,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r},w;try{w=yield E.db.get("_local/lastSeq")}catch(_){if(_.status!==404)throw _}return E.seq=w?w.seq:0,a&&E.db.once("destroyed",function(){delete a[s]}),E})});return a&&(a[s]=c),c})}var Sp={},Mp=new gi,sw=50;function gu(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function aw(e){return e.length===1&&/^1-/.test(e[0].rev)}function Tp(e,t,n){try{e.emit("error",t)}catch(r){ft("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),ft("error",t,n)}}function cw(e,t,n,r){function i(C,b,T){try{b(T)}catch(S){Tp(C,S,{fun:b,doc:T})}}function o(C,b,T,S,R){try{return{output:b(T,S,R)}}catch(F){return Tp(C,F,{fun:b,keys:T,values:S,rereduce:R}),{error:F}}}function s(C,b){let T=Ie(C.key,b.key);return T!==0?T:Ie(C.value,b.value)}function a(C,b,T){return T=T||0,typeof b=="number"?C.slice(T,b+T):T>0?C.slice(T):C}function c(C){let b=C.value;return b&&typeof b=="object"&&b._id||C.id}function l(C){for(let b of C.rows){let T=b.doc&&b.doc._attachments;if(T)for(let S of Object.keys(T)){let R=T[S];T[S].data=Wu(R.data,R.content_type)}}}function f(C){return function(b){return C.include_docs&&C.attachments&&C.binary&&l(b),b}}function u(C,b,T,S){let R=b[C];typeof R<"u"&&(S&&(R=encodeURIComponent(JSON.stringify(R))),T.push(C+"="+R))}function m(C){if(typeof C<"u"){let b=Number(C);return!isNaN(b)&&b===parseInt(C,10)?b:C}}function y(C){return C.group_level=m(C.group_level),C.limit=m(C.limit),C.skip=m(C.skip),C}function E(C){if(C){if(typeof C!="number")return new Bn(`Invalid value for integer: "${C}"`);if(C<0)return new Bn(`Invalid value for positive integer: "${C}"`)}}function w(C,b){let T=C.descending?"endkey":"startkey",S=C.descending?"startkey":"endkey";if(typeof C[T]<"u"&&typeof C[S]<"u"&&Ie(C[T],C[S])>0)throw new Bn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(b.reduce&&C.reduce!==!1){if(C.include_docs)throw new Bn("{include_docs:true} is invalid for reduce");if(C.keys&&C.keys.length>1&&!C.group&&!C.group_level)throw new Bn("Multi-key fetches for reduce views must use {group: true}")}for(let R of["group_level","limit","skip"]){let F=E(C[R]);if(F)throw F}}function _(C,b,T){return $(this,null,function*(){let S=[],R,F="GET",G;if(u("reduce",T,S),u("include_docs",T,S),u("attachments",T,S),u("limit",T,S),u("descending",T,S),u("group",T,S),u("group_level",T,S),u("skip",T,S),u("stale",T,S),u("conflicts",T,S),u("startkey",T,S,!0),u("start_key",T,S,!0),u("endkey",T,S,!0),u("end_key",T,S,!0),u("inclusive_end",T,S),u("key",T,S,!0),u("update_seq",T,S),S=S.join("&"),S=S===""?"":"?"+S,typeof T.keys<"u"){let k=`keys=${encodeURIComponent(JSON.stringify(T.keys))}`;k.length+S.length+1<=2e3?S+=(S[0]==="?"?"&":"?")+k:(F="POST",typeof b=="string"?R={keys:T.keys}:b.keys=T.keys)}if(typeof b=="string"){let M=gu(b),k=yield C.fetch("_design/"+M[0]+"/_view/"+M[1]+S,{headers:new Er({"Content-Type":"application/json"}),method:F,body:JSON.stringify(R)});G=k.ok;let j=yield k.json();if(!G)throw j.status=k.status,br(j);for(let U of j.rows)if(U.value&&U.value.error&&U.value.error==="builtin_reduce_error")throw new Error(U.reason);return new Promise(function(U){U(j)}).then(f(T))}R=R||{};for(let M of Object.keys(b))Array.isArray(b[M])?R[M]=b[M]:R[M]=b[M].toString();let O=yield C.fetch("_temp_view"+S,{headers:new Er({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(R)});G=O.ok;let I=yield O.json();if(!G)throw I.status=O.status,br(I);return new Promise(function(M){M(I)}).then(f(T))})}function p(C,b,T){return new Promise(function(S,R){C._query(b,T,function(F,G){if(F)return R(F);S(G)})})}function g(C){return new Promise(function(b,T){C._viewCleanup(function(S,R){if(S)return T(S);b(R)})})}function d(C){return function(b){if(b.status===404)return C;throw b}}function h(C,b,T){return $(this,null,function*(){let S="_local/doc_"+C,R={_id:S,keys:[]},F=T.get(C),G=F[0],O=F[1];function I(){return aw(O)?Promise.resolve(R):b.db.get(S).catch(d(R))}function M(ue){return ue.keys.length?b.db.allDocs({keys:ue.keys,include_docs:!0}):Promise.resolve({rows:[]})}function k(ue,Ee){let Se=[],Ze=new Set;for(let se of Ee.rows){let oe=se.doc;if(oe&&(Se.push(oe),Ze.add(oe._id),oe._deleted=!G.has(oe._id),!oe._deleted)){let de=G.get(oe._id);"value"in de&&(oe.value=de.value)}}let St=pu(G);for(let se of St)if(!Ze.has(se)){let oe={_id:se},de=G.get(se);"value"in de&&(oe.value=de.value),Se.push(oe)}return ue.keys=Cp(St.concat(ue.keys)),Se.push(ue),Se}let j=yield I(),U=yield M(j);return k(j,U)})}function v(C){return C.sourceDB.get("_local/purges").then(function(b){let T=b.purgeSeq;return C.db.get("_local/purgeSeq").then(function(S){return S._rev}).catch(d(void 0)).then(function(S){return C.db.put({_id:"_local/purgeSeq",_rev:S,purgeSeq:T})})}).catch(function(b){if(b.status!==404)throw b})}function D(C,b,T){var S="_local/lastSeq";return C.db.get(S).catch(d({_id:S,seq:0})).then(function(R){var F=pu(b);return Promise.all(F.map(function(G){return h(G,C,b)})).then(function(G){var O=G.flat();return R.seq=T,O.push(R),C.db.bulkDocs({docs:O})}).then(()=>v(C))})}function N(C){let b=typeof C=="string"?C:C.name,T=Sp[b];return T||(T=Sp[b]=new gi),T}function x(C,b){return $(this,null,function*(){return hu(N(C),function(){return A(C,b)})()})}function A(C,b){return $(this,null,function*(){let T,S,R;function F(se,oe){let de={id:S._id,key:zn(se)};typeof oe<"u"&&oe!==null&&(de.value=zn(oe)),T.push(de)}let G=t(C.mapFun,F),O=C.seq||0;function I(){return C.sourceDB.info().then(function(se){R=C.sourceDB.activeTasks.add({name:"view_indexing",total_items:se.update_seq-O})})}function M(se,oe){return function(){return D(C,se,oe)}}let k=0,j={view:C.name,indexed_docs:k};C.sourceDB.emit("indexing",j);let U=new gi;function ue(){return $(this,null,function*(){let se=yield C.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:O,limit:b.changes_batch_size}),oe=yield Ee();return Se(se,oe)})}function Ee(){return C.db.get("_local/purgeSeq").then(function(se){return se.purgeSeq}).catch(d(-1)).then(function(se){return C.sourceDB.get("_local/purges").then(function(oe){let de=oe.purges.filter(function(nt,Re){return Re>se}).map(nt=>nt.docId),ht=de.filter(function(nt,Re){return de.indexOf(nt)===Re});return Promise.all(ht.map(function(nt){return C.sourceDB.get(nt).then(function(Re){return{docId:nt,doc:Re}}).catch(d({docId:nt}))}))}).catch(d([]))})}function Se(se,oe){let de=se.results;if(!de.length&&!oe.length)return;for(let Re of oe)if(de.findIndex(function(Sr){return Sr.id===Re.docId})<0){let Sr={_id:Re.docId,doc:{_id:Re.docId,_deleted:1},changes:[]};Re.doc&&(Sr.doc=Re.doc,Sr.changes.push({rev:Re.doc._rev})),de.push(Sr)}let ht=Ze(de);U.add(M(ht,O)),k=k+de.length;let nt={view:C.name,last_seq:se.last_seq,results_count:de.length,indexed_docs:k};if(C.sourceDB.emit("indexing",nt),C.sourceDB.activeTasks.update(R,{completed_items:k}),!(de.length<b.changes_batch_size))return ue()}function Ze(se){let oe=new Map;for(let de of se){if(de.doc._id[0]!=="_"){T=[],S=de.doc,S._deleted||i(C.sourceDB,G,S),T.sort(s);let ht=St(T);oe.set(de.doc._id,[ht,de.changes])}O=de.seq}return oe}function St(se){let oe=new Map,de;for(let ht=0,nt=se.length;ht<nt;ht++){let Re=se[ht],cs=[Re.key,Re.id];ht>0&&Ie(Re.key,de)===0&&cs.push(ht),oe.set(bt(cs),Re),de=Re.key}return oe}try{yield I(),yield ue(),yield U.finish(),C.seq=O,C.sourceDB.activeTasks.remove(R)}catch(se){C.sourceDB.activeTasks.remove(R,se)}})}function V(C,b,T){T.group_level===0&&delete T.group_level;let S=T.group||T.group_level,R=n(C.reduceFun),F=[],G=isNaN(T.group_level)?Number.POSITIVE_INFINITY:T.group_level;for(let O of b){let I=F[F.length-1],M=S?O.key:null;if(S&&Array.isArray(M)&&(M=M.slice(0,G)),I&&Ie(I.groupKey,M)===0){I.keys.push([O.key,O.id]),I.values.push(O.value);continue}F.push({keys:[[O.key,O.id]],values:[O.value],groupKey:M})}b=[];for(let O of F){let I=o(C.sourceDB,R,O.keys,O.values,!1);if(I.error&&I.error instanceof Yo)throw I.error;b.push({value:I.error?null:I.output,key:O.groupKey})}return{rows:a(b,T.limit,T.skip)}}function P(C,b){return hu(N(C),function(){return K(C,b)})()}function K(C,b){return $(this,null,function*(){let T,S=C.reduceFun&&b.reduce!==!1,R=b.skip||0;typeof b.keys<"u"&&!b.keys.length&&(b.limit=0,delete b.keys);function F(O){return $(this,null,function*(){O.include_docs=!0;let I=yield C.db.allDocs(O);return T=I.total_rows,I.rows.map(function(M){if("value"in M.doc&&typeof M.doc.value=="object"&&M.doc.value!==null){let j=Object.keys(M.doc.value).sort(),U=["id","key","value"];if(!(j<U||j>U))return M.doc.value}let k=XE(M.doc._id);return{key:k[0],id:k[1],value:"value"in M.doc?M.doc.value:null}})})}function G(O){return $(this,null,function*(){let I;if(S?I=V(C,O,b):typeof b.keys>"u"?I={total_rows:T,offset:R,rows:O}:I={total_rows:T,offset:R,rows:a(O,b.limit,b.skip)},b.update_seq&&(I.update_seq=C.seq),b.include_docs){let M=Cp(O.map(c)),k=yield C.sourceDB.allDocs({keys:M,include_docs:!0,conflicts:b.conflicts,attachments:b.attachments,binary:b.binary}),j=new Map;for(let U of k.rows)j.set(U.id,U.doc);for(let U of O){let ue=c(U),Ee=j.get(ue);Ee&&(U.doc=Ee)}}return I})}if(typeof b.keys<"u"){let I=b.keys.map(function(j){let U={startkey:bt([j]),endkey:bt([j,{}])};return b.update_seq&&(U.update_seq=!0),F(U)}),k=(yield Promise.all(I)).flat();return G(k)}else{let O={descending:b.descending};b.update_seq&&(O.update_seq=!0);let I,M;if("start_key"in b&&(I=b.start_key),"startkey"in b&&(I=b.startkey),"end_key"in b&&(M=b.end_key),"endkey"in b&&(M=b.endkey),typeof I<"u"&&(O.startkey=b.descending?bt([I,{}]):bt([I])),typeof M<"u"){let j=b.inclusive_end!==!1;b.descending&&(j=!j),O.endkey=bt(j?[M,{}]:[M])}if(typeof b.key<"u"){let j=bt([b.key]),U=bt([b.key,{}]);O.descending?(O.endkey=j,O.startkey=U):(O.startkey=j,O.endkey=U)}S||(typeof b.limit=="number"&&(O.limit=b.limit),O.skip=R);let k=yield F(O);return G(k)}})}function L(C){return $(this,null,function*(){return(yield C.fetch("_view_cleanup",{headers:new Er({"Content-Type":"application/json"}),method:"POST"})).json()})}function H(C){return $(this,null,function*(){try{let b=yield C.get("_local/"+e),T=new Map;for(let I of Object.keys(b.views)){let M=gu(I),k="_design/"+M[0],j=M[1],U=T.get(k);U||(U=new Set,T.set(k,U)),U.add(j)}let S={keys:pu(T),include_docs:!0},R=yield C.allDocs(S),F={};for(let I of R.rows){let M=I.key.substring(8);for(let k of T.get(I.key)){let j=M+"/"+k;b.views[j]||(j=k);let U=Object.keys(b.views[j]),ue=I.doc&&I.doc.views&&I.doc.views[k];for(let Ee of U)F[Ee]=F[Ee]||ue}}let O=Object.keys(F).filter(function(I){return!F[I]}).map(function(I){return hu(N(I),function(){return new C.constructor(I,C.__opts).destroy()})()});return Promise.all(O).then(function(){return{ok:!0}})}catch(b){if(b.status===404)return{ok:!0};throw b}})}function J(C,b,T){return $(this,null,function*(){if(typeof C._query=="function")return p(C,b,T);if(Lt(C))return _(C,b,T);let S={changes_batch_size:C.__opts.view_update_changes_batch_size||sw};if(typeof b!="string")return w(T,b),Mp.add(function(){return $(this,null,function*(){let R=yield Ip(C,"temp_view/temp_view",b.map,b.reduce,!0,e);return tw(x(R,S).then(function(){return P(R,T)}),function(){return R.db.destroy()})})}),Mp.finish();{let R=b,F=gu(R),G=F[0],O=F[1],I=yield C.get("_design/"+G);if(b=I.views&&I.views[O],!b)throw new Qo(`ddoc ${I._id} has no view named ${O}`);r(I,O),w(T,b);let M=yield Ip(C,R,b.map,b.reduce,!1,e);return T.stale==="ok"||T.stale==="update_after"?(T.stale==="update_after"&&jt(function(){x(M,S)}),P(M,T)):(yield x(M,S),P(M,T))}})}function X(C,b,T){let S=this;typeof b=="function"&&(T=b,b={}),b=b?y(b):{},typeof C=="function"&&(C={map:C});let R=Promise.resolve().then(function(){return J(S,C,b)});return dg(R,T),R}let ne=ew(function(){let C=this;return typeof C._viewCleanup=="function"?g(C):Lt(C)?L(C):H(C)});return{query:X,viewCleanup:ne}}var mu={_sum:function(e,t){return Ou(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(r){for(var i=0,o=0,s=r.length;o<s;o++){var a=r[o];i+=a*a}return i}return{sum:Ou(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}};function uw(e){if(/^_sum/.test(e))return mu._sum;if(/^_count/.test(e))return mu._count;if(/^_stats/.test(e))return mu._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function lw(e,t){if(typeof e=="function"&&e.length===2){var n=e;return function(r){return n(r,t)}}else return fg(e.toString(),t)}function dw(e){var t=e.toString(),n=uw(t);return n||fg(t)}function fw(e,t){var n=e.views&&e.views[t];if(typeof n.map!="string")throw new Qo("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}var hw="mrviews",hg=cw(hw,lw,dw,fw);function pw(e,t,n){return hg.query.call(this,e,t,n)}function gw(e){return hg.viewCleanup.call(this,e)}var mw={query:pw,viewCleanup:gw};function vw(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function Ap(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function yw(e,t,n){var r=Lt(t)&&!Lt(e),i=Object.keys(n._attachments);return r?e.get(n._id).then(function(o){return Promise.all(i.map(function(s){return vw(o,n,s)?t.getAttachment(n._id,s):e.getAttachment(o._id,s)}))}).catch(function(o){if(o.status!==404)throw o;return Ap(t,n)}):Ap(t,n)}function Dw(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(i){t.push({id:n,rev:i})})}),{docs:t,revs:!0,latest:!0}}function _w(e,t,n,r){n=xe(n);var i=[],o=!0;function s(){var c=Dw(n);if(c.docs.length)return e.bulkGet(c).then(function(l){if(r.cancelled)throw new Error("cancelled");return Promise.all(l.results.map(function(f){return Promise.all(f.docs.map(function(u){var m=u.ok;return u.error&&(o=!1),!m||!m._attachments?m:yw(t,e,m).then(y=>{var E=Object.keys(m._attachments);return y.forEach(function(w,_){var p=m._attachments[E[_]];delete p.stub,delete p.length,p.data=w}),m})}))})).then(function(f){i=i.concat(f.flat().filter(Boolean))})})}function a(){return{ok:o,docs:i}}return Promise.resolve().then(s).then(a)}var Np=1,xp="pouchdb",Ew=5,wt=0;function ku(e,t,n,r,i){return e.get(t).catch(function(o){if(o.status===404)return(e.adapter==="http"||e.adapter==="https")&&Du(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:xp,version:Np};throw o}).then(function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(s){return s.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,Ew),o.version=Np,o.replicator=xp,o.session_id=r,o.last_seq=n,e.put(o).catch(function(s){if(s.status===409)return ku(e,t,n,r,i);throw s})})}var Jo=class{constructor(t,n,r,i,o={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=t,this.target=n,this.id=r,this.returnValue=i,this.opts=o,typeof o.writeSourceCheckpoint>"u"&&(o.writeSourceCheckpoint=!0),typeof o.writeTargetCheckpoint>"u"&&(o.writeTargetCheckpoint=!0)}writeCheckpoint(t,n){var r=this;return this.updateTarget(t,n).then(function(){return r.updateSource(t,n)})}updateTarget(t,n){return this.opts.writeTargetCheckpoint?ku(this.target,this.id,t,n,this.returnValue):Promise.resolve(!0)}updateSource(t,n){if(this.opts.writeSourceCheckpoint){var r=this;return ku(this.src,this.id,t,n,this.returnValue).catch(function(i){if(Op(i))return r.opts.writeSourceCheckpoint=!1,!0;throw i})}else return Promise.resolve(!0)}getCheckpoint(){var t=this;return!t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?Promise.resolve(wt):t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(n){return n.last_seq||wt}).catch(function(n){if(n.status!==404)throw n;return wt}):t.target.get(t.id).then(function(n){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?n.last_seq||wt:t.src.get(t.id).then(function(r){if(n.version!==r.version)return wt;var i;return n.version?i=n.version.toString():i="undefined",i in Rp?Rp[i](n,r):wt},function(r){if(r.status===404&&n.last_seq)return t.src.put({_id:t.id,last_seq:wt}).then(function(){return wt},function(i){return Op(i)?(t.opts.writeSourceCheckpoint=!1,n.last_seq):wt});throw r})}).catch(function(n){if(n.status!==404)throw n;return wt})}},Rp={undefined:function(e,t){return Ie(e.last_seq,t.last_seq)===0?t.last_seq:0},1:function(e,t){return Cw(t,e).last_seq}};function Cw(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:pg(e.history,t.history)}function pg(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);if(!n||t.length===0)return{last_seq:wt,history:[]};var s=n.session_id;if(Fu(s,t))return{last_seq:n.last_seq,history:e};var a=i.session_id;return Fu(a,r)?{last_seq:i.last_seq,history:o}:pg(r,o)}function Fu(e,t){var n=t[0],r=t.slice(1);return!e||t.length===0?!1:e===n.session_id?!0:Fu(e,r)}function Op(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}function gg(e,t,n,r,i){return this instanceof Jo?gg:new Jo(e,t,n,r,i)}var kp=0;function ww(e,t,n,r){if(e.retry===!1){t.emit("error",n),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=K_),t.emit("requestError",n),t.state==="active"||t.state==="pending"){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=kp},o=function(){t.removeListener("active",i)};t.once("paused",o),t.once("active",i)}e.current_back_off=e.current_back_off||kp,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function bw(e){return Object.keys(e).sort(Ie).reduce(function(t,n){return t[n]=e[n],t},{})}function Iw(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Ie):"",i=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(bw(n.query_params))),n.filter&&n.filter==="_view"&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then(function(c){var l=c[0]+c[1]+i+s+o+r+a;return new Promise(function(f){Ku(l,f)})}).then(function(c){return c=c.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+c})}function mg(e,t,n,r,i){var o=[],s,a={seq:0,changes:[],docs:[]},c=!1,l=!1,f=!1,u=0,m=0,y=n.continuous||n.live||!1,E=n.batch_size||100,w=n.batches_limit||10,_=n.style||"all_docs",p=!1,g=n.doc_ids,d=n.selector,h,v,D=[],N=ts(),x;i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var A={};r.ready(e,t);function V(){return v?Promise.resolve():Iw(e,t,n).then(function(I){h=I;var M={};n.checkpoint===!1?M={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:n.checkpoint==="source"?M={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:n.checkpoint==="target"?M={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:M={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},v=new gg(e,t,h,r,M)})}function P(){if(D=[],s.docs.length!==0){var I=s.docs,M={timeout:n.timeout};return t.bulkDocs({docs:I,new_edits:!1},M).then(function(k){if(r.cancelled)throw C(),new Error("cancelled");var j=Object.create(null);k.forEach(function(ue){ue.error&&(j[ue.id]=ue)});var U=Object.keys(j).length;i.doc_write_failures+=U,i.docs_written+=I.length-U,I.forEach(function(ue){var Ee=j[ue._id];if(Ee){i.errors.push(Ee);var Se=(Ee.name||"").toLowerCase();if(Se==="unauthorized"||Se==="forbidden")r.emit("denied",xe(Ee));else throw Ee}else D.push(ue)})},function(k){throw i.doc_write_failures+=I.length,k})}}function K(){if(s.error)throw new Error("There was a problem getting docs.");i.last_seq=m=s.seq;var I=xe(i);return D.length&&(I.docs=D,typeof s.pending=="number"&&(I.pending=s.pending,delete s.pending),r.emit("change",I)),c=!0,e.info().then(function(M){var k=e.activeTasks.get(x);if(!(!s||!k)){var j=k.completed_items||0,U=parseInt(M.update_seq,10)-parseInt(u,10);e.activeTasks.update(x,{completed_items:j+s.changes.length,total_items:U})}}),v.writeCheckpoint(s.seq,N).then(function(){if(r.emit("checkpoint",{checkpoint:s.seq}),c=!1,r.cancelled)throw C(),new Error("cancelled");s=void 0,R()}).catch(function(M){throw O(M),M})}function L(){var I={};return s.changes.forEach(function(M){r.emit("checkpoint",{revs_diff:M}),M.id!=="_user/"&&(I[M.id]=M.changes.map(function(k){return k.rev}))}),t.revsDiff(I).then(function(M){if(r.cancelled)throw C(),new Error("cancelled");s.diffs=M})}function H(){return _w(e,t,s.diffs,r).then(function(I){s.error=!I.ok,I.docs.forEach(function(M){delete s.diffs[M._id],i.docs_read++,s.docs.push(M)})})}function J(){if(!(r.cancelled||s)){if(o.length===0){X(!0);return}s=o.shift(),r.emit("checkpoint",{start_next_batch:s.seq}),L().then(H).then(P).then(K).then(J).catch(function(I){ne("batch processing terminated with error",I)})}}function X(I){if(a.changes.length===0){o.length===0&&!s&&((y&&A.live||l)&&(r.state="pending",r.emit("paused")),l&&C());return}(I||l||a.changes.length>=E)&&(o.push(a),a={seq:0,changes:[],docs:[]},(r.state==="pending"||r.state==="stopped")&&(r.state="active",r.emit("active")),J())}function ne(I,M){f||(M.message||(M.message=I),i.ok=!1,i.status="aborting",o=[],a={seq:0,changes:[],docs:[]},C(M))}function C(I){if(!f&&!(r.cancelled&&(i.status="cancelled",c)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=m,f=!0,e.activeTasks.remove(x,I),I){I=Z(I),I.result=i;var M=(I.name||"").toLowerCase();M==="unauthorized"||M==="forbidden"?(r.emit("error",I),r.removeAllListeners()):ww(n,r,I,function(){mg(e,t,n,r)})}else r.emit("complete",i),r.removeAllListeners()}function b(I,M,k){if(r.cancelled)return C();typeof M=="number"&&(a.pending=M);var j=$u(n)(I);if(!j){var U=e.activeTasks.get(x);if(U){var ue=U.completed_items||0;e.activeTasks.update(x,{completed_items:++ue})}return}a.seq=I.seq||k,a.changes.push(I),r.emit("checkpoint",{pending_batch:a.seq}),jt(function(){X(o.length===0&&A.live)})}function T(I){if(p=!1,r.cancelled)return C();if(I.results.length>0)A.since=I.results[I.results.length-1].seq,R(),X(!0);else{var M=function(){y?(A.live=!0,R()):l=!0,X(!0)};!s&&I.results.length===0?(c=!0,v.writeCheckpoint(I.last_seq,N).then(function(){if(c=!1,i.last_seq=m=I.last_seq,r.cancelled)throw C(),new Error("cancelled");M()}).catch(O)):M()}}function S(I){if(p=!1,r.cancelled)return C();ne("changes rejected",I)}function R(){if(!(!p&&!l&&o.length<w))return;p=!0;function I(){k.cancel()}function M(){r.removeListener("cancel",I)}r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",I);var k=e.changes(A).on("change",b);k.then(M,M),k.then(T).catch(S),n.retry&&(r._changes=k,r._abortChanges=I)}function F(I){return e.info().then(function(M){var k=typeof n.since>"u"?parseInt(M.update_seq,10)-parseInt(I,10):parseInt(M.update_seq,10);return x=e.activeTasks.add({name:`${y?"continuous ":""}replication from ${M.db_name}`,total_items:k}),I})}function G(){V().then(function(){if(r.cancelled){C();return}return v.getCheckpoint().then(F).then(function(I){m=I,u=I,A={since:m,limit:E,batch_size:E,style:_,doc_ids:g,selector:d,return_docs:!0},n.filter&&(typeof n.filter!="string"?A.include_docs=!0:A.filter=n.filter),"heartbeat"in n&&(A.heartbeat=n.heartbeat),"timeout"in n&&(A.timeout=n.timeout),n.query_params&&(A.query_params=n.query_params),n.view&&(A.view=n.view),R()})}).catch(function(I){ne("getCheckpoint rejected with ",I)})}function O(I){c=!1,ne("writeCheckpoint completed with error",I)}if(r.cancelled){C();return}r._addedListeners||(r.once("cancel",C),typeof n.complete=="function"&&(r.once("error",n.complete),r.once("complete",function(I){n.complete(null,I)})),r._addedListeners=!0),typeof n.since>"u"?G():V().then(function(){return c=!0,v.writeCheckpoint(n.since,N)}).then(function(){if(c=!1,r.cancelled){C();return}m=n.since,G()}).catch(O)}var Pu=class extends Vt.default{constructor(){super(),this.cancelled=!1,this.state="pending";let t=new Promise((n,r)=>{this.once("complete",n),this.once("error",r)});this.then=function(n,r){return t.then(n,r)},this.catch=function(n){return t.catch(n)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(t,n){if(this._readyCalled)return;this._readyCalled=!0;let r=()=>{this.cancel()};t.once("destroyed",r),n.once("destroyed",r);function i(){t.removeListener("destroyed",r),n.removeListener("destroyed",r)}this.once("complete",i),this.once("error",i)}};function Xo(e,t){var n=t.PouchConstructor;return typeof e=="string"?new n(e,t):e}function Lu(e,t,n,r){if(typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Z(es,"`doc_ids` filter parameter is not a list.");n.complete=r,n=xe(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var i=new Pu(n),o=Xo(e,n),s=Xo(t,n);return mg(o,s,n,i),i}function Sw(e,t,n,r){return typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n=xe(n),n.PouchConstructor=n.PouchConstructor||this,e=Xo(e,n),t=Xo(t,n),new Vu(e,t,n,r)}var Vu=class extends Vt.default{constructor(t,n,r,i){super(),this.canceled=!1;let o=r.push?Object.assign({},r,r.push):r,s=r.pull?Object.assign({},r,r.pull):r;this.push=Lu(t,n,o),this.pull=Lu(n,t,s),this.pushPaused=!0,this.pullPaused=!0;let a=d=>{this.emit("change",{direction:"pull",change:d})},c=d=>{this.emit("change",{direction:"push",change:d})},l=d=>{this.emit("denied",{direction:"push",doc:d})},f=d=>{this.emit("denied",{direction:"pull",doc:d})},u=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},m=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},y=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},E=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})},w={},_=d=>(h,v)=>{(h==="change"&&(v===a||v===c)||h==="denied"&&(v===f||v===l)||h==="paused"&&(v===m||v===u)||h==="active"&&(v===E||v===y))&&(h in w||(w[h]={}),w[h][d]=!0,Object.keys(w[h]).length===2&&this.removeAllListeners(h))};r.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function p(d,h,v){d.listeners(h).indexOf(v)==-1&&d.on(h,v)}this.on("newListener",function(d){d==="change"?(p(this.pull,"change",a),p(this.push,"change",c)):d==="denied"?(p(this.pull,"denied",f),p(this.push,"denied",l)):d==="active"?(p(this.pull,"active",E),p(this.push,"active",y)):d==="paused"&&(p(this.pull,"paused",m),p(this.push,"paused",u))}),this.on("removeListener",function(d){d==="change"?(this.pull.removeListener("change",a),this.push.removeListener("change",c)):d==="denied"?(this.pull.removeListener("denied",f),this.push.removeListener("denied",l)):d==="active"?(this.pull.removeListener("active",E),this.push.removeListener("active",y)):d==="paused"&&(this.pull.removeListener("paused",m),this.push.removeListener("paused",u))}),this.pull.on("removeListener",_("pull")),this.push.on("removeListener",_("push"));let g=Promise.all([this.push,this.pull]).then(d=>{let h={push:d[0],pull:d[1]};return this.emit("complete",h),i&&i(null,h),this.removeAllListeners(),h},d=>{if(this.cancel(),i?i(d):this.emit("error",d),this.removeAllListeners(),i)throw d});this.then=function(d,h){return g.then(d,h)},this.catch=function(d){return g.catch(d)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}};function Mw(e){e.replicate=Lu,e.sync=Sw,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(n,r,i){return t.constructor.replicate(n,t,r,i)},to:function(n,r,i){return t.constructor.replicate(t,n,r,i)}}),this.replicateMethods}}),e.prototype.sync=function(t,n,r){return this.constructor.sync(this,t,n,r)}}Q.plugin(GC).plugin(XC).plugin(mw).plugin(Mw);var vg=Q;var Ir=class e{db;constructor(){this.db=this.createDatabase()}createDatabase(){let t=window.__POUCHDB_TEST_ADAPTER__,n=t?{adapter:t}:{};return new vg("scan-lab-observations",n)}saveScans(t){return $(this,null,function*(){if(t.length===0)return;let n=t.map(r=>Ae(Ce({},r),{_id:`${r.experimentId}_${r.scanIndex}`}));yield this.db.bulkDocs(n)})}getAllScans(){return $(this,null,function*(){return(yield this.db.allDocs({include_docs:!0})).rows.filter(n=>n.doc).map(n=>n.doc)})}getTotalScanCount(){return $(this,null,function*(){return(yield this.db.allDocs()).total_rows})}getTotalExperimentCount(){return $(this,null,function*(){let t=yield this.getAllScans();return new Set(t.map(r=>r.experimentId)).size})}exportToCSV(){return $(this,null,function*(){let t=yield this.getAllScans();if(t.length===0){alert("No data to export");return}t.sort((_,p)=>_.timestampMs!==p.timestampMs?_.timestampMs-p.timestampMs:_.scanIndex!==p.scanIndex?_.scanIndex-p.scanIndex:_.experimentId.localeCompare(p.experimentId));let r=[["experimentId","userName","targetScanStyle","targetClusterSize","scanIndex","timestampMs","deltaMs","elapsedMs","barcode"].join(",")];for(let _ of t){let p=[_.experimentId,this.escapeCSV(_.userName),_.targetScanStyle,_.targetClusterSize!==null?_.targetClusterSize.toString():"",_.scanIndex.toString(),_.timestampMs.toString(),_.deltaMs!==null?_.deltaMs.toString():"",_.elapsedMs.toString(),this.escapeCSV(_.barcode)];r.push(p.join(","))}let i=r.join(`
`),o=new Date,s=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),c=String(o.getDate()).padStart(2,"0"),l=String(o.getHours()).padStart(2,"0"),f=String(o.getMinutes()).padStart(2,"0"),u=String(o.getSeconds()).padStart(2,"0"),m=`scan-lab-observations_${s}-${a}-${c}_${l}${f}${u}.csv`,y=new Blob([i],{type:"text/csv"}),E=window.URL.createObjectURL(y),w=document.createElement("a");w.href=E,w.download=m,w.click(),window.URL.revokeObjectURL(E)})}escapeCSV(t){return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}deleteAllData(){return $(this,null,function*(){yield this.db.destroy(),this.db=this.createDatabase()})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})};var ns=class e{stateService=B($e);persistenceService=B(Ir);totalScans=Ge(0);totalExperiments=Ge(0);constructor(){Zr(()=>{this.stateService.statisticsRefresh(),this.loadStatistics()})}ngOnInit(){return $(this,null,function*(){yield this.loadStatistics()})}loadStatistics(){return $(this,null,function*(){try{let[t,n]=yield Promise.all([this.persistenceService.getTotalScanCount(),this.persistenceService.getTotalExperimentCount()]);this.totalScans.set(t),this.totalExperiments.set(n)}catch(t){console.error("Error loading statistics:",t)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-stored-data-stats"]],decls:14,vars:2,consts:[[1,"stored-data-panel"],[1,"panel-title"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"h2",1),Y(2,"Stored Data"),pe(),he(3,"div",2)(4,"div",3)(5,"span",4),Y(6,"Total Scans:"),pe(),he(7,"span",5),Y(8),pe()(),he(9,"div",3)(10,"span",4),Y(11,"Total Experiments:"),pe(),he(12,"span",5),Y(13),pe()()()()),n&2&&(me(8),He(r.totalScans()),me(5),He(r.totalExperiments()))},dependencies:[ut],styles:[".stored-data-panel[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border-secondary);padding:var(--spacing-sm);margin-top:var(--spacing-md)}.panel-title[_ngcontent-%COMP%]{font-size:var(--font-size-small);font-weight:400;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-secondary);margin:0 0 var(--spacing-xs) 0;padding-bottom:var(--spacing-xs);border-bottom:var(--border-width) solid var(--color-border-secondary)}.stats-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-sm)}.stat-label[_ngcontent-%COMP%]{font-size:var(--font-size-small);text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-secondary);white-space:nowrap}.stat-value[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:700;color:var(--color-text-primary);font-family:var(--font-family-mono)}"]})};function Tw(e,t){if(e&1){let n=Io();De(0,"button",5),Pe("click",function(){$r(n);let i=Fn();return Ur(i.onStart())}),Y(1," Start "),_e()}if(e&2){let n=Fn();Ct("disabled",!n.canStart())}}function Aw(e,t){if(e&1){let n=Io();De(0,"button",6),Pe("click",function(){$r(n);let i=Fn();return Ur(i.onComplete())}),Y(1," Complete "),_e()}}var rs=class e{stateService=B($e);persistenceService=B(Ir);mode=this.stateService.mode;canStart=this.stateService.canStart;onStart(){this.stateService.startExperiment()}onComplete(){return $(this,null,function*(){let t=this.stateService.completeExperiment();t.length>0?(yield this.persistenceService.saveScans(t),this.stateService.triggerStatisticsRefresh(),alert(`Experiment completed. ${t.length} scans saved.`)):alert("Experiment completed. No scans recorded.")})}onExport(){return $(this,null,function*(){yield this.persistenceService.exportToCSV()})}onDeleteAll(){return $(this,null,function*(){confirm("This will permanently delete all local data. Are you sure?")&&(yield this.persistenceService.deleteAllData(),this.stateService.triggerStatisticsRefresh(),alert("All data deleted."))})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-experiment-controls"]],decls:8,vars:3,consts:[[1,"controls"],[1,"btn-start",3,"disabled"],[1,"btn-complete"],[1,"btn-export",3,"click","disabled"],[1,"btn-delete",3,"click","disabled"],[1,"btn-start",3,"click","disabled"],[1,"btn-complete",3,"click"]],template:function(n,r){n&1&&(De(0,"div",0),On(1,Tw,2,1,"button",1)(2,Aw,2,0,"button",2),De(3,"button",3),Pe("click",function(){return r.onExport()}),Y(4," Export All CSV "),_e(),De(5,"button",4),Pe("click",function(){return r.onDeleteAll()}),Y(6," Delete All Data "),_e(),rn(7,"app-stored-data-stats"),_e()),n&2&&(me(),kn(r.mode()==="CONFIG"?1:2),me(2),Ct("disabled",r.mode()==="RUNNING"),me(2),Ct("disabled",r.mode()==="RUNNING"))},dependencies:[ut,ns],styles:[".controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);min-width:150px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-xl);background-color:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border-secondary);color:var(--color-text-primary);font-family:var(--font-family-mono);font-size:var(--font-size-base);cursor:pointer;text-transform:uppercase;letter-spacing:.05em;transition:all var(--transition-speed)}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-bg-tertiary);border-color:var(--color-accent-blue)}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:var(--opacity-disabled);cursor:not-allowed}.btn-start[_ngcontent-%COMP%]{border-color:var(--color-accent-blue)!important}.btn-start[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-accent-blue)!important;color:var(--color-accent-black)}.btn-complete[_ngcontent-%COMP%]{border-color:var(--color-accent-green)!important}.btn-complete[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-accent-green)!important;color:var(--color-accent-black)}.btn-delete[_ngcontent-%COMP%]{border-color:var(--color-accent-red)!important}.btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-accent-red)!important}"]})};var is=class e{stateService=B($e);mode=this.stateService.mode;scanCount=this.stateService.scanCount;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-experiment-hud"]],decls:13,vars:2,consts:[[1,"hud"],[1,"panel-title"],[1,"status"],[1,"status-label"],[1,"status-value"],[1,"scan-count"],[1,"count-label"],[1,"count-value"]],template:function(n,r){n&1&&(he(0,"div",0)(1,"h2",1),Y(2,"Current Experiment"),pe(),he(3,"div",2)(4,"span",3),Y(5,"Status:"),pe(),he(6,"span",4),Y(7),pe()(),he(8,"div",5)(9,"span",6),Y(10,"Scans:"),pe(),he(11,"span",7),Y(12),pe()()()),n&2&&(me(7),He(r.mode()),me(5),He(r.scanCount()))},dependencies:[ut],styles:[".hud[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-lg);padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--color-bg-secondary);border:var(--border-width-thick) solid var(--color-border-secondary);min-width:200px}.panel-title[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:400;text-transform:uppercase;letter-spacing:.1em;color:var(--color-text-secondary);margin:0 0 var(--spacing-sm) 0;border-bottom:var(--border-width) solid var(--color-border-secondary);padding-bottom:var(--spacing-sm)}.status[_ngcontent-%COMP%], .scan-count[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.status-label[_ngcontent-%COMP%], .count-label[_ngcontent-%COMP%]{font-size:var(--font-size-small);text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-secondary)}.status-value[_ngcontent-%COMP%]{font-size:var(--font-size-large);font-weight:700;color:var(--color-accent-blue)}.count-value[_ngcontent-%COMP%]{font-size:var(--font-size-huge);font-weight:700;color:var(--color-accent-green);letter-spacing:-.05em}"]})};var Nw=(e,t)=>t.scanIndex;function xw(e,t){e&1&&(he(0,"div",1),Y(1,"No scans recorded"),pe())}function Rw(e,t){if(e&1&&(he(0,"tr")(1,"td"),Y(2),pe(),he(3,"td"),Y(4),pe(),he(5,"td"),Y(6),pe(),he(7,"td"),Y(8),pe(),he(9,"td"),Y(10),pe()()),e&2){let n=t.$implicit;me(2),He(n.scanIndex),me(2),He(n.timestampMs),me(2),He(n.deltaMs!==null?n.deltaMs:""),me(2),He(n.elapsedMs),me(2),He(n.barcode)}}function Ow(e,t){if(e&1&&(he(0,"table")(1,"thead")(2,"tr")(3,"th"),Y(4,"Index"),pe(),he(5,"th"),Y(6,"Timestamp (ms)"),pe(),he(7,"th"),Y(8,"Delta (ms)"),pe(),he(9,"th"),Y(10,"Elapsed (ms)"),pe(),he(11,"th"),Y(12,"Barcode"),pe()()(),he(13,"tbody"),Fc(14,Rw,11,5,"tr",null,Nw),pe()()),e&2){let n=Fn();me(14),Pc(n.scansReversed())}}var os=class e{stateService=B($e);scansReversed=Pn(()=>[...this.stateService.scans()].reverse());static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-scan-grid"]],decls:3,vars:1,consts:[[1,"scan-grid"],[1,"empty-state"]],template:function(n,r){n&1&&(he(0,"div",0),On(1,xw,2,0,"div",1)(2,Ow,16,0,"table"),pe()),n&2&&(me(),kn(r.scansReversed().length===0?1:2))},dependencies:[ut],styles:[".scan-grid[_ngcontent-%COMP%]{width:100%;height:100%}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-2xl);color:var(--color-text-muted);font-size:var(--font-size-base);text-transform:uppercase;letter-spacing:.1em}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:var(--color-bg-secondary);font-size:var(--font-size-medium)}thead[_ngcontent-%COMP%]{background-color:var(--color-bg-panel);position:sticky;top:0}th[_ngcontent-%COMP%]{padding:var(--spacing-md);text-align:left;font-weight:400;text-transform:uppercase;letter-spacing:.05em;font-size:var(--font-size-small);color:var(--color-text-secondary);border-bottom:var(--border-width-thick) solid var(--color-border-primary)}td[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);border-bottom:var(--border-width) solid var(--color-border-subtle)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-hover)}td[_ngcontent-%COMP%]:nth-child(1){color:var(--color-accent-blue);font-weight:700}td[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(3), td[_ngcontent-%COMP%]:nth-child(4){font-family:var(--font-family-mono);color:var(--color-accent-green)}td[_ngcontent-%COMP%]:nth-child(5){font-family:var(--font-family-mono);color:var(--color-accent-orange);word-break:break-all}"]})};var ss=class e{stateService=B($e);buffer="";handleKeyDown(t){this.stateService.mode()==="RUNNING"&&(t.key==="Enter"?(t.preventDefault(),this.buffer.trim().length>0&&(this.stateService.recordScan(this.buffer),this.buffer="")):t.key.length===1?this.buffer+=t.key:t.key==="Backspace"&&this.buffer.length>0&&(this.buffer=this.buffer.slice(0,-1)))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-scan-capture"]],hostBindings:function(n,r){n&1&&Pe("keydown",function(o){return r.handleKeyDown(o)},fc)},decls:0,vars:0,template:function(n,r){},encapsulation:2})};var as=class e{title="Scan Lab Observations";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ze({type:e,selectors:[["app-root"]],decls:11,vars:1,consts:[[1,"app-container"],[1,"app-header"],[1,"control-strip"],[1,"scan-section"]],template:function(n,r){n&1&&(De(0,"div",0)(1,"header",1)(2,"h1"),Y(3),_e()(),De(4,"div",2),rn(5,"app-experiment-config")(6,"app-experiment-controls")(7,"app-experiment-hud"),_e(),De(8,"div",3),rn(9,"app-scan-grid"),_e(),rn(10,"app-scan-capture"),_e()),n&2&&(me(3),He(r.title))},dependencies:[ko,rs,is,os,ss],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:var(--color-bg-primary);color:var(--color-text-primary);font-family:var(--font-family-mono)}.app-header[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);padding:var(--spacing-lg) var(--spacing-2xl);border-bottom:var(--border-width-thick) solid var(--color-border-primary)}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-xlarge);font-weight:400;letter-spacing:.1em;text-transform:uppercase}.control-strip[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-2xl);padding:var(--spacing-xl) var(--spacing-2xl);background-color:var(--color-bg-tertiary);border-bottom:var(--border-width-thick) solid var(--color-border-primary);align-items:flex-start}.scan-section[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:var(--spacing-lg) var(--spacing-2xl)}"]})};Qc(as,Rh).catch(e=>console.error(e));
